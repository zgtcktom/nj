/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["$"] = factory();
	else
		root["$"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./core/arange.mjs":
/*!*************************!*\
  !*** ./core/arange.mjs ***!
  \*************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"arange\": () => (/* binding */ arange)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction arange(start, stop, step = 1) {\r\n\tif (stop == undefined) {\r\n\t\tstop = start;\r\n\t\tstart = 0;\r\n\t}\r\n\tlet size = (stop - start) / step;\r\n\tlet data = [];\r\n\tfor (let i = 0; i < size; i++) {\r\n\t\tdata[i] = start + i * step;\r\n\t}\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([size], data);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'arange',\r\n\t\t() => arange(3),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 2])\r\n\t)\r\n\t.add(\r\n\t\t'arange',\r\n\t\t() => arange(-10, 10),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\r\n\t)\r\n\t.add(\r\n\t\t'arange',\r\n\t\t() => arange(-10, 10, -1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([])\r\n\t)\r\n\t.add(\r\n\t\t'arange',\r\n\t\t() => arange(3, 7, 2),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([3, 5])\r\n\t)\r\n\t.add(\r\n\t\t'arange',\r\n\t\t() => arange(0, -10, -1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, -1, -2, -3, -4, -5, -6, -7, -8, -9])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/arange.mjs?");

/***/ }),

/***/ "./core/argsort.mjs":
/*!**************************!*\
  !*** ./core/argsort.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"argsort\": () => (/* binding */ argsort)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction argsort(a, axis = -1, key = null) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (axis == null) {\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel)(a);\r\n\t\taxis = 0;\r\n\t} else {\r\n\t\taxis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, a.ndim);\r\n\t}\r\n\r\n\tlet out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty_like)(a);\r\n\r\n\t// let Ni = a.shape.slice(0, axis);\r\n\t// let M = a.shape[axis];\r\n\t// let Nk = a.shape.slice(axis + 1);\r\n\r\n\t// let Si = a.strides.slice(0, axis);\r\n\t// let T = a.strides[axis];\r\n\t// let Sk = a.strides.slice(axis + 1);\r\n\r\n\t// let _Si = out.strides.slice(0, axis);\r\n\t// let _T = out.strides[axis];\r\n\t// let _Sk = out.strides.slice(axis + 1);\r\n\r\n\tlet tmp = Array(a.shape[axis]);\r\n\tlet indices = Array(a.shape[axis]);\r\n\tlet cmp = (i, j) => tmp[i] - tmp[j];\r\n\r\n\tlet shape = a.shape.slice();\r\n\tshape[axis] = 1;\r\n\r\n\tfor (let ii of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndindex)(shape)) {\r\n\t\t// for (let ii of ndindex(Ni)) {\r\n\t\t// \tfor (let kk of ndindex(Nk)) {\r\n\t\tlet { offset } = a;\r\n\t\tlet { offset: _offset } = out;\r\n\t\tfor (let i = 0; i < shape.length; i++) {\r\n\t\t\toffset += ii[i] * a.strides[i];\r\n\t\t\t_offset += ii[i] * out.strides[i];\r\n\t\t}\r\n\r\n\t\t// for (let i = 0; i < Si.length; i++) {\r\n\t\t// \toffset += ii[i] * Si[i];\r\n\t\t// \t_offset += ii[i] * _Si[i];\r\n\t\t// }\r\n\t\t// for (let i = 0; i < Sk.length; i++) {\r\n\t\t// \toffset += ii[i + Si.length + 1] * Sk[i];\r\n\t\t// \t_offset += ii[i + Si.length + 1] * _Sk[i];\r\n\t\t// }\r\n\t\tfor (let i = 0; i < a.shape[axis]; i++) {\r\n\t\t\tlet value = a.data[offset + i * a.strides[axis]];\r\n\t\t\ttmp[i] = key != null ? key(value) : value;\r\n\t\t\tindices[i] = i;\r\n\t\t}\r\n\t\tindices.sort(cmp);\r\n\t\tfor (let i = 0; i < a.shape[axis]; i++) {\r\n\t\t\tout.data[_offset + i * out.strides[axis]] = indices[i];\r\n\t\t}\r\n\t}\r\n\t// }\r\n\r\n\treturn out;\r\n}\r\n\r\nargsort(\r\n\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t[\r\n\t\t\t[0, 3],\r\n\t\t\t[2, 2],\r\n\t\t\t[2, 2],\r\n\t\t],\r\n\t\t[\r\n\t\t\t[8, 5],\r\n\t\t\t[4, 1],\r\n\t\t\t[6, -2],\r\n\t\t],\r\n\t]),\r\n\t0\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\targsort,\r\n\t\t() => argsort([3, 1, 2]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 0])\r\n\t)\r\n\t.add(\r\n\t\targsort,\r\n\t\t() =>\r\n\t\t\targsort(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[0, 3],\r\n\t\t\t\t\t[2, 2],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1],\r\n\t\t\t\t[1, 0],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\targsort,\r\n\t\t() =>\r\n\t\t\targsort(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[0, 3],\r\n\t\t\t\t\t[2, 2],\r\n\t\t\t\t]),\r\n\t\t\t\t1\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1],\r\n\t\t\t\t[0, 1],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\targsort,\r\n\t\t() =>\r\n\t\t\targsort(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[0, 3],\r\n\t\t\t\t\t\t[2, 2],\r\n\t\t\t\t\t\t[2, 2],\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[8, 5],\r\n\t\t\t\t\t\t[4, 1],\r\n\t\t\t\t\t\t[6, -2],\r\n\t\t\t\t\t],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 0],\r\n\t\t\t\t\t[0, 1],\r\n\t\t\t\t\t[0, 1],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[1, 1],\r\n\t\t\t\t\t[1, 0],\r\n\t\t\t\t\t[1, 0],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\targsort,\r\n\t\t() =>\r\n\t\t\targsort(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[0, 3],\r\n\t\t\t\t\t\t[2, 2],\r\n\t\t\t\t\t\t[2, 2],\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[8, 5],\r\n\t\t\t\t\t\t[4, 1],\r\n\t\t\t\t\t\t[6, -2],\r\n\t\t\t\t\t],\r\n\t\t\t\t]),\r\n\t\t\t\t1\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 1],\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[2, 0],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[2, 1],\r\n\t\t\t\t\t[0, 0],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\targsort,\r\n\t\t() =>\r\n\t\t\targsort(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[0, 3],\r\n\t\t\t\t\t\t[2, 2],\r\n\t\t\t\t\t\t[2, 2],\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[8, 5],\r\n\t\t\t\t\t\t[4, 1],\r\n\t\t\t\t\t\t[6, -2],\r\n\t\t\t\t\t],\r\n\t\t\t\t]),\r\n\t\t\t\t2\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 1],\r\n\t\t\t\t\t[0, 1],\r\n\t\t\t\t\t[0, 1],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[1, 0],\r\n\t\t\t\t\t[1, 0],\r\n\t\t\t\t\t[1, 0],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/argsort.mjs?");

/***/ }),

/***/ "./core/argwhere.mjs":
/*!***************************!*\
  !*** ./core/argwhere.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"argwhere\": () => (/* binding */ argwhere)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction argwhere(a) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tlet length = 0;\r\n\tlet data = [];\r\n\tfor (let [index, value] of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndenumerate)(a)) {\r\n\t\tif (!value) continue;\r\n\t\tdata.push(...index);\r\n\t\tlength++;\r\n\t}\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([length, a.ndim], data);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\targwhere,\r\n\t\t() => argwhere(55).shape,\r\n\t\t() => [1, 0]\r\n\t)\r\n\t.add(\r\n\t\targwhere,\r\n\t\t() => argwhere((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.greater)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6).reshape(2, 3), 1)),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 2],\r\n\t\t\t\t[1, 0],\r\n\t\t\t\t[1, 1],\r\n\t\t\t\t[1, 2],\r\n\t\t\t])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/argwhere.mjs?");

/***/ }),

/***/ "./core/arithmetic.mjs":
/*!*****************************!*\
  !*** ./core/arithmetic.mjs ***!
  \*****************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"divide\": () => (/* binding */ divide),\n/* harmony export */   \"floor_divide\": () => (/* binding */ floor_divide),\n/* harmony export */   \"mod\": () => (/* binding */ mod),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"power\": () => (/* binding */ power),\n/* harmony export */   \"remainder\": () => (/* binding */ remainder),\n/* harmony export */   \"subtract\": () => (/* binding */ subtract),\n/* harmony export */   \"true_divide\": () => (/* binding */ true_divide)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nconst add = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('add', (x1, x2) => x1 + x2);\r\n\r\nconst subtract = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('subtract', (x1, x2) => x1 - x2);\r\n\r\nconst multiply = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('multiply', (x1, x2) => x1 * x2);\r\n\r\nconst divide = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('divide', (x1, x2) => x1 / x2);\r\nconst true_divide = divide;\r\nconst floor_divide = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('floor_divide', (x1, x2) => (x1 / x2) | 0);\r\n\r\nconst mod = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('mod', (x1, x2) => ((x1 % x2) + x2) % x2);\r\nconst remainder = mod;\r\n\r\nconst power = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('power', (x1, x2) => x1 ** x2);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tadd,\r\n\t() => add((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(9.0).reshape([3, 3]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(3.0)),\r\n\t() =>\r\n\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[0, 2, 4],\r\n\t\t\t[3, 5, 7],\r\n\t\t\t[6, 8, 10],\r\n\t\t])\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tsubtract,\r\n\t\t() => subtract(1.0, 4.0),\r\n\t\t() => -3.0\r\n\t)\r\n\t.add(\r\n\t\tsubtract,\r\n\t\t() => subtract((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(9.0).reshape([3, 3]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(3.0)),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 0, 0],\r\n\t\t\t\t[3, 3, 3],\r\n\t\t\t\t[6, 6, 6],\r\n\t\t\t])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tmultiply,\r\n\t\t() => multiply(2.0, 4.0),\r\n\t\t() => 8.0\r\n\t)\r\n\t.add(\r\n\t\tsubtract,\r\n\t\t() => multiply((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(9.0).reshape([3, 3]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(3.0)),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1, 4],\r\n\t\t\t\t[0, 4, 10],\r\n\t\t\t\t[0, 7, 16],\r\n\t\t\t])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tdivide,\r\n\t\t() => divide(2.0, 4.0),\r\n\t\t() => 0.5\r\n\t)\r\n\t.add(\r\n\t\tdivide,\r\n\t\t() => divide((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(9.0).reshape([3, 3]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(3.0)),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[NaN, 1, 1],\r\n\t\t\t\t[Infinity, 4, 2.5],\r\n\t\t\t\t[Infinity, 7, 4],\r\n\t\t\t])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tmod,\r\n\t\t() => mod([4, 7], [2, 3]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1])\r\n\t)\r\n\t.add(\r\n\t\tmod,\r\n\t\t() => mod((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(7), 5),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 2, 3, 4, 0, 1])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tpower,\r\n\t\t() => power((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6), 3),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 8, 27, 64, 125])\r\n\t)\r\n\t.add(\r\n\t\tpower,\r\n\t\t() => power((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6), [1.0, 2.0, 3.0, 3.0, 2.0, 1.0]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 8, 27, 16, 5])\r\n\t)\r\n\t.add(\r\n\t\tpower,\r\n\t\t() =>\r\n\t\t\tpower(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6),\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2, 3, 3, 2, 1],\r\n\t\t\t\t\t[1, 2, 3, 3, 2, 1],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1, 8, 27, 16, 5],\r\n\t\t\t\t[0, 1, 8, 27, 16, 5],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tpower,\r\n\t\t() => power((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, 3, 2, 1])),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 8, 27, 16, 5])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/arithmetic.mjs?");

/***/ }),

/***/ "./core/array.mjs":
/*!************************!*\
  !*** ./core/array.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"array\": () => (/* binding */ array)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction flatten_with_shape(data, array, shape, level = 0) {\r\n\tif (level == shape.length) {\r\n\t\tdata.push(array instanceof _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray ? array.item() : array);\r\n\t\treturn;\r\n\t}\r\n\tfor (let i = 0; i < shape[level]; i++) {\r\n\t\tflatten_with_shape(data, array instanceof _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray ? array.get(i) : array[i], shape, level + 1);\r\n\t}\r\n}\r\n\r\nfunction array(a) {\r\n\tif (a instanceof _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray) {\r\n\t\tlet data;\r\n\t\tif (a.base == undefined) data = a.data.slice();\r\n\t\telse {\r\n\t\t\tdata = [];\r\n\t\t\tfor (let offset of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(a.shape, a.strides)) {\r\n\t\t\t\tdata.push(a.data[a.offset + offset]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(a.shape, data);\r\n\t}\r\n\tlet data = [];\r\n\tflatten_with_shape(data, a, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shape)(a));\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shape)(a), data);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'array',\r\n\t\t() => array([3.1, 9]),\r\n\t\t() => [3.1, 9]\r\n\t)\r\n\t.add(\r\n\t\t'array',\r\n\t\t() => array([[9, 6], 3.1, 9]).shape,\r\n\t\t() => [3]\r\n\t)\r\n\t.add(\r\n\t\t'array',\r\n\t\t() => array(5),\r\n\t\t() => 5\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/array.mjs?");

/***/ }),

/***/ "./core/array_equal.mjs":
/*!******************************!*\
  !*** ./core/array_equal.mjs ***!
  \******************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"array_equal\": () => (/* binding */ array_equal),\n/* harmony export */   \"array_equiv\": () => (/* binding */ array_equiv),\n/* harmony export */   \"shallow_array_equal\": () => (/* binding */ shallow_array_equal)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction shallow_array_equal(a, b) {\r\n\tif (a === b) return true;\r\n\tif (a.length !== b.length) return false;\r\n\tfor (let i = 0; i < a.length; i++) if (a[i] !== b[i]) return false;\r\n\treturn true;\r\n}\r\n\r\nconst equal_nan_map = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)(\r\n\t'nan_equal',\r\n\t(x1, x2) => x1 == x2 || (Number.isNaN(x1) && Number.isNaN(x2))\r\n);\r\n\r\nfunction array_equal(a1, a2, equal_nan = false) {\r\n\ta1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a1);\r\n\ta2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a2);\r\n\tif (!shallow_array_equal(a1.shape, a2.shape)) return false;\r\n\tif (equal_nan) return (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.all)(equal_nan_map(a1, a2));\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.all)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.equal)(a1, a2));\r\n}\r\n\r\nfunction array_equiv(a1, a2) {\r\n\ta1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a1);\r\n\ta2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a2);\r\n\tif (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcastable)(a1.shape, a2.shape)) return false;\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.all)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.equal)(a1, a2));\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tarray_equal,\r\n\t\t() => array_equal([1, 2], [1, 2]),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tarray_equal,\r\n\t\t() => array_equal((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2])),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tarray_equal,\r\n\t\t() => array_equal([1, 2], [1, 2, 3]),\r\n\t\t() => false\r\n\t)\r\n\t.add(\r\n\t\tarray_equal,\r\n\t\t() => array_equal([1, 2], [1, 4]),\r\n\t\t() => false\r\n\t)\r\n\t.add(\r\n\t\tarray_equal,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, NaN]);\r\n\t\t\treturn array_equal(a, a);\r\n\t\t},\r\n\t\t() => false\r\n\t)\r\n\t.add(\r\n\t\tarray_equal,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, NaN]);\r\n\t\t\treturn array_equal(a, a, true);\r\n\t\t},\r\n\t\t() => true\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tarray_equiv,\r\n\t\t() => array_equiv([1, 2], [1, 2]),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tarray_equiv,\r\n\t\t() => array_equiv([1, 2], [1, 3]),\r\n\t\t() => false\r\n\t)\r\n\t.add(\r\n\t\tarray_equiv,\r\n\t\t() =>\r\n\t\t\tarray_equiv(\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t]\r\n\t\t\t),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tarray_equiv,\r\n\t\t() =>\r\n\t\t\tarray_equiv(\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[\r\n\t\t\t\t\t[1, 2, 1, 2],\r\n\t\t\t\t\t[1, 2, 1, 2],\r\n\t\t\t\t]\r\n\t\t\t),\r\n\t\t() => false\r\n\t)\r\n\t.add(\r\n\t\tarray_equiv,\r\n\t\t() =>\r\n\t\t\tarray_equiv(\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[1, 3],\r\n\t\t\t\t]\r\n\t\t\t),\r\n\t\t() => false\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/array_equal.mjs?");

/***/ }),

/***/ "./core/asarray.mjs":
/*!**************************!*\
  !*** ./core/asarray.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"asarray\": () => (/* binding */ asarray)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction asarray(a) {\r\n\treturn a instanceof _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray ? a : (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(a);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'asarray',\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[3, 4],\r\n\t\t\t]);\r\n\t\t\treturn asarray(a) === a;\r\n\t\t},\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\t'asarray',\r\n\t\t() =>\r\n\t\t\tasarray([\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[3, 4],\r\n\t\t\t]),\r\n\t\t() => [\r\n\t\t\t[1, 2],\r\n\t\t\t[3, 4],\r\n\t\t]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/asarray.mjs?");

/***/ }),

/***/ "./core/ascontiguousarray.mjs":
/*!************************************!*\
  !*** ./core/ascontiguousarray.mjs ***!
  \************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ascontiguousarray\": () => (/* binding */ ascontiguousarray),\n/* harmony export */   \"contiguous\": () => (/* binding */ contiguous)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction contiguous(a) {\r\n\tlet { strides, shape, ndim, itemsize } = a;\r\n\tif (ndim == 0) return false;\r\n\t// if (shape[ndim - 1] != 1 && strides[ndim - 1] != itemsize) return false;\r\n\r\n\t// console.log('asda');\r\n\tfor (let i = ndim - 1; i >= 0; i--) {\r\n\t\tif (shape[i] > 1) {\r\n\t\t\t// console.log(itemsize, strides[i], itemsize * shape[i]);\r\n\t\t\tif (itemsize != strides[i]) return false;\r\n\t\t\titemsize *= shape[i];\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n\t// for (let i = ndim - 1; i > 0; i--) {\r\n\t// \tif (shape[i - 1] != 1 && shape[i] != 1 && strides[i] * shape[i] != strides[i - 1]) return false;\r\n\t// }\r\n\t// return true;\r\n}\r\n\r\nfunction ascontiguousarray(a) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (contiguous(a)) return a;\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(a);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tascontiguousarray,\r\n\t() => {\r\n\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([3, 1, 5]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , 3]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\t\t// console.log(a.shape, a.strides, a.itemsize);\r\n\t\treturn ascontiguousarray(a) === a;\r\n\t},\r\n\t() => true\r\n);\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tascontiguousarray,\r\n\t() => {\r\n\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([3, 4, 5]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\t\treturn ascontiguousarray(a) === a;\r\n\t},\r\n\t() => true\r\n);\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tascontiguousarray,\r\n\t() => {\r\n\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([3, 4, 5]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(1));\r\n\t\treturn ascontiguousarray(a) === a;\r\n\t},\r\n\t() => false\r\n);\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tascontiguousarray,\r\n\t() => {\r\n\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([3]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , -3]));\r\n\t\treturn ascontiguousarray(a) === a;\r\n\t},\r\n\t() => true\r\n);\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tascontiguousarray,\r\n\t() => {\r\n\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([2]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , 2]));\r\n\t\treturn ascontiguousarray(a) === a;\r\n\t},\r\n\t() => true\r\n);\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tascontiguousarray,\r\n\t() => {\r\n\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([3]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , 2]));\r\n\t\treturn ascontiguousarray(a) === a;\r\n\t},\r\n\t() => false\r\n);\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tascontiguousarray,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([3]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([1, 2]));\r\n\t\t\treturn ascontiguousarray(a) === a;\r\n\t\t},\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tascontiguousarray,\r\n\t\t() => {\r\n\t\t\tlet x, y;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([]);\r\n\t\t\ty = ascontiguousarray(x);\r\n\t\t\treturn x === y;\r\n\t\t},\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tascontiguousarray,\r\n\t\t() => {\r\n\t\t\tlet x, y;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(5);\r\n\t\t\ty = ascontiguousarray(x);\r\n\t\t\treturn x === y;\r\n\t\t},\r\n\t\t() => false\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/ascontiguousarray.mjs?");

/***/ }),

/***/ "./core/atleast.mjs":
/*!**************************!*\
  !*** ./core/atleast.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"atleast_1d\": () => (/* binding */ atleast_1d),\n/* harmony export */   \"atleast_2d\": () => (/* binding */ atleast_2d),\n/* harmony export */   \"atleast_3d\": () => (/* binding */ atleast_3d)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction atleast_1d(...arrays) {\r\n\tif (arrays.length != 1) {\r\n\t\tlet ret = [];\r\n\t\tfor (let array of arrays) ret.push(atleast_1d(array));\r\n\t\treturn ret;\r\n\t}\r\n\tlet array = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(arrays[0]);\r\n\tif (array.ndim >= 1) return array;\r\n\t// scalar array\r\n\tarray = array.copy();\r\n\tlet { data, itemsize } = array;\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([1], data, array, [itemsize], 0, itemsize);\r\n}\r\n\r\nfunction atleast_2d(...arrays) {\r\n\tif (arrays.length != 1) {\r\n\t\tlet ret = [];\r\n\t\tfor (let array of arrays) ret.push(atleast_2d(array));\r\n\t\treturn ret;\r\n\t}\r\n\tlet array = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(arrays[0]);\r\n\tif (array.ndim >= 2) return array;\r\n\tlet { shape, data, strides, offset, itemsize, ndim } = array;\r\n\tif (ndim == 1) {\r\n\t\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([1, shape[0]], data, array, [0, strides[0]], offset, itemsize);\r\n\t}\r\n\t// scalar array\r\n\tarray = array.copy();\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([1, 1], array.data, array, [itemsize, itemsize], 0, itemsize);\r\n}\r\n\r\nfunction atleast_3d(...arrays) {\r\n\tif (arrays.length != 1) {\r\n\t\tlet ret = [];\r\n\t\tfor (let array of arrays) ret.push(atleast_3d(array));\r\n\t\treturn ret;\r\n\t}\r\n\tlet array = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(arrays[0]);\r\n\tif (array.ndim >= 3) return array;\r\n\tlet { shape, data, strides, offset, itemsize, ndim } = array;\r\n\tif (ndim == 2) {\r\n\t\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(\r\n\t\t\t[shape[0], shape[1], 1],\r\n\t\t\tdata,\r\n\t\t\tarray,\r\n\t\t\t[strides[0], strides[1], 0],\r\n\t\t\toffset,\r\n\t\t\titemsize\r\n\t\t);\r\n\t}\r\n\tif (ndim == 1) {\r\n\t\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([1, shape[0], 1], data, array, [0, strides[0], 0], offset, itemsize);\r\n\t}\r\n\t// scalar array\r\n\tarray = array.copy();\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([1, 1, 1], array.data, array, [itemsize, itemsize, itemsize], 0, itemsize);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tatleast_1d,\r\n\t\t() => atleast_1d(1.0),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1])\r\n\t)\r\n\t.add(\r\n\t\tatleast_1d,\r\n\t\t() => atleast_1d(1, [3, 4]),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([3, 4])]\r\n\t)\r\n\t.add(\r\n\t\tatleast_1d,\r\n\t\t() => atleast_1d((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(9.0).reshape([3, 3])),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1, 2],\r\n\t\t\t\t[3, 4, 5],\r\n\t\t\t\t[6, 7, 8],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tatleast_1d,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1]);\r\n\t\t\tlet y = x.get(0);\r\n\t\t\tlet z = atleast_1d(y);\r\n\t\t\tz.set([0], -96);\r\n\t\t\treturn [\r\n\t\t\t\tx.toarray(),\r\n\t\t\t\ty.toarray(),\r\n\t\t\t\tz.toarray(),\r\n\t\t\t\tx.base === null,\r\n\t\t\t\ty.base === null,\r\n\t\t\t\tz.base != y,\r\n\t\t\t\tz.base,\r\n\t\t\t];\r\n\t\t},\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1]), 1, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([-96]), true, true, true, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(-96)]\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tatleast_2d,\r\n\t\t() => atleast_2d(3.0),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[3]])\r\n\t)\r\n\t.add(\r\n\t\tatleast_2d,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(3.0);\r\n\t\t\treturn [atleast_2d(x), atleast_2d(x).base === x];\r\n\t\t},\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[0, 1, 2]]), true]\r\n\t)\r\n\t.add(\r\n\t\tatleast_2d,\r\n\t\t() => atleast_2d(1, [1, 2], [[1, 2]]),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1]]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1, 2]]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1, 2]])]\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tatleast_3d,\r\n\t\t() => atleast_3d(3.0),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[3]]])\r\n\t)\r\n\t.add(\r\n\t\tatleast_3d,\r\n\t\t() => atleast_3d((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(3.0)).shape,\r\n\t\t() => [1, 3, 1]\r\n\t)\r\n\t.add(\r\n\t\tatleast_3d,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(12.0).reshape(4, 3);\r\n\t\t\treturn [atleast_3d(x).shape, atleast_3d(x).base === x.base];\r\n\t\t},\r\n\t\t() => [[4, 3, 1], true]\r\n\t)\r\n\t.add(\r\n\t\tatleast_3d,\r\n\t\t() => atleast_3d([1, 2], [[1, 2]], [[[1, 2]]]),\r\n\t\t() => [[[[1], [2]]], [[[1], [2]]], [[[1, 2]]]]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/atleast.mjs?");

/***/ }),

/***/ "./core/broadcast.mjs":
/*!****************************!*\
  !*** ./core/broadcast.mjs ***!
  \****************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Broadcast\": () => (/* binding */ Broadcast),\n/* harmony export */   \"broadcast\": () => (/* binding */ broadcast)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction _size(shape) {\r\n\tlet size = 1;\r\n\tfor (let dim of shape) size *= dim;\r\n\treturn size;\r\n}\r\n\r\n// function extend(function_, class_) {\r\n// \tfor (let name of Object.getOwnPropertyNames(class_)) {\r\n// \t\tlet method = class_.prototype[name];\r\n// \t\tfunction_[name] = (self, ...args) => method.apply(self, args);\r\n// \t}\r\n// \treturn function_;\r\n// }\r\n\r\nclass Broadcast {\r\n\tconstructor(arrays) {\r\n\t\tarrays = arrays.map(_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray);\r\n\t\tthis.numiter = arrays.length;\r\n\t\tthis.shape = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_shapes)(...arrays.map(array => array.shape));\r\n\t\tthis.arrays = arrays.map(array => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(array, this.shape));\r\n\t\tthis.ndim = this.shape.length;\r\n\t\tthis.size = _size(this.shape);\r\n\t\tthis.index = 0;\r\n\t\tthis.reset();\r\n\t}\r\n\r\n\t[Symbol.iterator]() {\r\n\t\tif (this.index != 0) this.reset();\r\n\t\treturn this;\r\n\t}\r\n\r\n\tnext() {\r\n\t\tlet value = this.iters.map(iter => iter.next().value);\r\n\t\tlet done = this.index >= this.size;\r\n\t\tthis.index++;\r\n\t\treturn { value, done };\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.iters = this.arrays.map(array => array.flat);\r\n\t\tthis.index = 0;\r\n\t}\r\n}\r\n\r\nfunction broadcast(...arrays) {\r\n\treturn new Broadcast(arrays);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tbroadcast,\r\n\t\t() => {\r\n\t\t\t`\r\n        out = np.empty(b.shape)\r\n        out.flat = [u+v for (u,v) in b]\r\n        out\r\n        array([[5.,  6.,  7.],\r\n               [6.,  7.,  8.],\r\n               [7.,  8.,  9.]])\r\n        `;\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1], [2], [3]]),\r\n\t\t\t\ty = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([4, 5, 6]),\r\n\t\t\t\tb = broadcast(x, y);\r\n\t\t\tlet out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(b.shape);\r\n\t\t\tlet flat = [];\r\n\t\t\tfor (let [u, v] of b) {\r\n\t\t\t\tflat.push(u + v);\r\n\t\t\t}\r\n\t\t\tout.flat = flat;\r\n\t\t\treturn out;\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[5, 6, 7],\r\n\t\t\t\t[6, 7, 8],\r\n\t\t\t\t[7, 8, 9],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tbroadcast,\r\n\t\t() => {\r\n\t\t\t`\r\n            >>> x = np.array([1, 2, 3])\r\n            >>> y = np.array([[4], [5], [6]])\r\n            >>> b = np.broadcast(x, y)\r\n            >>> b.index\r\n            0\r\n            >>> next(b), next(b), next(b)\r\n            ((1, 4), (2, 4), (3, 4))\r\n            >>> b.index\r\n            3\r\n            >>> b.reset()\r\n            >>> b.index\r\n            0\r\n            `;\r\n\t\t\tlet out = [];\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3]),\r\n\t\t\t\ty = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[4], [5], [6]]),\r\n\t\t\t\tb = broadcast(x, y);\r\n\t\t\tout.push(b.index);\r\n\t\t\tout.push(b.next().value, b.next().value, b.next().value);\r\n\t\t\tout.push(b.index);\r\n\t\t\tb.reset();\r\n\t\t\tout.push(b.index);\r\n\t\t\treturn out;\r\n\t\t},\r\n\t\t() => [0, [1, 4], [2, 4], [3, 4], 3, 0]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/broadcast.mjs?");

/***/ }),

/***/ "./core/broadcast_shapes.mjs":
/*!***********************************!*\
  !*** ./core/broadcast_shapes.mjs ***!
  \***********************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"broadcast_shapes\": () => (/* binding */ broadcast_shapes),\n/* harmony export */   \"broadcastable\": () => (/* binding */ broadcastable)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction broadcastable(...shapes) {\r\n\t// definitely can be optimized but whatever\r\n\tlet ndim = 0;\r\n\tfor (let shape of shapes) ndim = Math.max(ndim, shape.length);\r\n\tif (ndim == 0) return [];\r\n\r\n\tlet broadcasted = Array(ndim).fill(1);\r\n\tfor (let shape of shapes) {\r\n\t\tfor (let i = shape.length - 1, j = ndim - 1; i >= 0; i--, j--) {\r\n\t\t\tlet dim = shape[i];\r\n\t\t\tif (dim == 1) continue;\r\n\t\t\tif (broadcasted[j] == 1) broadcasted[j] = dim;\r\n\t\t\telse if (broadcasted[j] != dim) return false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction broadcast_shapes(...shapes) {\r\n\tlet ndim = 0;\r\n\tfor (let shape of shapes) ndim = Math.max(ndim, shape.length);\r\n\tif (ndim == 0) return [];\r\n\r\n\tlet broadcasted = Array(ndim).fill(1);\r\n\tfor (let shape of shapes) {\r\n\t\tfor (let i = shape.length - 1, j = ndim - 1; i >= 0; i--, j--) {\r\n\t\t\tlet dim = shape[i];\r\n\t\t\tif (dim == 1) continue;\r\n\t\t\tif (broadcasted[j] == 1) broadcasted[j] = dim;\r\n\t\t\telse if (broadcasted[j] != dim) throw 'shape mismatch';\r\n\t\t}\r\n\t}\r\n\treturn broadcasted;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'broadcast_shapes',\r\n\t() => broadcast_shapes([1, 2], [3, 1], [3, 2]),\r\n\t() => [3, 2]\r\n);\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'broadcast_shapes',\r\n\t() => broadcast_shapes([6, 7], [5, 6, 1], [7], [5, 1, 7]),\r\n\t() => [5, 6, 7]\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/broadcast_shapes.mjs?");

/***/ }),

/***/ "./core/broadcast_to.mjs":
/*!*******************************!*\
  !*** ./core/broadcast_to.mjs ***!
  \*******************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"broadcast_to\": () => (/* binding */ broadcast_to),\n/* harmony export */   \"broadcastable_to\": () => (/* binding */ broadcastable_to)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction broadcastable_to(srcshape, dstshape) {\r\n\tif (srcshape.length > dstshape.length) return false;\r\n\r\n\tfor (let i = dstshape.length - 1, j = srcshape.length - 1; j >= 0; i--, j--) {\r\n\t\tif (!(srcshape[j] == 1 || srcshape[j] == dstshape[i])) return false;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction broadcast_to(array, shape) {\r\n\tarray = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(array);\r\n\tif (array.shape.length > shape.length) throw 'broadcast shape has less dimensions than input array';\r\n\r\n\tlet { data, strides, offset, itemsize } = array;\r\n\r\n\tlet new_strides = [];\r\n\tfor (let i = shape.length - 1, j = array.shape.length - 1; i >= 0; i--, j--) {\r\n\t\tif (j >= 0 && array.shape[j] != 1 && array.shape[j] != shape[i])\r\n\t\t\tthrow 'operands could not be broadcast together';\r\n\t\tnew_strides[i] = j < 0 || array.shape[j] == 1 ? 0 : strides[j];\r\n\t}\r\n\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(shape, data, null, new_strides, offset, itemsize);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'broadcast_to',\r\n\t() => broadcast_to(new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([3], [1, 2, 3]), [3, 3]).toarray(),\r\n\t() => [\r\n\t\t[1, 2, 3],\r\n\t\t[1, 2, 3],\r\n\t\t[1, 2, 3],\r\n\t]\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'broadcast_to',\r\n\t() => broadcast_to(new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([1, 3, 1], [1, 2, 3]), [2, 3, 4]).toarray(),\r\n\t() => [\r\n\t\t[\r\n\t\t\t[1, 1, 1, 1],\r\n\t\t\t[2, 2, 2, 2],\r\n\t\t\t[3, 3, 3, 3],\r\n\t\t],\r\n\t\t[\r\n\t\t\t[1, 1, 1, 1],\r\n\t\t\t[2, 2, 2, 2],\r\n\t\t\t[3, 3, 3, 3],\r\n\t\t],\r\n\t]\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/broadcast_to.mjs?");

/***/ }),

/***/ "./core/clip.mjs":
/*!***********************!*\
  !*** ./core/clip.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clip\": () => (/* binding */ clip)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction clip(a, a_min, a_max, out = null) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty_like)(a);\r\n\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(a.shape, out.shape)) throw `out shape does not match input shape`;\r\n\tif ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.isscalar)(a_min) && (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.isscalar)(a_max)) {\r\n\t\tlet a_offset = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(a.shape, a.strides);\r\n\t\tfor (let offset of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(out.shape, out.strides)) {\r\n\t\t\tout.data[offset] = Math.min(Math.max(a_min, a.data[a_offset.next().value]), a_max);\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\ta_min = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(a_min, a.shape);\r\n\ta_max = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(a_max, a.shape);\r\n\tlet a_offset = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(a.shape, a.strides);\r\n\tlet a_min_offset = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(a_min.shape, a_min.strides);\r\n\tlet a_max_offset = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(a_max.shape, a_max.strides);\r\n\tfor (let offset of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(out.shape, out.strides)) {\r\n\t\tout.data[offset] = Math.min(\r\n\t\t\tMath.max(a_min.data[a_min_offset.next().value], a.data[a_offset.next().value]),\r\n\t\t\ta_max.data[a_max_offset.next().value]\r\n\t\t);\r\n\t}\r\n\treturn out;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tclip,\r\n\t\t() => clip((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(10), 1, 8),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 1, 2, 3, 4, 5, 6, 7, 8, 8])\r\n\t)\r\n\t.add(\r\n\t\tclip,\r\n\t\t() => clip((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(10), 8, 1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 1, 1, 1, 1, 1, 1, 1, 1, 1])\r\n\t)\r\n\t.add(\r\n\t\tclip,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(10);\r\n\r\n\t\t\treturn [clip(a, 3, 6, a), a];\r\n\t\t},\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([3, 3, 3, 3, 4, 5, 6, 6, 6, 6]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([3, 3, 3, 3, 4, 5, 6, 6, 6, 6])]\r\n\t)\r\n\t.add(\r\n\t\tclip,\r\n\t\t() => clip((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(10), [3, 4, 1, 1, 1, 4, 4, 4, 4, 4], 8),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([3, 4, 2, 3, 4, 5, 6, 7, 8, 8])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/clip.mjs?");

/***/ }),

/***/ "./core/comparison.mjs":
/*!*****************************!*\
  !*** ./core/comparison.mjs ***!
  \*****************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"equal\": () => (/* binding */ equal),\n/* harmony export */   \"greater\": () => (/* binding */ greater),\n/* harmony export */   \"greater_equal\": () => (/* binding */ greater_equal),\n/* harmony export */   \"less\": () => (/* binding */ less),\n/* harmony export */   \"less_equal\": () => (/* binding */ less_equal),\n/* harmony export */   \"not_equal\": () => (/* binding */ not_equal)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nconst equal = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('equal', (x1, x2) => x1 == x2);\r\n\r\nconst not_equal = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('not_equal', (x1, x2) => x1 != x2);\r\n\r\nconst less_equal = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('less_equal', (x1, x2) => x1 <= x2);\r\n\r\nconst less = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('less_equal', (x1, x2) => x1 < x2);\r\n\r\nconst greater_equal = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('less_equal', (x1, x2) => x1 >= x2);\r\n\r\nconst greater = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('less_equal', (x1, x2) => x1 > x2);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tequal,\r\n\t\t() => equal([0, 1, 3], (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(3)),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([true, true, false])\r\n\t)\r\n\t.add(\r\n\t\tequal,\r\n\t\t() => equal(1, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)(1)),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([true])\r\n\t)\r\n\t.add(\r\n\t\tequal,\r\n\t\t() => equal((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 4, 6]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 4, 2])),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([true, true, false])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tnot_equal,\r\n\t\t() => not_equal([1, 2], [1, 3]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([false, true])\r\n\t)\r\n\t.add(\r\n\t\tnot_equal,\r\n\t\t() =>\r\n\t\t\tnot_equal(\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[\r\n\t\t\t\t\t[1, 3],\r\n\t\t\t\t\t[1, 4],\r\n\t\t\t\t]\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[false, true],\r\n\t\t\t\t[false, true],\r\n\t\t\t])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tless_equal,\r\n\t() => less_equal([4, 2, 1], [2, 2, 2]),\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([false, true, true])\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tless,\r\n\t() => less([1, 2], [2, 2]),\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([true, false])\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tgreater_equal,\r\n\t() => greater_equal([4, 2, 1], [2, 2, 2]),\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([true, true, false])\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tgreater,\r\n\t() => greater([4, 2], [2, 2]),\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([true, false])\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/comparison.mjs?");

/***/ }),

/***/ "./core/compress.mjs":
/*!***************************!*\
  !*** ./core/compress.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"compress\": () => (/* binding */ compress)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction compress(condition, a, axis = null, out = null) {\r\n\tcondition = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(condition);\r\n\tif (condition.ndim != 1) throw 'condition must be a 1-d array';\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.take)(a, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.nonzero)(condition)[0], axis, out);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tcompress,\r\n\t\t() => {\r\n\t\t\treturn compress(\r\n\t\t\t\t[0, 1],\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t\t[5, 6],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[3, 4]])\r\n\t)\r\n\t.add(\r\n\t\tcompress,\r\n\t\t() => {\r\n\t\t\treturn compress(\r\n\t\t\t\t[false, true, true],\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t\t[5, 6],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[3, 4],\r\n\t\t\t\t[5, 6],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tcompress,\r\n\t\t() => {\r\n\t\t\treturn compress(\r\n\t\t\t\t[false, true],\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t\t[5, 6],\r\n\t\t\t\t]),\r\n\t\t\t\t1\r\n\t\t\t);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[2], [4], [6]])\r\n\t)\r\n\t.add(\r\n\t\tcompress,\r\n\t\t() => {\r\n\t\t\treturn compress(\r\n\t\t\t\t[false, true],\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t\t[5, 6],\r\n\t\t\t\t])\r\n\t\t\t);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/compress.mjs?");

/***/ }),

/***/ "./core/concatenate.mjs":
/*!******************************!*\
  !*** ./core/concatenate.mjs ***!
  \******************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"concatenate\": () => (/* binding */ concatenate)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction concatenate(arrays, axis = 0, out = null) {\r\n\tif (arrays.length <= 0) throw 'need at least one array to concatenate';\r\n\tarrays = arrays.map(_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray);\r\n\tif (axis == null) {\r\n\t\tarrays = arrays.map(_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel);\r\n\t\taxis = 0;\r\n\t}\r\n\tlet { ndim, shape } = arrays[0];\r\n\tif (ndim == 0) throw 'zero-dimensional arrays cannot be concatenated';\r\n\r\n\tfor (let i = 1; i < arrays.length; i++) {\r\n\t\tlet array = arrays[i];\r\n\t\tif (array.ndim != ndim) {\r\n\t\t\tthrow `all the input arrays must have same number of dimensions, but the array at index 0 has ${ndim} dimension(s) and the array at index ${i} has ${arrays[i].ndim} dimension(s)`;\r\n\t\t}\r\n\t\tfor (let j = 0; j < ndim; j++) {\r\n\t\t\tif (j != axis && array.shape[j] != shape[j]) {\r\n\t\t\t\tthrow `all the input array dimensions for the concatenation axis must match exactly, but along dimension ${j}, the array at index 0 has size ${shape[j]} and the array at index ${i} has size ${arrays[i].shape[j]}`;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taxis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, ndim);\r\n\r\n\tlet outshape = shape.slice();\r\n\toutshape[axis] = arrays.reduce((a, b) => a + b.shape[axis], 0);\r\n\r\n\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(outshape);\r\n\telse if (out.ndim != ndim) throw 'Output array has wrong dimensionality';\r\n\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(out.shape, outshape)) throw 'Output array is the wrong shape';\r\n\r\n\tlet slices = Array(ndim).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(':'));\r\n\tlet cumsum = 0;\r\n\tfor (let array of arrays) {\r\n\t\tslices[axis] = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(cumsum, (cumsum += array.shape[axis]));\r\n\t\tout.set(slices, array);\r\n\t}\r\n\r\n\treturn out;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tconcatenate,\r\n\t() => {\r\n\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[1, 2],\r\n\t\t\t[3, 4],\r\n\t\t]);\r\n\t\tlet b = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[5, 6]]);\r\n\t\treturn [concatenate([a, b], 0), concatenate([a, b.T], 1), concatenate([a, b], null)];\r\n\t},\r\n\t() => [\r\n\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[1, 2],\r\n\t\t\t[3, 4],\r\n\t\t\t[5, 6],\r\n\t\t]),\r\n\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[1, 2, 5],\r\n\t\t\t[3, 4, 6],\r\n\t\t]),\r\n\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, 4, 5, 6]),\r\n\t]\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/concatenate.mjs?");

/***/ }),

/***/ "./core/convolve.mjs":
/*!***************************!*\
  !*** ./core/convolve.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"convolve\": () => (/* binding */ convolve)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction convolve(a, v, mode = 'full') {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.atleast_1d)(a);\r\n\tv = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.atleast_1d)(v);\r\n\tif (a.size == 0) throw 'a cannot be empty';\r\n\tif (v.size == 0) throw 'v cannot be empty';\r\n\tif (a.ndim > 1 || v.ndim > 1) throw 'object too deep for desired array';\r\n\tif (v.ndim > a.ndim) {\r\n\t\tlet tmp = a;\r\n\t\ta = v;\r\n\t\tv = tmp;\r\n\t}\r\n\tlet length = a.size;\r\n\tif (mode == 'valid') length += 1 - v.size;\r\n\telse if (mode == 'full') length += v.size - 1;\r\n\telse if (mode != 'same') throw `mode must be one of 'valid', 'same', or 'full' (got '${mode}')`;\r\n\tlet data = Array(length);\r\n\tlet ind = 0;\r\n\tif (mode != 'valid') {\r\n\t\tfor (let i = 0; i < v.size - 1; i++) {\r\n\t\t\tlet sum = 0;\r\n\t\t\tfor (let j = i + 1, k = 0; j--; k++) {\r\n\t\t\t\tsum += a.item(k) * v.item(j);\r\n\t\t\t}\r\n\t\t\tdata[ind++] = sum;\r\n\t\t}\r\n\t}\r\n\tfor (let i = 0; i < a.size + 1 - v.size; i++) {\r\n\t\tlet sum = 0;\r\n\t\tfor (let j = 0, k = v.size - 1; j < v.size; j++, k--) sum += a.item(i + j) * v.item(k);\r\n\t\tdata[ind++] = sum;\r\n\t}\r\n\tif (mode != 'valid') {\r\n\t\tfor (let i = 0; i < v.size - 1; i++) {\r\n\t\t\tlet sum = 0;\r\n\t\t\tfor (let j = 0; j < v.size - 1 - i; j++) {\r\n\t\t\t\tsum += a.item(a.size - v.size + 1 + i + j) * v.item(v.size - 1 - j);\r\n\t\t\t}\r\n\t\t\tdata[ind++] = sum;\r\n\t\t}\r\n\t}\r\n\tif (mode == 'same') data = data.slice(((v.size - 1) / 2) | 0, (((v.size - 1) / 2) | 0) + length);\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([length], data);\r\n}\r\n\r\n// console.log(atleast_1d(10));\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tconvolve,\r\n\t\t() => convolve([1, 2, 3], [0, 1, 0.5]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 2.5, 4, 1.5])\r\n\t)\r\n\t.add(\r\n\t\tconvolve,\r\n\t\t() => convolve([1, 2, 3], [1, 0.5], 'full'),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2.5, 4, 1.5])\r\n\t)\r\n\t.add(\r\n\t\tconvolve,\r\n\t\t() => convolve([1, 2, 3], [0, 1, 0.5], 'same'),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2.5, 4])\r\n\t)\r\n\t.add(\r\n\t\tconvolve,\r\n\t\t() => convolve([1, 2, 3], [0, 1, 0.5], 'valid'),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2.5])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/convolve.mjs?");

/***/ }),

/***/ "./core/copy.mjs":
/*!***********************!*\
  !*** ./core/copy.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"copy\": () => (/* binding */ copy)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction copy(a) {\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(a);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tcopy,\r\n\t() => {\r\n\t\tlet x, y, z;\r\n\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3]);\r\n\t\ty = x;\r\n\t\tz = copy(x);\r\n\t\tx.set([0], 10);\r\n\t\treturn [x.item(0) == y.item(0), x.item(0) == z.item(0)];\r\n\t},\r\n\t() => [true, false]\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/copy.mjs?");

/***/ }),

/***/ "./core/copyto.mjs":
/*!*************************!*\
  !*** ./core/copyto.mjs ***!
  \*************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"copyto\": () => (/* binding */ copyto)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction copyto(dst, src, where = true) {\r\n\tif (where == true) {\r\n\t\tif (!(src instanceof _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray) && !Array.isArray(src)) {\r\n\t\t\tfor (let offset of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(dst.shape, dst.strides)) {\r\n\t\t\t\tdst.data[dst.offset + offset] = src;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsrc = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(src), dst.shape);\r\n\t\t\tlet it = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(src.shape, src.strides);\r\n\t\t\tfor (let offset of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(dst.shape, dst.strides)) {\r\n\t\t\t\tdst.data[dst.offset + offset] = src.data[src.offset + it.next().value];\r\n\t\t\t}\r\n\t\t\t// for (let index of ndindex(dst.shape)) {\r\n\t\t\t// \tdst.itemset(index, src.item(index));\r\n\t\t\t// }\r\n\t\t}\r\n\t} else {\r\n\t\tthrow `haven't implement`;\r\n\t}\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'copyto',\r\n\t\t() => {\r\n\t\t\tlet A = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)([4, 5, 6]);\r\n\t\t\tlet B = [1, 2, 3];\r\n\t\t\tcopyto(A, B);\r\n\t\t\treturn A;\r\n\t\t},\r\n\t\t() => [1, 2, 3]\r\n\t)\r\n\t.add(\r\n\t\t'copyto',\r\n\t\t() => {\r\n\t\t\tlet A = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)([\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t]);\r\n\t\t\tlet B = [\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t\t[7, 8, 9],\r\n\t\t\t];\r\n\t\t\tcopyto(A, B);\r\n\t\t\treturn A;\r\n\t\t},\r\n\t\t() => [\r\n\t\t\t[4, 5, 6],\r\n\t\t\t[7, 8, 9],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'copyto',\r\n\t\t() => {\r\n\t\t\tlet b = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)([\r\n\t\t\t\t[0, 1, 2],\r\n\t\t\t\t[3, 4, 5],\r\n\t\t\t]);\r\n\t\t\tcopyto(b.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), 1), [-1, -2]);\r\n\t\t\treturn b;\r\n\t\t},\r\n\t\t() => [\r\n\t\t\t[0, -1, 2],\r\n\t\t\t[3, -2, 5],\r\n\t\t]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/copyto.mjs?");

/***/ }),

/***/ "./core/core.mjs":
/*!***********************!*\
  !*** ./core/core.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Broadcast\": () => (/* reexport safe */ _broadcast_mjs__WEBPACK_IMPORTED_MODULE_25__.Broadcast),\n/* harmony export */   \"Flatiter\": () => (/* reexport safe */ _flat_mjs__WEBPACK_IMPORTED_MODULE_13__.Flatiter),\n/* harmony export */   \"Generator\": () => (/* reexport safe */ _random_mjs__WEBPACK_IMPORTED_MODULE_59__.Generator),\n/* harmony export */   \"NDArray\": () => (/* reexport safe */ _ndarray_mjs__WEBPACK_IMPORTED_MODULE_3__.NDArray),\n/* harmony export */   \"NINF\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.NINF),\n/* harmony export */   \"Nditer\": () => (/* reexport safe */ _numeric_mjs__WEBPACK_IMPORTED_MODULE_42__.Nditer),\n/* harmony export */   \"Slice\": () => (/* reexport safe */ _slice_mjs__WEBPACK_IMPORTED_MODULE_1__.Slice),\n/* harmony export */   \"Tester\": () => (/* reexport safe */ _test_Tester_mjs__WEBPACK_IMPORTED_MODULE_0__.Tester),\n/* harmony export */   \"_wrap_map\": () => (/* reexport safe */ _func_mjs__WEBPACK_IMPORTED_MODULE_46__._wrap_map),\n/* harmony export */   \"_wrap_map_binary\": () => (/* reexport safe */ _func_mjs__WEBPACK_IMPORTED_MODULE_46__._wrap_map_binary),\n/* harmony export */   \"_wrap_map_unary\": () => (/* reexport safe */ _func_mjs__WEBPACK_IMPORTED_MODULE_46__._wrap_map_unary),\n/* harmony export */   \"_wrap_reduce\": () => (/* reexport safe */ _func_mjs__WEBPACK_IMPORTED_MODULE_46__._wrap_reduce),\n/* harmony export */   \"abs\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.abs),\n/* harmony export */   \"absolute\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.absolute),\n/* harmony export */   \"add\": () => (/* reexport safe */ _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__.add),\n/* harmony export */   \"all\": () => (/* reexport safe */ _logic_mjs__WEBPACK_IMPORTED_MODULE_48__.all),\n/* harmony export */   \"amax\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.amax),\n/* harmony export */   \"amin\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.amin),\n/* harmony export */   \"any\": () => (/* reexport safe */ _logic_mjs__WEBPACK_IMPORTED_MODULE_48__.any),\n/* harmony export */   \"arange\": () => (/* reexport safe */ _arange_mjs__WEBPACK_IMPORTED_MODULE_16__.arange),\n/* harmony export */   \"arccos\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.arccos),\n/* harmony export */   \"arccosh\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.arccosh),\n/* harmony export */   \"arcsin\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.arcsin),\n/* harmony export */   \"arcsinh\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.arcsinh),\n/* harmony export */   \"arctan\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.arctan),\n/* harmony export */   \"arctan2\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.arctan2),\n/* harmony export */   \"arctanh\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.arctanh),\n/* harmony export */   \"argsort\": () => (/* reexport safe */ _argsort_mjs__WEBPACK_IMPORTED_MODULE_56__.argsort),\n/* harmony export */   \"argwhere\": () => (/* reexport safe */ _argwhere_mjs__WEBPACK_IMPORTED_MODULE_36__.argwhere),\n/* harmony export */   \"around\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.around),\n/* harmony export */   \"array\": () => (/* reexport safe */ _array_mjs__WEBPACK_IMPORTED_MODULE_4__.array),\n/* harmony export */   \"array_equal\": () => (/* reexport safe */ _array_equal_mjs__WEBPACK_IMPORTED_MODULE_43__.array_equal),\n/* harmony export */   \"array_equiv\": () => (/* reexport safe */ _array_equal_mjs__WEBPACK_IMPORTED_MODULE_43__.array_equiv),\n/* harmony export */   \"asarray\": () => (/* reexport safe */ _asarray_mjs__WEBPACK_IMPORTED_MODULE_10__.asarray),\n/* harmony export */   \"ascontiguousarray\": () => (/* reexport safe */ _ascontiguousarray_mjs__WEBPACK_IMPORTED_MODULE_21__.ascontiguousarray),\n/* harmony export */   \"atleast_1d\": () => (/* reexport safe */ _atleast_mjs__WEBPACK_IMPORTED_MODULE_24__.atleast_1d),\n/* harmony export */   \"atleast_2d\": () => (/* reexport safe */ _atleast_mjs__WEBPACK_IMPORTED_MODULE_24__.atleast_2d),\n/* harmony export */   \"atleast_3d\": () => (/* reexport safe */ _atleast_mjs__WEBPACK_IMPORTED_MODULE_24__.atleast_3d),\n/* harmony export */   \"average\": () => (/* reexport safe */ _statistics_mjs__WEBPACK_IMPORTED_MODULE_62__.average),\n/* harmony export */   \"axisfunc\": () => (/* reexport safe */ _count_nonzero_mjs__WEBPACK_IMPORTED_MODULE_41__.axisfunc),\n/* harmony export */   \"bincount\": () => (/* reexport safe */ _statistics_mjs__WEBPACK_IMPORTED_MODULE_62__.bincount),\n/* harmony export */   \"broadcast\": () => (/* reexport safe */ _broadcast_mjs__WEBPACK_IMPORTED_MODULE_25__.broadcast),\n/* harmony export */   \"broadcast_shapes\": () => (/* reexport safe */ _broadcast_shapes_mjs__WEBPACK_IMPORTED_MODULE_15__.broadcast_shapes),\n/* harmony export */   \"broadcast_to\": () => (/* reexport safe */ _broadcast_to_mjs__WEBPACK_IMPORTED_MODULE_6__.broadcast_to),\n/* harmony export */   \"broadcastable\": () => (/* reexport safe */ _broadcast_shapes_mjs__WEBPACK_IMPORTED_MODULE_15__.broadcastable),\n/* harmony export */   \"broadcastable_to\": () => (/* reexport safe */ _broadcast_to_mjs__WEBPACK_IMPORTED_MODULE_6__.broadcastable_to),\n/* harmony export */   \"cbrt\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.cbrt),\n/* harmony export */   \"ceil\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.ceil),\n/* harmony export */   \"choice\": () => (/* reexport safe */ _random_mjs__WEBPACK_IMPORTED_MODULE_59__.choice),\n/* harmony export */   \"clip\": () => (/* reexport safe */ _clip_mjs__WEBPACK_IMPORTED_MODULE_55__.clip),\n/* harmony export */   \"compress\": () => (/* reexport safe */ _compress_mjs__WEBPACK_IMPORTED_MODULE_37__.compress),\n/* harmony export */   \"concatenate\": () => (/* reexport safe */ _concatenate_mjs__WEBPACK_IMPORTED_MODULE_44__.concatenate),\n/* harmony export */   \"contiguous\": () => (/* reexport safe */ _ascontiguousarray_mjs__WEBPACK_IMPORTED_MODULE_21__.contiguous),\n/* harmony export */   \"convolve\": () => (/* reexport safe */ _convolve_mjs__WEBPACK_IMPORTED_MODULE_54__.convolve),\n/* harmony export */   \"copy\": () => (/* reexport safe */ _copy_mjs__WEBPACK_IMPORTED_MODULE_31__.copy),\n/* harmony export */   \"copysign\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.copysign),\n/* harmony export */   \"copyto\": () => (/* reexport safe */ _copyto_mjs__WEBPACK_IMPORTED_MODULE_7__.copyto),\n/* harmony export */   \"cos\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.cos),\n/* harmony export */   \"cosh\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.cosh),\n/* harmony export */   \"count_nonzero\": () => (/* reexport safe */ _count_nonzero_mjs__WEBPACK_IMPORTED_MODULE_41__.count_nonzero),\n/* harmony export */   \"cross\": () => (/* reexport safe */ _cross_mjs__WEBPACK_IMPORTED_MODULE_52__.cross),\n/* harmony export */   \"cumprod\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.cumprod),\n/* harmony export */   \"cumsum\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.cumsum),\n/* harmony export */   \"deg2rad\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.deg2rad),\n/* harmony export */   \"degrees\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.degrees),\n/* harmony export */   \"diff\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.diff),\n/* harmony export */   \"divide\": () => (/* reexport safe */ _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__.divide),\n/* harmony export */   \"e\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.e),\n/* harmony export */   \"ediff1d\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.ediff1d),\n/* harmony export */   \"empty\": () => (/* reexport safe */ _empty_mjs__WEBPACK_IMPORTED_MODULE_11__.empty),\n/* harmony export */   \"empty_like\": () => (/* reexport safe */ _empty_mjs__WEBPACK_IMPORTED_MODULE_11__.empty_like),\n/* harmony export */   \"equal\": () => (/* reexport safe */ _comparison_mjs__WEBPACK_IMPORTED_MODULE_50__.equal),\n/* harmony export */   \"even_strides\": () => (/* reexport safe */ _reshape_mjs__WEBPACK_IMPORTED_MODULE_12__.even_strides),\n/* harmony export */   \"exp\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.exp),\n/* harmony export */   \"exp2\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.exp2),\n/* harmony export */   \"expand_dims\": () => (/* reexport safe */ _expand_dims_mjs__WEBPACK_IMPORTED_MODULE_29__.expand_dims),\n/* harmony export */   \"expm1\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.expm1),\n/* harmony export */   \"extract\": () => (/* reexport safe */ _extract_mjs__WEBPACK_IMPORTED_MODULE_39__.extract),\n/* harmony export */   \"eye\": () => (/* reexport safe */ _eye_mjs__WEBPACK_IMPORTED_MODULE_26__.eye),\n/* harmony export */   \"fix\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.fix),\n/* harmony export */   \"flatnonzero\": () => (/* reexport safe */ _flatnonzero_mjs__WEBPACK_IMPORTED_MODULE_40__.flatnonzero),\n/* harmony export */   \"floor\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.floor),\n/* harmony export */   \"floor_divide\": () => (/* reexport safe */ _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__.floor_divide),\n/* harmony export */   \"fmod\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.fmod),\n/* harmony export */   \"fromfunction\": () => (/* reexport safe */ _fromfunction_mjs__WEBPACK_IMPORTED_MODULE_32__.fromfunction),\n/* harmony export */   \"fromiter\": () => (/* reexport safe */ _fromiter_mjs__WEBPACK_IMPORTED_MODULE_33__.fromiter),\n/* harmony export */   \"full\": () => (/* reexport safe */ _full_mjs__WEBPACK_IMPORTED_MODULE_14__.full),\n/* harmony export */   \"gcd\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.gcd),\n/* harmony export */   \"gradient\": () => (/* reexport safe */ _gradient_mjs__WEBPACK_IMPORTED_MODULE_51__.gradient),\n/* harmony export */   \"greater\": () => (/* reexport safe */ _comparison_mjs__WEBPACK_IMPORTED_MODULE_50__.greater),\n/* harmony export */   \"greater_equal\": () => (/* reexport safe */ _comparison_mjs__WEBPACK_IMPORTED_MODULE_50__.greater_equal),\n/* harmony export */   \"hypot\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.hypot),\n/* harmony export */   \"identity\": () => (/* reexport safe */ _identity_mjs__WEBPACK_IMPORTED_MODULE_27__.identity),\n/* harmony export */   \"indices\": () => (/* reexport safe */ _indices_mjs__WEBPACK_IMPORTED_MODULE_63__.indices),\n/* harmony export */   \"inf\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.inf),\n/* harmony export */   \"interp\": () => (/* reexport safe */ _interp_mjs__WEBPACK_IMPORTED_MODULE_58__.interp),\n/* harmony export */   \"isfinite\": () => (/* reexport safe */ _logic_mjs__WEBPACK_IMPORTED_MODULE_48__.isfinite),\n/* harmony export */   \"isinf\": () => (/* reexport safe */ _logic_mjs__WEBPACK_IMPORTED_MODULE_48__.isinf),\n/* harmony export */   \"isna\": () => (/* reexport safe */ _logic_mjs__WEBPACK_IMPORTED_MODULE_48__.isna),\n/* harmony export */   \"isneginf\": () => (/* reexport safe */ _logic_mjs__WEBPACK_IMPORTED_MODULE_48__.isneginf),\n/* harmony export */   \"isposinf\": () => (/* reexport safe */ _logic_mjs__WEBPACK_IMPORTED_MODULE_48__.isposinf),\n/* harmony export */   \"isscalar\": () => (/* reexport safe */ _isscalar_mjs__WEBPACK_IMPORTED_MODULE_2__.isscalar),\n/* harmony export */   \"ix_\": () => (/* reexport safe */ _ix_mjs__WEBPACK_IMPORTED_MODULE_64__.ix_),\n/* harmony export */   \"lcm\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.lcm),\n/* harmony export */   \"ldexp\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.ldexp),\n/* harmony export */   \"less\": () => (/* reexport safe */ _comparison_mjs__WEBPACK_IMPORTED_MODULE_50__.less),\n/* harmony export */   \"less_equal\": () => (/* reexport safe */ _comparison_mjs__WEBPACK_IMPORTED_MODULE_50__.less_equal),\n/* harmony export */   \"linspace\": () => (/* reexport safe */ _linspace_mjs__WEBPACK_IMPORTED_MODULE_17__.linspace),\n/* harmony export */   \"log\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.log),\n/* harmony export */   \"log10\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.log10),\n/* harmony export */   \"log1p\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.log1p),\n/* harmony export */   \"log2\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.log2),\n/* harmony export */   \"logaddexp\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.logaddexp),\n/* harmony export */   \"logaddexp2\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.logaddexp2),\n/* harmony export */   \"maximum\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.maximum),\n/* harmony export */   \"mean\": () => (/* reexport safe */ _statistics_mjs__WEBPACK_IMPORTED_MODULE_62__.mean),\n/* harmony export */   \"minimum\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.minimum),\n/* harmony export */   \"mod\": () => (/* reexport safe */ _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__.mod),\n/* harmony export */   \"moveaxis\": () => (/* reexport safe */ _moveaxis_mjs__WEBPACK_IMPORTED_MODULE_45__.moveaxis),\n/* harmony export */   \"multiply\": () => (/* reexport safe */ _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__.multiply),\n/* harmony export */   \"nan\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.nan),\n/* harmony export */   \"nan_to_num\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.nan_to_num),\n/* harmony export */   \"nancumprod\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.nancumprod),\n/* harmony export */   \"nancumsum\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.nancumsum),\n/* harmony export */   \"nanprod\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.nanprod),\n/* harmony export */   \"nansum\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.nansum),\n/* harmony export */   \"ndenumerate\": () => (/* reexport safe */ _ndenumerate_mjs__WEBPACK_IMPORTED_MODULE_35__.ndenumerate),\n/* harmony export */   \"ndim\": () => (/* reexport safe */ _ndim_mjs__WEBPACK_IMPORTED_MODULE_28__.ndim),\n/* harmony export */   \"ndindex\": () => (/* reexport safe */ _ndindex_mjs__WEBPACK_IMPORTED_MODULE_8__.ndindex),\n/* harmony export */   \"nditer\": () => (/* reexport safe */ _numeric_mjs__WEBPACK_IMPORTED_MODULE_42__.nditer),\n/* harmony export */   \"ndoffset\": () => (/* reexport safe */ _ndoffset_mjs__WEBPACK_IMPORTED_MODULE_9__.ndoffset),\n/* harmony export */   \"negative\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.negative),\n/* harmony export */   \"nonzero\": () => (/* reexport safe */ _nonzero_mjs__WEBPACK_IMPORTED_MODULE_34__.nonzero),\n/* harmony export */   \"normalize_axis\": () => (/* reexport safe */ _numeric_mjs__WEBPACK_IMPORTED_MODULE_42__.normalize_axis),\n/* harmony export */   \"normalize_axis_index\": () => (/* reexport safe */ _func_mjs__WEBPACK_IMPORTED_MODULE_46__.normalize_axis_index),\n/* harmony export */   \"normalize_axis_mask\": () => (/* reexport safe */ _func_mjs__WEBPACK_IMPORTED_MODULE_46__.normalize_axis_mask),\n/* harmony export */   \"normalize_axis_tuple\": () => (/* reexport safe */ _numeric_mjs__WEBPACK_IMPORTED_MODULE_42__.normalize_axis_tuple),\n/* harmony export */   \"not_equal\": () => (/* reexport safe */ _comparison_mjs__WEBPACK_IMPORTED_MODULE_50__.not_equal),\n/* harmony export */   \"ogrid\": () => (/* reexport safe */ _ogrid_mjs__WEBPACK_IMPORTED_MODULE_61__.ogrid),\n/* harmony export */   \"ones\": () => (/* reexport safe */ _ones_mjs__WEBPACK_IMPORTED_MODULE_19__.ones),\n/* harmony export */   \"pi\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.pi),\n/* harmony export */   \"pick\": () => (/* reexport safe */ _random_mjs__WEBPACK_IMPORTED_MODULE_59__.pick),\n/* harmony export */   \"positive\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.positive),\n/* harmony export */   \"power\": () => (/* reexport safe */ _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__.power),\n/* harmony export */   \"prod\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.prod),\n/* harmony export */   \"ptp\": () => (/* reexport safe */ _statistics_mjs__WEBPACK_IMPORTED_MODULE_62__.ptp),\n/* harmony export */   \"rad2deg\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.rad2deg),\n/* harmony export */   \"radians\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.radians),\n/* harmony export */   \"rand\": () => (/* reexport safe */ _random_mjs__WEBPACK_IMPORTED_MODULE_59__.rand),\n/* harmony export */   \"random\": () => (/* reexport safe */ _random_mjs__WEBPACK_IMPORTED_MODULE_59__.random),\n/* harmony export */   \"random_sample\": () => (/* reexport safe */ _random_mjs__WEBPACK_IMPORTED_MODULE_59__.random_sample),\n/* harmony export */   \"ranf\": () => (/* reexport safe */ _random_mjs__WEBPACK_IMPORTED_MODULE_59__.ranf),\n/* harmony export */   \"ravel\": () => (/* reexport safe */ _ravel_mjs__WEBPACK_IMPORTED_MODULE_38__.ravel),\n/* harmony export */   \"reciprocal\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.reciprocal),\n/* harmony export */   \"remainder\": () => (/* reexport safe */ _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__.remainder),\n/* harmony export */   \"reshape\": () => (/* reexport safe */ _reshape_mjs__WEBPACK_IMPORTED_MODULE_12__.reshape),\n/* harmony export */   \"rint\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.rint),\n/* harmony export */   \"sample\": () => (/* reexport safe */ _random_mjs__WEBPACK_IMPORTED_MODULE_59__.sample),\n/* harmony export */   \"shallow_array_equal\": () => (/* reexport safe */ _array_equal_mjs__WEBPACK_IMPORTED_MODULE_43__.shallow_array_equal),\n/* harmony export */   \"shape\": () => (/* reexport safe */ _shape_mjs__WEBPACK_IMPORTED_MODULE_5__.shape),\n/* harmony export */   \"sign\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.sign),\n/* harmony export */   \"signbit\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.signbit),\n/* harmony export */   \"sin\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.sin),\n/* harmony export */   \"sinh\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.sinh),\n/* harmony export */   \"slice\": () => (/* reexport safe */ _slice_mjs__WEBPACK_IMPORTED_MODULE_1__.slice),\n/* harmony export */   \"sort\": () => (/* reexport safe */ _sort_mjs__WEBPACK_IMPORTED_MODULE_57__.sort),\n/* harmony export */   \"sqrt\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.sqrt),\n/* harmony export */   \"square\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.square),\n/* harmony export */   \"squeeze\": () => (/* reexport safe */ _squeeze_mjs__WEBPACK_IMPORTED_MODULE_30__.squeeze),\n/* harmony export */   \"std\": () => (/* reexport safe */ _statistics_mjs__WEBPACK_IMPORTED_MODULE_62__.std),\n/* harmony export */   \"subtract\": () => (/* reexport safe */ _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__.subtract),\n/* harmony export */   \"sum\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.sum),\n/* harmony export */   \"swapaxes\": () => (/* reexport safe */ _swapaxes_mjs__WEBPACK_IMPORTED_MODULE_22__.swapaxes),\n/* harmony export */   \"take\": () => (/* reexport safe */ _take_mjs__WEBPACK_IMPORTED_MODULE_18__.take),\n/* harmony export */   \"tan\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.tan),\n/* harmony export */   \"tanh\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.tanh),\n/* harmony export */   \"tester\": () => (/* reexport safe */ _test_Tester_mjs__WEBPACK_IMPORTED_MODULE_0__.tester),\n/* harmony export */   \"timeit\": () => (/* reexport safe */ _test_Tester_mjs__WEBPACK_IMPORTED_MODULE_0__.timeit),\n/* harmony export */   \"timeit2\": () => (/* reexport safe */ _test_Tester_mjs__WEBPACK_IMPORTED_MODULE_0__.timeit2),\n/* harmony export */   \"transpose\": () => (/* reexport safe */ _transpose_mjs__WEBPACK_IMPORTED_MODULE_23__.transpose),\n/* harmony export */   \"trapz\": () => (/* reexport safe */ _trapz_mjs__WEBPACK_IMPORTED_MODULE_53__.trapz),\n/* harmony export */   \"true_divide\": () => (/* reexport safe */ _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__.true_divide),\n/* harmony export */   \"trunc\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.trunc),\n/* harmony export */   \"unwrap\": () => (/* reexport safe */ _math_mjs__WEBPACK_IMPORTED_MODULE_49__.unwrap),\n/* harmony export */   \"use_advanced_indexing\": () => (/* reexport safe */ _ndarray_mjs__WEBPACK_IMPORTED_MODULE_3__.use_advanced_indexing),\n/* harmony export */   \"variance\": () => (/* reexport safe */ _statistics_mjs__WEBPACK_IMPORTED_MODULE_62__.variance),\n/* harmony export */   \"where\": () => (/* reexport safe */ _where_mjs__WEBPACK_IMPORTED_MODULE_60__.where),\n/* harmony export */   \"zeros\": () => (/* reexport safe */ _zeros_mjs__WEBPACK_IMPORTED_MODULE_20__.zeros)\n/* harmony export */ });\n/* harmony import */ var _test_Tester_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test/Tester.mjs */ \"./core/test/Tester.mjs\");\n/* harmony import */ var _slice_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./slice.mjs */ \"./core/slice.mjs\");\n/* harmony import */ var _isscalar_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isscalar.mjs */ \"./core/isscalar.mjs\");\n/* harmony import */ var _ndarray_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ndarray.mjs */ \"./core/ndarray.mjs\");\n/* harmony import */ var _array_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./array.mjs */ \"./core/array.mjs\");\n/* harmony import */ var _shape_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shape.mjs */ \"./core/shape.mjs\");\n/* harmony import */ var _broadcast_to_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./broadcast_to.mjs */ \"./core/broadcast_to.mjs\");\n/* harmony import */ var _copyto_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./copyto.mjs */ \"./core/copyto.mjs\");\n/* harmony import */ var _ndindex_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ndindex.mjs */ \"./core/ndindex.mjs\");\n/* harmony import */ var _ndoffset_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ndoffset.mjs */ \"./core/ndoffset.mjs\");\n/* harmony import */ var _asarray_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./asarray.mjs */ \"./core/asarray.mjs\");\n/* harmony import */ var _empty_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./empty.mjs */ \"./core/empty.mjs\");\n/* harmony import */ var _reshape_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./reshape.mjs */ \"./core/reshape.mjs\");\n/* harmony import */ var _flat_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./flat.mjs */ \"./core/flat.mjs\");\n/* harmony import */ var _full_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./full.mjs */ \"./core/full.mjs\");\n/* harmony import */ var _broadcast_shapes_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./broadcast_shapes.mjs */ \"./core/broadcast_shapes.mjs\");\n/* harmony import */ var _arange_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./arange.mjs */ \"./core/arange.mjs\");\n/* harmony import */ var _linspace_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./linspace.mjs */ \"./core/linspace.mjs\");\n/* harmony import */ var _take_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./take.mjs */ \"./core/take.mjs\");\n/* harmony import */ var _ones_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ones.mjs */ \"./core/ones.mjs\");\n/* harmony import */ var _zeros_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./zeros.mjs */ \"./core/zeros.mjs\");\n/* harmony import */ var _ascontiguousarray_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ascontiguousarray.mjs */ \"./core/ascontiguousarray.mjs\");\n/* harmony import */ var _swapaxes_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./swapaxes.mjs */ \"./core/swapaxes.mjs\");\n/* harmony import */ var _transpose_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./transpose.mjs */ \"./core/transpose.mjs\");\n/* harmony import */ var _atleast_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./atleast.mjs */ \"./core/atleast.mjs\");\n/* harmony import */ var _broadcast_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./broadcast.mjs */ \"./core/broadcast.mjs\");\n/* harmony import */ var _eye_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./eye.mjs */ \"./core/eye.mjs\");\n/* harmony import */ var _identity_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./identity.mjs */ \"./core/identity.mjs\");\n/* harmony import */ var _ndim_mjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ndim.mjs */ \"./core/ndim.mjs\");\n/* harmony import */ var _expand_dims_mjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./expand_dims.mjs */ \"./core/expand_dims.mjs\");\n/* harmony import */ var _squeeze_mjs__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./squeeze.mjs */ \"./core/squeeze.mjs\");\n/* harmony import */ var _copy_mjs__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./copy.mjs */ \"./core/copy.mjs\");\n/* harmony import */ var _fromfunction_mjs__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./fromfunction.mjs */ \"./core/fromfunction.mjs\");\n/* harmony import */ var _fromiter_mjs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./fromiter.mjs */ \"./core/fromiter.mjs\");\n/* harmony import */ var _nonzero_mjs__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./nonzero.mjs */ \"./core/nonzero.mjs\");\n/* harmony import */ var _ndenumerate_mjs__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./ndenumerate.mjs */ \"./core/ndenumerate.mjs\");\n/* harmony import */ var _argwhere_mjs__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./argwhere.mjs */ \"./core/argwhere.mjs\");\n/* harmony import */ var _compress_mjs__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./compress.mjs */ \"./core/compress.mjs\");\n/* harmony import */ var _ravel_mjs__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./ravel.mjs */ \"./core/ravel.mjs\");\n/* harmony import */ var _extract_mjs__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./extract.mjs */ \"./core/extract.mjs\");\n/* harmony import */ var _flatnonzero_mjs__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./flatnonzero.mjs */ \"./core/flatnonzero.mjs\");\n/* harmony import */ var _count_nonzero_mjs__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./count_nonzero.mjs */ \"./core/count_nonzero.mjs\");\n/* harmony import */ var _numeric_mjs__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./numeric.mjs */ \"./core/numeric.mjs\");\n/* harmony import */ var _array_equal_mjs__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./array_equal.mjs */ \"./core/array_equal.mjs\");\n/* harmony import */ var _concatenate_mjs__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./concatenate.mjs */ \"./core/concatenate.mjs\");\n/* harmony import */ var _moveaxis_mjs__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./moveaxis.mjs */ \"./core/moveaxis.mjs\");\n/* harmony import */ var _func_mjs__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./func.mjs */ \"./core/func.mjs\");\n/* harmony import */ var _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./arithmetic.mjs */ \"./core/arithmetic.mjs\");\n/* harmony import */ var _logic_mjs__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./logic.mjs */ \"./core/logic.mjs\");\n/* harmony import */ var _math_mjs__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./math.mjs */ \"./core/math.mjs\");\n/* harmony import */ var _comparison_mjs__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./comparison.mjs */ \"./core/comparison.mjs\");\n/* harmony import */ var _gradient_mjs__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./gradient.mjs */ \"./core/gradient.mjs\");\n/* harmony import */ var _cross_mjs__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./cross.mjs */ \"./core/cross.mjs\");\n/* harmony import */ var _trapz_mjs__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./trapz.mjs */ \"./core/trapz.mjs\");\n/* harmony import */ var _convolve_mjs__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./convolve.mjs */ \"./core/convolve.mjs\");\n/* harmony import */ var _clip_mjs__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./clip.mjs */ \"./core/clip.mjs\");\n/* harmony import */ var _argsort_mjs__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./argsort.mjs */ \"./core/argsort.mjs\");\n/* harmony import */ var _sort_mjs__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./sort.mjs */ \"./core/sort.mjs\");\n/* harmony import */ var _interp_mjs__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./interp.mjs */ \"./core/interp.mjs\");\n/* harmony import */ var _random_mjs__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./random.mjs */ \"./core/random.mjs\");\n/* harmony import */ var _where_mjs__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./where.mjs */ \"./core/where.mjs\");\n/* harmony import */ var _ogrid_mjs__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./ogrid.mjs */ \"./core/ogrid.mjs\");\n/* harmony import */ var _statistics_mjs__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./statistics.mjs */ \"./core/statistics.mjs\");\n/* harmony import */ var _indices_mjs__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./indices.mjs */ \"./core/indices.mjs\");\n/* harmony import */ var _ix_mjs__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./ix_.mjs */ \"./core/ix_.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_test_Tester_mjs__WEBPACK_IMPORTED_MODULE_0__, _isscalar_mjs__WEBPACK_IMPORTED_MODULE_2__, _ndarray_mjs__WEBPACK_IMPORTED_MODULE_3__, _array_mjs__WEBPACK_IMPORTED_MODULE_4__, _shape_mjs__WEBPACK_IMPORTED_MODULE_5__, _broadcast_to_mjs__WEBPACK_IMPORTED_MODULE_6__, _copyto_mjs__WEBPACK_IMPORTED_MODULE_7__, _ndoffset_mjs__WEBPACK_IMPORTED_MODULE_9__, _asarray_mjs__WEBPACK_IMPORTED_MODULE_10__, _empty_mjs__WEBPACK_IMPORTED_MODULE_11__, _reshape_mjs__WEBPACK_IMPORTED_MODULE_12__, _flat_mjs__WEBPACK_IMPORTED_MODULE_13__, _full_mjs__WEBPACK_IMPORTED_MODULE_14__, _broadcast_shapes_mjs__WEBPACK_IMPORTED_MODULE_15__, _arange_mjs__WEBPACK_IMPORTED_MODULE_16__, _linspace_mjs__WEBPACK_IMPORTED_MODULE_17__, _take_mjs__WEBPACK_IMPORTED_MODULE_18__, _ones_mjs__WEBPACK_IMPORTED_MODULE_19__, _zeros_mjs__WEBPACK_IMPORTED_MODULE_20__, _ascontiguousarray_mjs__WEBPACK_IMPORTED_MODULE_21__, _swapaxes_mjs__WEBPACK_IMPORTED_MODULE_22__, _transpose_mjs__WEBPACK_IMPORTED_MODULE_23__, _atleast_mjs__WEBPACK_IMPORTED_MODULE_24__, _broadcast_mjs__WEBPACK_IMPORTED_MODULE_25__, _eye_mjs__WEBPACK_IMPORTED_MODULE_26__, _identity_mjs__WEBPACK_IMPORTED_MODULE_27__, _ndim_mjs__WEBPACK_IMPORTED_MODULE_28__, _expand_dims_mjs__WEBPACK_IMPORTED_MODULE_29__, _squeeze_mjs__WEBPACK_IMPORTED_MODULE_30__, _copy_mjs__WEBPACK_IMPORTED_MODULE_31__, _fromfunction_mjs__WEBPACK_IMPORTED_MODULE_32__, _fromiter_mjs__WEBPACK_IMPORTED_MODULE_33__, _nonzero_mjs__WEBPACK_IMPORTED_MODULE_34__, _ndenumerate_mjs__WEBPACK_IMPORTED_MODULE_35__, _argwhere_mjs__WEBPACK_IMPORTED_MODULE_36__, _compress_mjs__WEBPACK_IMPORTED_MODULE_37__, _ravel_mjs__WEBPACK_IMPORTED_MODULE_38__, _extract_mjs__WEBPACK_IMPORTED_MODULE_39__, _flatnonzero_mjs__WEBPACK_IMPORTED_MODULE_40__, _count_nonzero_mjs__WEBPACK_IMPORTED_MODULE_41__, _numeric_mjs__WEBPACK_IMPORTED_MODULE_42__, _array_equal_mjs__WEBPACK_IMPORTED_MODULE_43__, _concatenate_mjs__WEBPACK_IMPORTED_MODULE_44__, _moveaxis_mjs__WEBPACK_IMPORTED_MODULE_45__, _func_mjs__WEBPACK_IMPORTED_MODULE_46__, _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__, _logic_mjs__WEBPACK_IMPORTED_MODULE_48__, _math_mjs__WEBPACK_IMPORTED_MODULE_49__, _comparison_mjs__WEBPACK_IMPORTED_MODULE_50__, _gradient_mjs__WEBPACK_IMPORTED_MODULE_51__, _cross_mjs__WEBPACK_IMPORTED_MODULE_52__, _trapz_mjs__WEBPACK_IMPORTED_MODULE_53__, _convolve_mjs__WEBPACK_IMPORTED_MODULE_54__, _clip_mjs__WEBPACK_IMPORTED_MODULE_55__, _argsort_mjs__WEBPACK_IMPORTED_MODULE_56__, _sort_mjs__WEBPACK_IMPORTED_MODULE_57__, _interp_mjs__WEBPACK_IMPORTED_MODULE_58__, _random_mjs__WEBPACK_IMPORTED_MODULE_59__, _where_mjs__WEBPACK_IMPORTED_MODULE_60__, _ogrid_mjs__WEBPACK_IMPORTED_MODULE_61__, _statistics_mjs__WEBPACK_IMPORTED_MODULE_62__, _indices_mjs__WEBPACK_IMPORTED_MODULE_63__, _ix_mjs__WEBPACK_IMPORTED_MODULE_64__]);\n([_test_Tester_mjs__WEBPACK_IMPORTED_MODULE_0__, _isscalar_mjs__WEBPACK_IMPORTED_MODULE_2__, _ndarray_mjs__WEBPACK_IMPORTED_MODULE_3__, _array_mjs__WEBPACK_IMPORTED_MODULE_4__, _shape_mjs__WEBPACK_IMPORTED_MODULE_5__, _broadcast_to_mjs__WEBPACK_IMPORTED_MODULE_6__, _copyto_mjs__WEBPACK_IMPORTED_MODULE_7__, _ndoffset_mjs__WEBPACK_IMPORTED_MODULE_9__, _asarray_mjs__WEBPACK_IMPORTED_MODULE_10__, _empty_mjs__WEBPACK_IMPORTED_MODULE_11__, _reshape_mjs__WEBPACK_IMPORTED_MODULE_12__, _flat_mjs__WEBPACK_IMPORTED_MODULE_13__, _full_mjs__WEBPACK_IMPORTED_MODULE_14__, _broadcast_shapes_mjs__WEBPACK_IMPORTED_MODULE_15__, _arange_mjs__WEBPACK_IMPORTED_MODULE_16__, _linspace_mjs__WEBPACK_IMPORTED_MODULE_17__, _take_mjs__WEBPACK_IMPORTED_MODULE_18__, _ones_mjs__WEBPACK_IMPORTED_MODULE_19__, _zeros_mjs__WEBPACK_IMPORTED_MODULE_20__, _ascontiguousarray_mjs__WEBPACK_IMPORTED_MODULE_21__, _swapaxes_mjs__WEBPACK_IMPORTED_MODULE_22__, _transpose_mjs__WEBPACK_IMPORTED_MODULE_23__, _atleast_mjs__WEBPACK_IMPORTED_MODULE_24__, _broadcast_mjs__WEBPACK_IMPORTED_MODULE_25__, _eye_mjs__WEBPACK_IMPORTED_MODULE_26__, _identity_mjs__WEBPACK_IMPORTED_MODULE_27__, _ndim_mjs__WEBPACK_IMPORTED_MODULE_28__, _expand_dims_mjs__WEBPACK_IMPORTED_MODULE_29__, _squeeze_mjs__WEBPACK_IMPORTED_MODULE_30__, _copy_mjs__WEBPACK_IMPORTED_MODULE_31__, _fromfunction_mjs__WEBPACK_IMPORTED_MODULE_32__, _fromiter_mjs__WEBPACK_IMPORTED_MODULE_33__, _nonzero_mjs__WEBPACK_IMPORTED_MODULE_34__, _ndenumerate_mjs__WEBPACK_IMPORTED_MODULE_35__, _argwhere_mjs__WEBPACK_IMPORTED_MODULE_36__, _compress_mjs__WEBPACK_IMPORTED_MODULE_37__, _ravel_mjs__WEBPACK_IMPORTED_MODULE_38__, _extract_mjs__WEBPACK_IMPORTED_MODULE_39__, _flatnonzero_mjs__WEBPACK_IMPORTED_MODULE_40__, _count_nonzero_mjs__WEBPACK_IMPORTED_MODULE_41__, _numeric_mjs__WEBPACK_IMPORTED_MODULE_42__, _array_equal_mjs__WEBPACK_IMPORTED_MODULE_43__, _concatenate_mjs__WEBPACK_IMPORTED_MODULE_44__, _moveaxis_mjs__WEBPACK_IMPORTED_MODULE_45__, _func_mjs__WEBPACK_IMPORTED_MODULE_46__, _arithmetic_mjs__WEBPACK_IMPORTED_MODULE_47__, _logic_mjs__WEBPACK_IMPORTED_MODULE_48__, _math_mjs__WEBPACK_IMPORTED_MODULE_49__, _comparison_mjs__WEBPACK_IMPORTED_MODULE_50__, _gradient_mjs__WEBPACK_IMPORTED_MODULE_51__, _cross_mjs__WEBPACK_IMPORTED_MODULE_52__, _trapz_mjs__WEBPACK_IMPORTED_MODULE_53__, _convolve_mjs__WEBPACK_IMPORTED_MODULE_54__, _clip_mjs__WEBPACK_IMPORTED_MODULE_55__, _argsort_mjs__WEBPACK_IMPORTED_MODULE_56__, _sort_mjs__WEBPACK_IMPORTED_MODULE_57__, _interp_mjs__WEBPACK_IMPORTED_MODULE_58__, _random_mjs__WEBPACK_IMPORTED_MODULE_59__, _where_mjs__WEBPACK_IMPORTED_MODULE_60__, _ogrid_mjs__WEBPACK_IMPORTED_MODULE_61__, _statistics_mjs__WEBPACK_IMPORTED_MODULE_62__, _indices_mjs__WEBPACK_IMPORTED_MODULE_63__, _ix_mjs__WEBPACK_IMPORTED_MODULE_64__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/core.mjs?");

/***/ }),

/***/ "./core/count_nonzero.mjs":
/*!********************************!*\
  !*** ./core/count_nonzero.mjs ***!
  \********************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"axisfunc\": () => (/* binding */ axisfunc),\n/* harmony export */   \"count_nonzero\": () => (/* binding */ count_nonzero)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\n/* harmony import */ var _numeric_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./numeric.mjs */ \"./core/numeric.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__, _numeric_mjs__WEBPACK_IMPORTED_MODULE_1__]);\n([_core_mjs__WEBPACK_IMPORTED_MODULE_0__, _numeric_mjs__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\nfunction axisfunc(func, array, axis /*: nonNull*/, keepdims, out) {\r\n\t// func(...) : scalar\r\n\tlet { strides, ndim, shape } = array;\r\n\taxis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis)(axis, ndim);\r\n\tlet mask = Array(ndim)\r\n\t\t.fill()\r\n\t\t.map((_, i) => axis.includes(i));\r\n\r\n\tlet outshape = [];\r\n\tlet indices = [];\r\n\tfor (let i = 0, j = 0; i < ndim; i++) {\r\n\t\tif (mask[i]) {\r\n\t\t\tindices[i] = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice[\":\"];\r\n\t\t\tif (keepdims) outshape[j++] = 1;\r\n\t\t} else {\r\n\t\t\toutshape[j++] = shape[i];\r\n\t\t}\r\n\t}\r\n\r\n\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(outshape);\r\n\r\n\tfor (let index of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndindex)(outshape)) {\r\n\t\tfor (let i = 0, j = 0; i < ndim; i++) {\r\n\t\t\tif (mask[i]) continue;\r\n\t\t\tindices[i] = index[j++];\r\n\t\t}\r\n\t\t// console.log(indices);\r\n\t\tout.itemset(index, func(array.get(...indices)));\r\n\t}\r\n\r\n\treturn out;\r\n}\r\n\r\nfunction count_nonzero(a, axis = null, keepdims = false) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (axis != null) return axisfunc(count_nonzero, a, axis, keepdims);\r\n\t// if (axis != null) {\r\n\t// \tlet iter = nditer(a, axis);\r\n\t// \t// let ret = empty(iter.shape);\r\n\t// \t// for (let [index, value] of iter) {\r\n\t// \t// \tret.set(index, count_nonzero(value));\r\n\t// \t// }\r\n\t// \t// console.log('check count_nonzero', a.shape);\r\n\t// \tlet data = [];\r\n\t// \tfor (let [index, value] of iter) {\r\n\t// \t\t// console.log('index', index);\r\n\t// \t\tdata.push(count_nonzero(value));\r\n\t// \t\t// ret.set(index, count_nonzero(value));\r\n\t// \t}\r\n\t// \treturn new NDArray(iter.shape, data);\r\n\t// \treturn ret;\r\n\t// }\r\n\tlet count = 0;\r\n\tfor (let value of a.flat) {\r\n\t\tif (value) count++;\r\n\t}\r\n\treturn count;\r\n}\r\n\r\n// let x;\r\n// x = ones([2, 3, 4, 5]);\r\n// timeit(() => count_nonzero(x));\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tcount_nonzero,\r\n\t\t() => {\r\n\t\t\tlet x;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([2, 3, 4, 5]);\r\n\t\t\treturn count_nonzero(x);\r\n\t\t},\r\n\t\t() => 120\r\n\t)\r\n\t.add(\r\n\t\tcount_nonzero,\r\n\t\t() => {\r\n\t\t\tlet x;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([2, 3, 4, 5]);\r\n\t\t\treturn count_nonzero(x, 0);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t\t[2, 2, 2, 2, 2],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tcount_nonzero,\r\n\t\t() => {\r\n\t\t\tlet x;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([2, 3, 4, 5]);\r\n\t\t\treturn count_nonzero(x, 1);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[3, 3, 3, 3, 3],\r\n\t\t\t\t\t[3, 3, 3, 3, 3],\r\n\t\t\t\t\t[3, 3, 3, 3, 3],\r\n\t\t\t\t\t[3, 3, 3, 3, 3],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[3, 3, 3, 3, 3],\r\n\t\t\t\t\t[3, 3, 3, 3, 3],\r\n\t\t\t\t\t[3, 3, 3, 3, 3],\r\n\t\t\t\t\t[3, 3, 3, 3, 3],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tcount_nonzero,\r\n\t\t() => {\r\n\t\t\tlet x;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([2, 3, 4, 5]);\r\n\t\t\treturn count_nonzero(x, -1);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[5, 5, 5, 5],\r\n\t\t\t\t\t[5, 5, 5, 5],\r\n\t\t\t\t\t[5, 5, 5, 5],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[5, 5, 5, 5],\r\n\t\t\t\t\t[5, 5, 5, 5],\r\n\t\t\t\t\t[5, 5, 5, 5],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tcount_nonzero,\r\n\t\t() => {\r\n\t\t\tlet x;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([2, 3, 4, 5]);\r\n\t\t\treturn count_nonzero(x, [0, -1]);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[10, 10, 10, 10],\r\n\t\t\t\t[10, 10, 10, 10],\r\n\t\t\t\t[10, 10, 10, 10],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tcount_nonzero,\r\n\t\t() => {\r\n\t\t\tlet x;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([2, 3, 4, 5]);\r\n\t\t\treturn count_nonzero(x, [0, -1], true);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[[10], [10], [10], [10]],\r\n\r\n\t\t\t\t\t[[10], [10], [10], [10]],\r\n\r\n\t\t\t\t\t[[10], [10], [10], [10]],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/count_nonzero.mjs?");

/***/ }),

/***/ "./core/cross.mjs":
/*!************************!*\
  !*** ./core/cross.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cross\": () => (/* binding */ cross)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction cross(a, b, axis = -1, axisa = axis, axisb = axis, axisc = axis) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tb = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(b);\r\n\r\n\taxisa = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axisa, a.ndim);\r\n\taxisb = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axisb, b.ndim);\r\n\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.moveaxis)(a, axisa, -1);\r\n\tb = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.moveaxis)(b, axisb, -1);\r\n\r\n\tlet lasta = a.shape.at(-1);\r\n\tlet lastb = b.shape.at(-1);\r\n\tif ((lasta != 2 && lasta != 3) || (lastb != 2 && lastb != 3)) {\r\n\t\tthrow `incompatible dimensions for cross product (dimension must be 2 or 3)`;\r\n\t}\r\n\r\n\tlet shape = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_shapes)(a.shape.slice(0, -1), b.shape.slice(0, -1));\r\n\r\n\tif (a.shape.at(-1) == 3 || b.shape.at(-1) == 3) {\r\n\t\tshape = [...shape, 3];\r\n\t\taxisc = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axisc, shape.length);\r\n\t}\r\n\r\n\tlet cp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(shape);\r\n\r\n\tlet a0, a1, a2;\r\n\tlet b0, b1, b2;\r\n\tlet cp0, cp1, cp2;\r\n\r\n\ta0 = a.get('...', 0);\r\n\ta1 = a.get('...', 1);\r\n\tif (a.shape.at(-1) == 3) a2 = a.get('...', 2);\r\n\r\n\tb0 = b.get('...', 0);\r\n\tb1 = b.get('...', 1);\r\n\tif (b.shape.at(-1) == 3) b2 = b.get('...', 2);\r\n\tif (cp.ndim != 0 && cp.shape.at(-1) == 3) {\r\n\t\tcp0 = cp.get('...', 0);\r\n\t\tcp1 = cp.get('...', 1);\r\n\t\tcp2 = cp.get('...', 2);\r\n\t}\r\n\r\n\tif (a.shape.at(-1) == 2) {\r\n\t\tif (b.shape.at(-1) == 2) {\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a0, b1, cp);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)(cp, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a1, b0), cp);\r\n\t\t\treturn cp;\r\n\t\t} else {\r\n\t\t\tif (b.shape.at(-1) != 3) throw 'b.shape.at(-1) != 3';\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a1, b2, cp0);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a0, b2, cp1);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.negative)(cp1, cp1);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a0, b1, cp2);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)(cp2, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a1, b0), cp2);\r\n\t\t}\r\n\t} else {\r\n\t\tif (a.shape.at(-1) != 3) throw 'a.shape.at(-1) != 3';\r\n\t\tif (b.shape.at(-1) == 3) {\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a1, b2, cp0);\r\n\t\t\tlet tmp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a2, b1);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)(cp0, tmp, cp0);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a2, b0, cp1);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a0, b2, tmp);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)(cp1, tmp, cp1);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a0, b1, cp2);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a1, b0, tmp);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)(cp2, tmp, cp2);\r\n\t\t} else {\r\n\t\t\tif (b.shape.at(-1) != 2) throw 'b.shape.at(-1) != 2';\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a2, b1, cp0);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.negative)(cp0, cp0);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a2, b0, cp1);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a0, b1, cp2);\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)(cp2, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a1, b0), cp2);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.moveaxis)(cp, -1, axisc);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tcross,\r\n\t\t() => cross([1, 2, 3], [4, 5, 6]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([-3, 6, -3])\r\n\t)\r\n\t.add(\r\n\t\tcross,\r\n\t\t() => cross([1, 2], [4, 5, 6]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([12, -6, -3])\r\n\t)\r\n\t.add(\r\n\t\tcross,\r\n\t\t() => cross([1, 2, 0], [4, 5, 6]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([12, -6, -3])\r\n\t)\r\n\t.add(\r\n\t\tcross,\r\n\t\t() => cross([1, 2], [4, 5]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(-3)\r\n\t)\r\n\t.add(\r\n\t\tcross,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t]);\r\n\t\t\tlet y = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t]);\r\n\t\t\treturn cross(x, y);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[-3, 6, -3],\r\n\t\t\t\t[3, -6, 3],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tcross,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t]);\r\n\t\t\tlet y = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t]);\r\n\t\t\treturn cross(x, y, undefined, undefined, undefined, 0);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[-3, 3],\r\n\t\t\t\t[6, -6],\r\n\t\t\t\t[-3, 3],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tcross,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t\t[7, 8, 9],\r\n\t\t\t]);\r\n\t\t\tlet y = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[7, 8, 9],\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t]);\r\n\t\t\treturn [cross(x, y), cross(x, y, undefined, 0, 0)];\r\n\t\t},\r\n\t\t() => [\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[-6, 12, -6],\r\n\t\t\t\t[0, 0, 0],\r\n\t\t\t\t[6, -12, 6],\r\n\t\t\t]),\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[-24, 48, -24],\r\n\t\t\t\t[-30, 60, -30],\r\n\t\t\t\t[-36, 72, -36],\r\n\t\t\t]),\r\n\t\t]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/cross.mjs?");

/***/ }),

/***/ "./core/empty.mjs":
/*!************************!*\
  !*** ./core/empty.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"empty\": () => (/* binding */ empty),\n/* harmony export */   \"empty_like\": () => (/* binding */ empty_like)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction is_int(value) {\r\n\treturn Number.isInteger(value);\r\n}\r\n\r\nfunction get_size(shape) {\r\n\tlet size = 1;\r\n\tfor (let dim of shape) size *= dim;\r\n\treturn size;\r\n}\r\n\r\nfunction empty(shape) {\r\n\tif (is_int(shape)) shape = [shape];\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(shape, Array(get_size(shape)));\r\n}\r\n\r\nfunction empty_like(prototype) {\r\n\treturn empty((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shape)(prototype));\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'empty',\r\n\t\t() => empty([2, 2]),\r\n\t\t() => [\r\n\t\t\t[, ,],\r\n\t\t\t[, ,],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'empty',\r\n\t\t() => empty(0),\r\n\t\t() => []\r\n\t)\r\n\t.add(\r\n\t\t'empty',\r\n\t\t() => empty([]),\r\n\t\t() => undefined\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'empty_like',\r\n\t\t() =>\r\n\t\t\tempty_like([\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t]),\r\n\t\t() => [\r\n\t\t\t[, , ,],\r\n\t\t\t[, , ,],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'empty_like',\r\n\t\t() => empty_like([1, 2, 3, [1, 3]]),\r\n\t\t() => [, , , ,]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/empty.mjs?");

/***/ }),

/***/ "./core/expand_dims.mjs":
/*!******************************!*\
  !*** ./core/expand_dims.mjs ***!
  \******************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"expand_dims\": () => (/* binding */ expand_dims)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction expand_dims(a, axis) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (typeof axis == 'number') axis = [axis];\r\n\tlet length = axis.length;\r\n\taxis = new Set(axis);\r\n\tif (axis.size != length) throw 'repeated axis';\r\n\tlet newndim = a.ndim + length;\r\n\tlet newshape = [];\r\n\tfor (let i = 0, j = 0; i < newndim; i++) {\r\n\t\tnewshape.push(axis.has(i) ? 1 : a.shape[j++]);\r\n\t}\r\n\treturn a.reshape(newshape);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\texpand_dims,\r\n\t\t() => expand_dims((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2]), 0),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1, 2]])\r\n\t)\r\n\t.add(\r\n\t\texpand_dims,\r\n\t\t() => expand_dims((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2]), 1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1], [2]])\r\n\t)\r\n\t.add(\r\n\t\texpand_dims,\r\n\t\t() => expand_dims((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2]), [0, 1]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[1, 2]]])\r\n\t)\r\n\t.add(\r\n\t\texpand_dims,\r\n\t\t() => expand_dims((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2]), [2, 0]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[1], [2]]])\r\n\t)\r\n\t.add(\r\n\t\texpand_dims,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2]);\r\n\t\t\treturn expand_dims(x, [2, 0]).base === x;\r\n\t\t},\r\n\t\t() => true\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/expand_dims.mjs?");

/***/ }),

/***/ "./core/extract.mjs":
/*!**************************!*\
  !*** ./core/extract.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"extract\": () => (/* binding */ extract)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction extract(condition, a) {\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.compress)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel)(condition), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel)(a));\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\textract,\r\n\t() => {\r\n\t\tlet arr, condition;\r\n\t\tarr = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(12).reshape([3, 4]);\r\n\t\tcondition = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[true, false, false, true],\r\n\t\t\t[false, false, true, false],\r\n\t\t\t[false, true, false, false],\r\n\t\t]);\r\n\t\treturn extract(condition, arr);\r\n\t},\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 3, 6, 9])\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/extract.mjs?");

/***/ }),

/***/ "./core/eye.mjs":
/*!**********************!*\
  !*** ./core/eye.mjs ***!
  \**********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"eye\": () => (/* binding */ eye)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction eye(N, M = N, k = 0) {\r\n\tlet size = N * M;\r\n\tlet data = Array(size).fill(0);\r\n\tfor (let i = k + Math.ceil(-k / (M + 1)) * (M + 1); i < size; i += M + 1) data[i] = 1;\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([N, M], data);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'eye',\r\n\t\t() => eye(2),\r\n\t\t() => [\r\n\t\t\t[1, 0],\r\n\t\t\t[0, 1],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'eye',\r\n\t\t() => eye(3, 3, 1),\r\n\t\t() => [\r\n\t\t\t[0, 1, 0],\r\n\t\t\t[0, 0, 1],\r\n\t\t\t[0, 0, 0],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'eye',\r\n\t\t() => eye(4, 5, -1),\r\n\t\t() => [\r\n\t\t\t[0, 0, 0, 0, 0],\r\n\t\t\t[1, 0, 0, 0, 0],\r\n\t\t\t[0, 1, 0, 0, 0],\r\n\t\t\t[0, 0, 1, 0, 0],\r\n\t\t]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/eye.mjs?");

/***/ }),

/***/ "./core/flat.mjs":
/*!***********************!*\
  !*** ./core/flat.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Flatiter\": () => (/* binding */ Flatiter)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction is_tuple(value) {\r\n\treturn value?.length != undefined;\r\n}\r\n\r\nclass Flatiter {\r\n\tconstructor(base) {\r\n\t\tthis.base = base;\r\n\t\tthis.index = 0;\r\n\t\tthis.coords = Array(base.ndim).fill(0);\r\n\t}\r\n\r\n\t[Symbol.iterator]() {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tnext() {\r\n\t\tlet { coords, base } = this;\r\n\t\tlet { shape, size } = base;\r\n\t\tlet value;\r\n\t\tlet done = this.index >= size;\r\n\t\tif (!done) {\r\n\t\t\tvalue = base.item(coords);\r\n\t\t}\r\n\t\tfor (let j = coords.length - 1; j >= 0; j--) {\r\n\t\t\tcoords[j] += 1;\r\n\t\t\tif (coords[j] < shape[j]) break;\r\n\t\t\tif (j > 0) coords[j] -= shape[j];\r\n\t\t}\r\n\t\tthis.index++;\r\n\t\treturn { value, done };\r\n\t}\r\n\r\n\tget(index) {\r\n\t\tif (is_tuple(index)) {\r\n\t\t\tlet data = [];\r\n\t\t\tfor (let i = 0; i < index.length; i++) {\r\n\t\t\t\tdata[i] = this.base.item(index[i]);\r\n\t\t\t}\r\n\t\t\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([index.length], data);\r\n\t\t}\r\n\t\treturn this.base.item(index);\r\n\t}\r\n\r\n\tset(index, value) {\r\n\t\tif (is_tuple(index)) {\r\n\t\t\tif (is_tuple(value)) {\r\n\t\t\t\tvalue = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(value).flatten().data;\r\n\t\t\t\tfor (let i = 0; i < index.length; i++) this.base.itemset(index[i], value[i % value.length]);\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < index.length; i++) this.base.itemset(index[i], value);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (is_tuple(value)) throw 'Error setting single item of array';\r\n\t\tthis.base.itemset(index, value);\r\n\t}\r\n\r\n\tcopy() {\r\n\t\treturn this.base.flatten();\r\n\t}\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'Flatiter',\r\n\t\t() => {\r\n\t\t\tlet array = new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([2, 3], [0, 1, 2, 3, 4, 5]);\r\n\t\t\tlet a = new Flatiter(array);\r\n\t\t\tlet out = [];\r\n\t\t\t// console.log(a.next());\r\n\t\t\tfor (let item of a) {\r\n\t\t\t\tfor (let h of a) {\r\n\t\t\t\t\tout.push(h);\r\n\t\t\t\t}\r\n\t\t\t\tout.push(item);\r\n\t\t\t}\r\n\t\t\treturn out;\r\n\t\t},\r\n\t\t() => [1, 2, 3, 4, 5, 0]\r\n\t)\r\n\t.add(\r\n\t\t'Flatiter',\r\n\t\t() => {\r\n\t\t\tlet array = new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([3, 1], [0, 1, 2]);\r\n\t\t\tlet a = new Flatiter(array);\r\n\t\t\tlet out = [];\r\n\t\t\tfor (let item of a) {\r\n\t\t\t\tout.push(item, a.index, [...a.coords]);\r\n\t\t\t}\r\n\t\t\treturn out;\r\n\t\t},\r\n\t\t() => [0, 1, [1, 0], 1, 2, [2, 0], 2, 3, [3, 0]]\r\n\t)\r\n\t.add(\r\n\t\t'Flatiter',\r\n\t\t() => {\r\n\t\t\tlet array = new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([1, 2], [0, 1]);\r\n\t\t\tlet a = new Flatiter(array);\r\n\t\t\tlet out = [];\r\n\t\t\tfor (let item of a) {\r\n\t\t\t\tfor (let h of new Flatiter(array)) {\r\n\t\t\t\t\tout.push(h, a.index, [...a.coords]);\r\n\t\t\t\t}\r\n\t\t\t\tout.push(item, a.index, [...a.coords]);\r\n\t\t\t}\r\n\t\t\treturn out;\r\n\t\t},\r\n\t\t() => [0, 1, [0, 1], 1, 1, [0, 1], 0, 1, [0, 1], 0, 2, [1, 0], 1, 2, [1, 0], 1, 2, [1, 0]]\r\n\t);\r\n\r\n`   a = np.arange(2).reshape(1, -1)\r\n    c=a.flat\r\n    for item in c:\r\n        for b in a.flat:\r\n            print(b,c.index,c.coords)\r\n        print(item,c.index,c.coords)`;\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'Flatiter.get',\r\n\t\t() =>\r\n\t\t\tnew Flatiter(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2, 3],\r\n\t\t\t\t\t[4, 5, 6],\r\n\t\t\t\t])\r\n\t\t\t).get(3),\r\n\t\t() => 4\r\n\t)\r\n\t.add(\r\n\t\t'Flatiter.get',\r\n\t\t() =>\r\n\t\t\tnew Flatiter(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2, 3],\r\n\t\t\t\t\t[4, 5, 6],\r\n\t\t\t\t])\r\n\t\t\t).get([3, 4, -1]),\r\n\t\t() => [4, 5, 6]\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'Flatiter.set',\r\n\t() => {\r\n\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[3, 3, 3],\r\n\t\t\t[3, 3, 3],\r\n\t\t]);\r\n\t\tnew Flatiter(x).set([1, -1], [[1], [2]]);\r\n\t\treturn x;\r\n\t},\r\n\t() => [\r\n\t\t[3, 1, 3],\r\n\t\t[3, 3, 2],\r\n\t]\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'Flatiter.copy',\r\n\t() => new Flatiter(new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([2, 3], [0, 1, 2, 3, 4, 5]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , -1]))).copy(),\r\n\t() => [3, 4, 5, 0, 1, 2]\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/flat.mjs?");

/***/ }),

/***/ "./core/flatnonzero.mjs":
/*!******************************!*\
  !*** ./core/flatnonzero.mjs ***!
  \******************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"flatnonzero\": () => (/* binding */ flatnonzero)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction flatnonzero(a) {\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.nonzero)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel)(a))[0];\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tflatnonzero,\r\n\t() => {\r\n\t\tlet x;\r\n\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(-2, 3);\r\n\t\treturn flatnonzero(x);\r\n\t},\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 3, 4])\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/flatnonzero.mjs?");

/***/ }),

/***/ "./core/fromfunction.mjs":
/*!*******************************!*\
  !*** ./core/fromfunction.mjs ***!
  \*******************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fromfunction\": () => (/* binding */ fromfunction)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction fromfunction(func, shape) {\r\n\tlet data = [];\r\n\tfor (let index of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndindex)(shape)) {\r\n\t\tdata.push(func(index));\r\n\t}\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(shape, data);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tfromfunction,\r\n\t\t() => {\r\n\t\t\treturn fromfunction(([i, j]) => i, [2, 2]);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 0],\r\n\t\t\t\t[1, 1],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tfromfunction,\r\n\t\t() => {\r\n\t\t\treturn fromfunction(([i, j]) => j, [2, 2]);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1],\r\n\t\t\t\t[0, 1],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tfromfunction,\r\n\t\t() => {\r\n\t\t\treturn fromfunction(([i, j]) => i == j, [3, 3]);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[true, false, false],\r\n\t\t\t\t[false, true, false],\r\n\t\t\t\t[false, false, true],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tfromfunction,\r\n\t\t() => {\r\n\t\t\treturn fromfunction(([i, j]) => i + j, [3, 3]);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1, 2],\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t\t[2, 3, 4],\r\n\t\t\t])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/fromfunction.mjs?");

/***/ }),

/***/ "./core/fromiter.mjs":
/*!***************************!*\
  !*** ./core/fromiter.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fromiter\": () => (/* binding */ fromiter)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction fromiter(iter, count = -1) {\r\n\tlet a;\r\n\tif (count == -1) a = [...iter];\r\n\telse {\r\n\t\ta = [];\r\n\t\tlet i = 0;\r\n\t\tif (i < count) {\r\n\t\t\tfor (let value of iter) {\r\n\t\t\t\ta.push(value);\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i >= count) break;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(a);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tfromiter,\r\n\t\t() => {\r\n\t\t\treturn fromiter({\r\n\t\t\t\t*[Symbol.iterator]() {\r\n\t\t\t\t\tfor (let x = 0; x < 5; x++) yield x * x;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 4, 9, 16])\r\n\t)\r\n\t.add(\r\n\t\tfromiter,\r\n\t\t() => {\r\n\t\t\treturn fromiter({\r\n\t\t\t\t*[Symbol.iterator]() {\r\n\t\t\t\t\tfor (let x = 0; x < 5; x++) yield [x + 1, x + 2];\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[2, 3],\r\n\t\t\t\t[3, 4],\r\n\t\t\t\t[4, 5],\r\n\t\t\t\t[5, 6],\r\n\t\t\t])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/fromiter.mjs?");

/***/ }),

/***/ "./core/full.mjs":
/*!***********************!*\
  !*** ./core/full.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"full\": () => (/* binding */ full)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction full(shape, fill_value) {\r\n\tlet array = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(shape);\r\n\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.copyto)(array, fill_value);\r\n\treturn array;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'full',\r\n\t\t() => full([2, 2], Infinity),\r\n\t\t() => [\r\n\t\t\t[Infinity, Infinity],\r\n\t\t\t[Infinity, Infinity],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'full',\r\n\t\t() => full([2, 2], 10),\r\n\t\t() => [\r\n\t\t\t[10, 10],\r\n\t\t\t[10, 10],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'full',\r\n\t\t() => full([2, 2], [1, 2]),\r\n\t\t() => [\r\n\t\t\t[1, 2],\r\n\t\t\t[1, 2],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'full',\r\n\t\t() => full(2, -1),\r\n\t\t() => [-1, -1]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/full.mjs?");

/***/ }),

/***/ "./core/func.mjs":
/*!***********************!*\
  !*** ./core/func.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_wrap_map\": () => (/* binding */ _wrap_map),\n/* harmony export */   \"_wrap_map_binary\": () => (/* binding */ _wrap_map_binary),\n/* harmony export */   \"_wrap_map_unary\": () => (/* binding */ _wrap_map_unary),\n/* harmony export */   \"_wrap_reduce\": () => (/* binding */ _wrap_reduce),\n/* harmony export */   \"normalize_axis_index\": () => (/* binding */ normalize_axis_index),\n/* harmony export */   \"normalize_axis_mask\": () => (/* binding */ normalize_axis_mask)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\n// function getargs(narg) {\r\n// \t// ['x1', 'x2', ...]\r\n// \treturn [...Array(narg).keys()].map(i => `x${i + 1}`);\r\n// }\r\n\r\nlet range = length => [...Array(length).keys()];\r\n\r\n// function reduce_body(\r\n// \taxis,\r\n// \tndim,\r\n// \tnarg = 1,\r\n// \t{ out = 'out', args = getargs(narg), initial = 'initial', func = 'func', accum = 'accum' } = {}\r\n// ) {\r\n// \t// unary always?\r\n// \t// assume normalized\r\n\r\n// \tlet ndims = range(ndim);\r\n// \tlet nargs = range(narg);\r\n\r\n// \tlet index = ndims.map(i => `index${i}`);\r\n// \tlet shape = ndims.map(i => `shape${i}`);\r\n// \tlet offset = `offset`;\r\n\r\n// \tlet x_strides = nargs.map(i => ndims.map(j => `x${i + 1}_strides${j}`));\r\n// \tlet x_offset = nargs.map(i => `x${i + 1}_offset`);\r\n\r\n// \tlet outer_axis;\r\n// \tlet inner_axis;\r\n\r\n// \tif (axis == null || axis.length == 0) {\r\n// \t\touter_axis = [];\r\n// \t\tinner_axis = ndims;\r\n// \t} else {\r\n// \t\touter_axis = ndims.filter(i => !axis.includes(i));\r\n// \t\tinner_axis = ndims.filter(i => axis.includes(i));\r\n// \t}\r\n// \tlet strides = range(outer_axis.length).map(i => `strides${i}`);\r\n\r\n// \tlet outer_loop = outer_axis.map(\r\n// \t\ti => `for (let ${index[i]} = 0; ${index[i]} < ${shape[i]}; ${index[i]}++)`\r\n// \t);\r\n// \tlet inner_loop = inner_axis.map(\r\n// \t\ti => `for (let ${index[i]} = 0; ${index[i]} < ${shape[i]}; ${index[i]}++)`\r\n// \t);\r\n\r\n// \tlet x_start = nargs.map(i => `x${i + 1}_start`);\r\n// \tlet x_start_decl = nargs.map(\r\n// \t\ti =>\r\n// \t\t\t`let ${x_start[i]} = ${x_offset[i]}${outer_axis.length ? ' + ' : ''}${outer_axis\r\n// \t\t\t\t.map(j => `${index[j]} * ${x_strides[i][j]}`)\r\n// \t\t\t\t.join(' + ')};`\r\n// \t);\r\n\r\n// \tlet inner_loop_x = nargs.map(\r\n// \t\ti =>\r\n// \t\t\t`${args[i]}.data[${x_start[i]}${inner_axis.length ? ' + ' : ''}${inner_axis\r\n// \t\t\t\t.map(j => `${index[j]} * ${x_strides[i][j]}`)\r\n// \t\t\t\t.join(' + ')}]`\r\n// \t);\r\n\r\n// \tlet outer_loop_out = `${out}.data[${offset}${outer_axis.length ? ' + ' : ''}${outer_axis\r\n// \t\t.map((i, j) => `${index[i]} * ${strides[j]}`)\r\n// \t\t.join(' + ')}]`;\r\n\r\n// \tlet inner_loop_body = `${inner_loop.join(' ')} {${accum} = ${func}(${accum}, ${inner_loop_x.join(\r\n// \t\t', '\r\n// \t)});}`;\r\n\r\n// \tlet outer_loop_body = `let ${accum} = ${initial};`;\r\n// \touter_loop_body += x_start_decl.join('') + '';\r\n// \touter_loop_body += inner_loop_body + '';\r\n// \touter_loop_body += `${outer_loop_out} = ${accum};`;\r\n// \touter_loop_body = outer_loop_body;\r\n\r\n// \tlet decl = '';\r\n// \tdecl += `let ${offset} = ${out}.offset;`;\r\n// \tif (strides.length > 0) decl += `let [${strides.join(', ')}] = ${out}.strides;`;\r\n// \tdecl += `let [${shape.join(', ')}] = ${args[0]}.shape;`;\r\n// \tdecl += nargs.map(i => `let [${x_strides[i].join(', ')}] = ${args[i]}.strides;`).join('');\r\n// \tdecl += nargs.map(i => `let ${x_offset[i]} = ${args[i]}.offset;`).join('');\r\n\r\n// \tlet loop = outer_loop.length ? `${outer_loop.join(' ')} {${outer_loop_body}}` : outer_loop_body;\r\n\r\n// \tlet body = decl + loop + 'return out;';\r\n\r\n// \treturn {\r\n// \t\tout,\r\n// \t\tinitial,\r\n// \t\targs,\r\n// \t\tfunc,\r\n// \t\tindex,\r\n// \t\tshape,\r\n// \t\tstrides,\r\n// \t\toffset,\r\n// \t\tx_strides,\r\n// \t\tx_offset,\r\n// \t\touter_axis,\r\n// \t\tinner_axis,\r\n// \t\touter_loop,\r\n// \t\tinner_loop,\r\n// \t\tx_start,\r\n// \t\tx_start_decl,\r\n// \t\tinner_loop_x,\r\n// \t\touter_loop_out,\r\n// \t\tinner_loop_body,\r\n// \t\touter_loop_body,\r\n// \t\tloop,\r\n// \t\tdecl,\r\n// \t\tbody,\r\n// \t};\r\n// }\r\n\r\n// function s() {\r\n// \tlet offset = out.offset;\r\n// \tlet [strides0, strides1] = out.strides;\r\n// \tlet [shape0, shape1, shape2, shape3] = undefined.shape;\r\n// \tfor (let index1 = 0; index1 < shape1; index1++)\r\n// \t\tfor (let index3 = 0; index3 < shape3; index3++) {\r\n// \t\t\tlet accum = initial;\r\n// \t\t\tfor (let index0 = 0; index0 < shape0; index0++)\r\n// \t\t\t\tfor (let index2 = 0; index2 < shape2; index2++) {\r\n// \t\t\t\t\taccum = func(accum);\r\n// \t\t\t\t}\r\n// \t\t\tout.data[offset + index1 * strides0 + index3 * strides1] = accum;\r\n// \t\t}\r\n// \treturn out;\r\n// }\r\n\r\n// console.log(reduce_body([0, 2], 4, 0));\r\n\r\n// function func_body(narg, ndim) {\r\n// \t// assume all arrays (including out) have the exact shape\r\n// \tlet out = 'out';\r\n// \tlet args = getargs(narg);\r\n// \tlet shape = [...Array(ndim).keys()].map(i => `shape${i}`);\r\n// \tlet offsets = Array(narg).fill('');\r\n// \tlet strides = [...Array(narg).keys()].map(i => [...Array(ndim).keys()].map(j => `strides${i + 1}_${j}`));\r\n// \tlet shapes = [...Array(narg).keys()].map(i => [...Array(ndim).keys()].map(j => `shape${i + 1}_${j}`));\r\n// \tlet outstrides = [...Array(ndim).keys()].map(i => `outstrides_${i}`);\r\n// \tlet outoffset = '';\r\n// \tlet loop = '';\r\n// \tfor (let i = 0; i < ndim; i++) {\r\n// \t\tlet coord = `i${i}`;\r\n// \t\tlet dim = shape[i];\r\n// \t\tloop += `for (let ${coord} = 0; ${coord} < ${dim}; ${coord}++) `;\r\n// \t\tif (i > 0) {\r\n// \t\t\tfor (let j = 0; j < narg; j++) offsets[j] += ' + ';\r\n// \t\t\toutoffset += ' + ';\r\n// \t\t}\r\n// \t\tfor (let j = 0; j < narg; j++) offsets[j] += `${coord} * ${strides[j][i]}`;\r\n// \t\toutoffset += `${coord} * ${outstrides[i]}`;\r\n// \t}\r\n\r\n// \t// use args[0] instead of out, all shapes are the same\r\n// \tlet decl_shape = `let [${shape.join(', ')}] = ${args[0]}.shape;\\n`;\r\n// \tlet declare = decl_shape;\r\n// \tdeclare += `let [${outstrides.join(', ')}] = ${out}.strides;\\n`;\r\n\r\n// \tlet shapes_declare = '';\r\n// \tlet strides_declare = '';\r\n// \tfor (let i = 0; i < narg; i++) {\r\n// \t\tshapes_declare += `let [${shapes[i].join(', ')}] = ${args[i]}.shape;\\n`;\r\n// \t\tstrides_declare += `let [${strides[i].join(', ')}] = ${args[i]}.strides;\\n`;\r\n// \t}\r\n// \tdeclare += strides_declare;\r\n\r\n// \t// declare\r\n// \t// > `let [shape1, shape2] = out.shape;\r\n// \t// let [outstrides_0, outstrides_1] = out.strides;\r\n// \t// let [strides1_0, strides1_1] = x1.strides;\r\n// \t// let [strides2_0, strides2_1] = x2.strides;`\r\n// \t// out\r\n// \t// > 'out'\r\n// \t// args\r\n// \t// > ['x1', 'x2']\r\n// \t// loop\r\n// \t// > 'for (let i1 = 0; i1 < shape1; i1++) for (let i2 = 0; i2 < shape2; i2++)'\r\n// \t// outoffset\r\n// \t// > 'i1 * outstrides_0 + i2 * outstrides_1'\r\n// \t// offsets\r\n// \t// > ['i1 * strides1_0 + i2 * strides1_1', 'i1 * strides2_0 + i2 * strides2_1']\r\n// \t// shape\r\n// \t// > ['shape1', 'shape2']\r\n// \t// strides\r\n// \t// > [['strides1_0', 'strides1_1'], ['strides2_0', 'strides2_1']]\r\n// \t// outstrides\r\n// \t// > ['outstrides_0', 'outstrides_1']\r\n\r\n// \treturn {\r\n// \t\tdecl_shape,\r\n// \t\tdeclare,\r\n// \t\tout,\r\n// \t\targs,\r\n// \t\tloop,\r\n// \t\toutoffset,\r\n// \t\toffsets,\r\n// \t\tshape,\r\n// \t\tstrides,\r\n// \t\toutstrides,\r\n// \t\tshapes_declare,\r\n// \t\tshapes,\r\n// \t\tstrides_declare,\r\n// \t};\r\n// }\r\n\r\n// function wrapper_map(builder, self = Object.create(null)) {\r\n// \t// self as an obj for caching the generated functions\r\n// \t// builder = (ndim, narg) => new Function()\r\n// \treturn function (builder, narg, ndim) {\r\n// \t\treturn (this[narg] ?? (this[narg] = {}))[ndim] ?? (this[narg][ndim] = builder(narg, ndim));\r\n// \t}.bind(self, builder);\r\n// }\r\n\r\n// const map_func = wrapper_map((narg, ndim) => {\r\n// \tlet func = 'fn';\r\n// \tlet { declare, out, args, loop, outoffset, strides, offsets } = func_body(narg, ndim);\r\n\r\n// \t// console.log(strides, ndim);\r\n// \tlet body = declare;\r\n// \tbody += `${loop} {\r\n// ${out}.data[${out}.offset + ${outoffset}] = ${func}(${offsets\r\n// \t\t.map((offset, i) => `${args[i]}.data[${args[i]}.offset + ${offset}]`)\r\n// \t\t.join(', ')});\r\n// }\\n`;\r\n// \tbody += `return ${out};`;\r\n\r\n// \t// console.log(body);\r\n\r\n// \t// signiture: f(func, ...args, out)\r\n\r\n// \t// console.log(new Function(func, ...args, out, body).toString());\r\n// \treturn new Function(func, ...args, out, body);\r\n// });\r\n\r\n// function binary_tree(tree, ndim, path, builder, narg, axis) {\r\n// \tfor (let i = 0; i < ndim - 1; i++) {\r\n// \t\ttree = tree[!!path[i]] ?? (tree[!!path[i]] = {});\r\n// \t}\r\n// \treturn tree[!!path[ndim - 1]] ?? (tree[!!path[ndim - 1]] = builder(narg, ndim, axis));\r\n// }\r\n\r\n// function cached_reduce(builder, self = Object.create(null)) {\r\n// \t// self as an obj for caching the generated functions\r\n// \treturn function (builder, narg, ndim, axis) {\r\n// \t\tlet path = {};\r\n// \t\tif (axis != null) for (let i = 0; i < axis.length; i++) path[axis[i]] = true;\r\n// \t\treturn binary_tree(\r\n// \t\t\t(this[narg] ?? (this[narg] = {}))[ndim] ?? (this[narg][ndim] = {}),\r\n// \t\t\tndim,\r\n// \t\t\tpath,\r\n// \t\t\tbuilder,\r\n// \t\t\tnarg,\r\n// \t\t\taxis\r\n// \t\t);\r\n// \t}.bind(self, builder);\r\n// }\r\n\r\n// const reduce_func = cached_reduce((narg, ndim, axis) => {\r\n// \tlet { args, out, body, func, initial } = reduce_body(axis, ndim, narg);\r\n// \t// console.log(new Function(func, ...args, out, initial, body).toString());\r\n// \treturn new Function(func, ...args, out, initial, body);\r\n// });\r\n\r\n// export function wrap_map(name, func, narg = func.length) {\r\n// \tlet args = getargs(narg);\r\n// \tlet body = `return function (${args.join(', ')}, out=null) {\r\n// \t${args.map(arg => `${arg} = this.asarray(${arg})`).join(';')};\r\n// \tlet shape;\r\n// \tif (out == null) {\r\n// \t\tshape = ${\r\n// \t\t\tnarg > 1\r\n// \t\t\t\t? `this.broadcast_shapes(${args.map(arg => `${arg}.shape`).join(', ')})`\r\n// \t\t\t\t: `${args[0]}.shape`\r\n// \t\t};\r\n// \t\tout = this.empty(shape);\r\n// \t} else {\r\n// \t\tshape = out.shape;\r\n// \t}\r\n// \t${args.map(arg => `${arg} = this.broadcast_to(${arg}, shape)`).join(';')};\r\n// \treturn this.map_func(${narg}, out.ndim)(func, ${args.join(', ')}, out);\r\n// }`;\r\n\r\n// \treturn Object.defineProperty(\r\n// \t\tnew Function('func', body)(func).bind({\r\n// \t\t\tmap_func,\r\n// \t\t\tasarray,\r\n// \t\t\tempty,\r\n// \t\t\tbroadcast_shapes,\r\n// \t\t\tbroadcast_to,\r\n// \t\t}),\r\n// \t\t'name',\r\n// \t\t{ value: name }\r\n// \t);\r\n// }\r\n\r\n// export function wrap_map_binary(name, func) {\r\n// \treturn Object.defineProperty(\r\n// \t\t(x1, x2, out = null) => {\r\n// \t\t\tx1 = asarray(x1);\r\n// \t\t\tx2 = asarray(x2);\r\n// \t\t\tlet shape;\r\n// \t\t\tif (out == null) {\r\n// \t\t\t\tshape = broadcast_shapes(x1.shape, x2.shape);\r\n// \t\t\t\tout = empty(shape);\r\n// \t\t\t} else shape = out.shape;\r\n// \t\t\tx1 = broadcast_to(x1, shape);\r\n// \t\t\tx2 = broadcast_to(x2, shape);\r\n// \t\t\treturn map_func(2, out.ndim)(func, x1, x2, out);\r\n// \t\t},\r\n// \t\t'name',\r\n// \t\t{ value: name }\r\n// \t);\r\n// }\r\n\r\n// export function wrap_reduce_unary(name, func, defaultinitial) {\r\n// \treturn Object.defineProperty(\r\n// \t\t(x1, axis = null, out = null, initial = defaultinitial) => {\r\n// \t\t\tx1 = asarray(x1);\r\n// \t\t\tif (axis != null) {\r\n// \t\t\t\taxis = normalize_axis(axis, x1.ndim, false);\r\n// \t\t\t\tif (out == null) {\r\n// \t\t\t\t\tlet shape = [];\r\n// \t\t\t\t\tfor (let i = 0; i < x1.ndim; i++) {\r\n// \t\t\t\t\t\tif (!axis.includes(i)) shape.push(x1.shape[i]);\r\n// \t\t\t\t\t}\r\n// \t\t\t\t\tout = empty(shape);\r\n// \t\t\t\t}\r\n// \t\t\t} else {\r\n// \t\t\t\tif (out == null) {\r\n// \t\t\t\t\tout = empty([]);\r\n// \t\t\t\t}\r\n// \t\t\t}\r\n// \t\t\treturn reduce_func(1, x1.ndim, axis)(func, x1, out, initial);\r\n// \t\t},\r\n// \t\t'name',\r\n// \t\t{ value: name }\r\n// \t);\r\n// }\r\n\r\nfunction _cache(builder) {\r\n\tlet create = () => Object.create(null);\r\n\r\n\tlet root = create();\r\n\r\n\tlet get = (map, key, valuefn) => {\r\n\t\t// let flatkey = key;\r\n\t\t// // let flatkey = [].concat(...key);\r\n\t\t// let i = 0;\r\n\t\t// for (; i < flatkey.length - 1; i++) map = map[flatkey[i]] ?? (map[flatkey[i]] = create());\r\n\t\t// return map[flatkey[i]] ?? (map[flatkey[i]] = valuefn(...key));\r\n\t\treturn map[key] ?? (map[key] = valuefn(...key));\r\n\t};\r\n\r\n\treturn (...key) => get(root, key, builder);\r\n}\r\n\r\nfunction normalize_axis_index(axis, ndim) {\r\n\t// assume non null\r\n\tlet _axis = axis;\r\n\taxis = +axis;\r\n\tif (!Number.isInteger(axis)) throw `${_axis} cannot be cast to integer`;\r\n\tif (axis < 0) axis += ndim;\r\n\tif (axis < 0 || ndim <= axis) throw `axis ${_axis} is out of bounds for array of dimension ${ndim}`;\r\n\treturn axis;\r\n}\r\n\r\nlet cached_axis_masks = {};\r\n\r\nfunction normalize_axis_mask(axis, ndim, allow_duplicate = false) {\r\n\t// assume axis : int or array of int or null\r\n\tif (axis == null) {\r\n\t\treturn cached_axis_masks[ndim] ?? (cached_axis_masks[ndim] = Array(ndim).fill(1));\r\n\t}\r\n\tlet mask = Array(ndim).fill(0);\r\n\tif (Array.isArray(axis)) {\r\n\t\tfor (let i = 0; i < axis.length; i++) {\r\n\t\t\tmask[normalize_axis_index(axis[i], ndim)] = 1;\r\n\t\t}\r\n\t\tif (!allow_duplicate) {\r\n\t\t\tlet count = 0;\r\n\t\t\tfor (let i = 0; i < ndim; i++) count += mask[i];\r\n\t\t\tif (count != axis.length) throw `repeated axis`;\r\n\t\t}\r\n\t} else {\r\n\t\tmask[normalize_axis_index(axis, ndim)] = 1;\r\n\t}\r\n\treturn mask;\r\n}\r\n\r\nlet declaration = (variables, type = 'let') => {\r\n\tif (!Array.isArray(variables)) variables = [variables];\r\n\treturn `${type} ${variables.join(', ')}`;\r\n};\r\nlet destructuringArray = (declaration = null, variables, array) => {\r\n\tif (declaration != null) {\r\n\t\treturn `${declaration} [${variables.join(', ')}] = ${array}`;\r\n\t}\r\n\treturn `[${variables.join(', ')}] = ${array}`;\r\n};\r\nlet destructuringObject = (declaration = null, variables, object, keys = variables) => {\r\n\tlet pair = [];\r\n\tfor (let i = 0; i < variables.length; i++) {\r\n\t\tpair.push(keys[i] == variables[i] ? `${keys[i]}` : `${keys[i]}: ${variables[i]}`);\r\n\t}\r\n\tif (declaration != null) {\r\n\t\t// console.log(variables, keys, pair, `${declaration} {${pair.join(', ')}} = ${object}`);\r\n\t\treturn `${declaration} {${pair.join(', ')}} = ${object}`;\r\n\t}\r\n\treturn `({${pair.join(', ')}} = ${object})`;\r\n};\r\nlet assignment = (declaration = null, variables, values) => {\r\n\tif (!Array.isArray(variables)) {\r\n\t\tvariables = [variables];\r\n\t\tvalues = [values];\r\n\t}\r\n\tlet pair = [];\r\n\tfor (let i = 0; i < variables.length; i++) {\r\n\t\tpair.push(`${variables[i]} = ${values[i]}`);\r\n\t}\r\n\tif (declaration != null) {\r\n\t\treturn `${declaration} ${pair.join(', ')}`;\r\n\t}\r\n\treturn `${pair.join(', ')}`;\r\n};\r\nlet forLoop = (index, length, body) => {\r\n\treturn `for(let ${index} = 0; ${index} < ${length}; ${index}++) {${body}}`;\r\n};\r\nlet body = (...statements) => {\r\n\treturn `${statements.join('; ')}`;\r\n};\r\nlet functionCall = (fn, ...args) => {\r\n\treturn `${fn}(${args.join(', ')})`;\r\n};\r\nlet bracketAccess = (object, expr) => {\r\n\treturn `${object}[${expr}]`;\r\n};\r\nlet dotAccess = (object, ident) => {\r\n\treturn `${object}.${ident}`;\r\n};\r\nlet group = expr => {\r\n\treturn `(${expr})`;\r\n};\r\nlet product = (...args) => {\r\n\treturn `${args.map(group).join(' * ')}`;\r\n};\r\nlet sum = (...args) => {\r\n\treturn `${args.map(group).join(' + ')}`;\r\n};\r\nlet functionReturn = expr => {\r\n\treturn `return ${expr}`;\r\n};\r\n// let range = length => [...Array(length).keys()];\r\n\r\nfunction variableNames(narg, ndim, out_dim = ndim) {\r\n\tlet fn = 'fn';\r\n\tlet out = 'out';\r\n\tlet x = range(narg).map(i => `x${i + 1}`);\r\n\r\n\tlet out_offset = `${out}_offset`;\r\n\tlet x_offset = x.map(x => `${x}_offset`);\r\n\r\n\tlet out_data = `${out}_data`;\r\n\tlet x_data = x.map(x => `${x}_data`);\r\n\r\n\tlet out_strides = range(out_dim).map(axis => `${out}_strides_${axis}`);\r\n\tlet x_strides = x.map(x => range(ndim).map(axis => `${x}_strides_${axis}`));\r\n\r\n\tlet index = range(ndim).map(axis => `i_${axis}`);\r\n\tlet shape = range(ndim).map(axis => `shape_${axis}`);\r\n\r\n\treturn {\r\n\t\tfn,\r\n\t\tout,\r\n\t\tx,\r\n\t\tout_offset,\r\n\t\tx_offset,\r\n\t\tout_data,\r\n\t\tx_data,\r\n\t\tout_strides,\r\n\t\tx_strides,\r\n\t\tindex,\r\n\t\tshape,\r\n\t};\r\n}\r\n\r\nfunction declarations(obj, data, offset, strides) {\r\n\tlet statements = [];\r\n\r\n\tstatements.push(assignment('let', data, dotAccess(obj, 'data')));\r\n\tstatements.push(assignment('let', offset, dotAccess(obj, 'offset')));\r\n\tif (strides.length > 0)\r\n\t\tstatements.push(\r\n\t\t\tdestructuringObject('let', strides, dotAccess(obj, 'strides'), range(strides.length))\r\n\t\t);\r\n\r\n\treturn statements;\r\n}\r\n\r\nfunction _map_body(narg, ndim) {\r\n\tlet { fn, out, x, out_offset, x_offset, out_data, x_data, out_strides, x_strides, index, shape } =\r\n\t\tvariableNames(narg, ndim);\r\n\r\n\tlet statements = [];\r\n\r\n\tstatements.push(...declarations(out, out_data, out_offset, out_strides));\r\n\r\n\tx.forEach((x, i) => {\r\n\t\tstatements.push(...declarations(x, x_data[i], x_offset[i], x_strides[i]));\r\n\t});\r\n\r\n\tstatements.push(destructuringObject('let', shape, dotAccess(x[0], 'shape'), range(shape.length)));\r\n\r\n\tstatements.push(\r\n\t\trange(ndim)\r\n\t\t\t.reverse()\r\n\t\t\t.reduce(\r\n\t\t\t\t(body, axis) => forLoop(index[axis], shape[axis], body),\r\n\t\t\t\tbody(\r\n\t\t\t\t\tassignment(\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\tbracketAccess(\r\n\t\t\t\t\t\t\t\tout_data,\r\n\t\t\t\t\t\t\t\tsum(\r\n\t\t\t\t\t\t\t\t\tout_offset,\r\n\t\t\t\t\t\t\t\t\t...index.map((index, axis) => product(index, out_strides[axis]))\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\tfunctionCall(\r\n\t\t\t\t\t\t\t\tfn,\r\n\t\t\t\t\t\t\t\t...x_data.map((x_data, i) =>\r\n\t\t\t\t\t\t\t\t\tbracketAccess(\r\n\t\t\t\t\t\t\t\t\t\tx_data,\r\n\t\t\t\t\t\t\t\t\t\tsum(\r\n\t\t\t\t\t\t\t\t\t\t\tx_offset[i],\r\n\t\t\t\t\t\t\t\t\t\t\t...index.map((index, axis) => product(index, x_strides[i][axis]))\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\tfunctionReturn(out)\r\n\t);\r\n\r\n\treturn [fn, ...x, out, body(...statements)];\r\n}\r\n\r\nfunction _outer_body(narg, ndim) {}\r\n\r\nfunction _reduce_body(narg, ndim, axis) {\r\n\t// axis as bool(0, 1) mask\r\n\r\n\tlet out_ndim = ndim;\r\n\tfor (let i = 0; i < ndim; i++) out_ndim -= axis[i];\r\n\r\n\t// console.log(axis);\r\n\r\n\tlet { fn, out, x, out_offset, x_offset, out_data, x_data, out_strides, x_strides, index, shape } =\r\n\t\tvariableNames(narg, ndim, out_ndim);\r\n\r\n\tlet initial = 'initial';\r\n\tlet accum = 'accum';\r\n\tlet x_start = x.map(x => `${x}_start`);\r\n\r\n\tlet statements = [];\r\n\r\n\tstatements.push(...declarations(out, out_data, out_offset, out_strides));\r\n\r\n\tx.forEach((x, i) => {\r\n\t\tstatements.push(...declarations(x, x_data[i], x_offset[i], x_strides[i]));\r\n\t});\r\n\r\n\tstatements.push(destructuringObject('let', shape, dotAccess(x[0], 'shape'), range(shape.length)));\r\n\r\n\tstatements.push(\r\n\t\trange(ndim)\r\n\t\t\t.filter(i => !axis[i])\r\n\t\t\t.reverse()\r\n\t\t\t.reduce(\r\n\t\t\t\t(body, axis) => forLoop(index[axis], shape[axis], body),\r\n\t\t\t\tbody(\r\n\t\t\t\t\tassignment('let', accum, initial),\r\n\t\t\t\t\t...x_start.map((x_start, i) =>\r\n\t\t\t\t\t\tassignment(\r\n\t\t\t\t\t\t\t'let',\r\n\t\t\t\t\t\t\tx_start,\r\n\t\t\t\t\t\t\tsum(\r\n\t\t\t\t\t\t\t\tx_offset[i],\r\n\t\t\t\t\t\t\t\t...range(ndim)\r\n\t\t\t\t\t\t\t\t\t.filter(i => !axis[i])\r\n\t\t\t\t\t\t\t\t\t.map(axis => product(index[axis], x_strides[i][axis]))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t),\r\n\t\t\t\t\trange(ndim)\r\n\t\t\t\t\t\t.filter(i => axis[i])\r\n\t\t\t\t\t\t.reverse()\r\n\t\t\t\t\t\t.reduce(\r\n\t\t\t\t\t\t\t(body, axis) => forLoop(index[axis], shape[axis], body),\r\n\t\t\t\t\t\t\tbody([\r\n\t\t\t\t\t\t\t\tassignment(\r\n\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\taccum,\r\n\t\t\t\t\t\t\t\t\tfunctionCall(\r\n\t\t\t\t\t\t\t\t\t\tfn,\r\n\t\t\t\t\t\t\t\t\t\taccum,\r\n\t\t\t\t\t\t\t\t\t\t...x_data.map((x_data, i) =>\r\n\t\t\t\t\t\t\t\t\t\t\tbracketAccess(\r\n\t\t\t\t\t\t\t\t\t\t\t\tx_data,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsum(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tx_start[i],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...range(ndim)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(i => axis[i])\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map(axis => product(index[axis], x_strides[i][axis]))\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t])\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\tassignment(\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\tbracketAccess(\r\n\t\t\t\t\t\t\tout_data,\r\n\t\t\t\t\t\t\tsum(\r\n\t\t\t\t\t\t\t\tout_offset,\r\n\t\t\t\t\t\t\t\t...range(ndim)\r\n\t\t\t\t\t\t\t\t\t.filter(i => !axis[i])\r\n\t\t\t\t\t\t\t\t\t.map((axis, i) => product(index[axis], out_strides[i]))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\taccum\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\tfunctionReturn(out)\r\n\t);\r\n\r\n\treturn [fn, ...x, out, initial, body(...statements)];\r\n}\r\n\r\nfunction _accumulate_body(narg, ndim, axis) {}\r\n\r\n// console.log(_map_body(2, 3));\r\n// console.log(_reduce_body(2, 4, normalize_axis_mask([0, -1], 4)));\r\n\r\n// console.log(normalize_axis_mask([0, -1], 4));\r\n\r\nlet _map = _cache((narg, ndim) => {\r\n\t// console.log('generate', narg, ndim);\r\n\treturn new Function(..._map_body(narg, ndim));\r\n});\r\nlet _outer = _cache((narg, ndims) => {\r\n\treturn new Function();\r\n});\r\nlet _reduce = _cache((narg, ndim, axis) => {\r\n\t// console.log(new Function(..._reduce_body(narg, ndim, axis)).toString());\r\n\treturn new Function(..._reduce_body(narg, ndim, axis));\r\n});\r\nlet _accumulate = _cache((narg, ndim, ...axis) => {\r\n\treturn new Function();\r\n});\r\n\r\nfunction _wrap_map(name, fn, narg = fn.length, use_args = false) {\r\n\tlet func;\r\n\tif (narg == 1) {\r\n\t\tif (use_args) {\r\n\t\t\tfunc = (x1, out = null, args = null) => {\r\n\t\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x1);\r\n\t\t\t\tif (out == null) {\r\n\t\t\t\t\tout = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(x1.shape);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(x1, out.shape);\r\n\t\t\t\t}\r\n\t\t\t\treturn _map(1, out.ndim)(fn.bind(null, args), x1, out);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tfunc = (x1, out = null) => {\r\n\t\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x1);\r\n\t\t\t\tif (out == null) {\r\n\t\t\t\t\tout = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(x1.shape);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(x1, out.shape);\r\n\t\t\t\t}\r\n\t\t\t\treturn _map(1, out.ndim)(fn, x1, out);\r\n\t\t\t};\r\n\t\t}\r\n\t} else if (narg == 2) {\r\n\t\tfunc = (x1, x2, out = null) => {\r\n\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x1);\r\n\t\t\tx2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x2);\r\n\t\t\tlet shape;\r\n\t\t\tif (out == null) {\r\n\t\t\t\tshape = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_shapes)(x1.shape, x2.shape);\r\n\t\t\t\tout = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(shape);\r\n\t\t\t} else shape = out.shape;\r\n\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(x1, shape);\r\n\t\t\tx2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(x2, shape);\r\n\t\t\treturn _map(2, out.ndim)(fn, x1, x2, out);\r\n\t\t};\r\n\t} else throw 'not support on narg > 2 yet';\r\n\treturn Object.defineProperty(func, 'name', { value: name });\r\n}\r\n\r\nfunction _wrap_map_unary(name, fn, use_args = false) {\r\n\tlet func;\r\n\tif (use_args) {\r\n\t\tfunc = (x1, out = null, args = null) => {\r\n\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x1);\r\n\t\t\tif (out == null) {\r\n\t\t\t\tout = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(x1.shape);\r\n\t\t\t} else {\r\n\t\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(x1, out.shape);\r\n\t\t\t}\r\n\t\t\treturn _map(1, out.ndim)(fn.bind(null, args), x1, out);\r\n\t\t};\r\n\t} else {\r\n\t\tfunc = (x1, out = null) => {\r\n\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x1);\r\n\t\t\tif (out == null) {\r\n\t\t\t\tout = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(x1.shape);\r\n\t\t\t} else {\r\n\t\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(x1, out.shape);\r\n\t\t\t}\r\n\t\t\treturn _map(1, out.ndim)(fn, x1, out);\r\n\t\t};\r\n\t}\r\n\treturn Object.defineProperty(func, 'name', { value: name });\r\n}\r\n\r\nfunction _wrap_map_binary(name, fn) {\r\n\tlet func;\r\n\r\n\tfunc = (x1, x2, out = null) => {\r\n\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x1);\r\n\t\tx2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x2);\r\n\t\tlet shape;\r\n\t\tif (out == null) {\r\n\t\t\tshape = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_shapes)(x1.shape, x2.shape);\r\n\t\t\tout = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(shape);\r\n\t\t} else shape = out.shape;\r\n\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(x1, shape);\r\n\t\tx2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast_to)(x2, shape);\r\n\t\treturn _map(2, out.ndim)(fn, x1, x2, out);\r\n\t};\r\n\r\n\treturn Object.defineProperty(func, 'name', { value: name });\r\n}\r\n\r\nconst EMPTY_SHAPE = [];\r\n\r\nfunction _wrap_reduce(name, fn, narg = fn.length - 1, defaultinitial) {\r\n\tlet func;\r\n\tif (narg == 1)\r\n\t\tfunc = (\r\n\t\t\tx1,\r\n\t\t\taxis = null,\r\n\t\t\tout = null,\r\n\t\t\tkeepdims = false,\r\n\t\t\tinitial = defaultinitial,\r\n\t\t\treturn_scalar = true\r\n\t\t) => {\r\n\t\t\tif (out != null) return_scalar = false;\r\n\t\t\tx1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x1);\r\n\t\t\tlet { ndim, shape } = x1;\r\n\t\t\tlet outshape;\r\n\t\t\tif (axis == null) {\r\n\t\t\t\taxis = normalize_axis_mask(axis, ndim);\r\n\t\t\t\toutshape = EMPTY_SHAPE;\r\n\t\t\t} else {\r\n\t\t\t\taxis = normalize_axis_mask(axis, ndim);\r\n\t\t\t\toutshape = [];\r\n\t\t\t\tfor (let i = 0; i < ndim; i++) if (!axis[i]) outshape.push(shape[i]);\r\n\t\t\t}\r\n\t\t\tif (keepdims) {\r\n\t\t\t\t// very hacky\r\n\t\t\t\t// kinda force it to keepdims=false\r\n\t\t\t\t// and force it back to original shape and strides (ndim is not used in the loop)\r\n\r\n\t\t\t\t// maybe pass out_data, out_strides, out_shape instead of out to the generated function\r\n\t\t\t\t// to avoid this?\r\n\r\n\t\t\t\t// let { strides } = x1;\r\n\t\t\t\tlet sameshape = shape.slice();\r\n\t\t\t\t// let outstrides = [];\r\n\t\t\t\tfor (let i = 0; i < ndim; i++) {\r\n\t\t\t\t\tif (axis[i]) {\r\n\t\t\t\t\t\tsameshape[i] = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// outstrides.push(strides[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(sameshape);\r\n\t\t\t\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(sameshape, out.shape)) throw 'unmatch shape';\r\n\t\t\t\t// else {\r\n\t\t\t\t// \tsameshape = out.shape;\r\n\t\t\t\t// \tstrides = out.strides;\r\n\t\t\t\t// }\r\n\r\n\t\t\t\t// out.shape = outshape;\r\n\t\t\t\t// out.strides = outstrides;\r\n\r\n\t\t\t\t// out = _reduce(1, ndim, axis)(fn, x1, out, initial);\r\n\r\n\t\t\t\t// out.shape = sameshape;\r\n\t\t\t\t// out.strides = strides;\r\n\r\n\t\t\t\t// how about reshape out as a non-copy view?\r\n\t\t\t\t// if only interleaved 1s exist in the shape\r\n\t\t\t\t// seems working\r\n\t\t\t\t_reduce(1, ndim, axis)(fn, x1, out.reshape(outshape), initial);\r\n\t\t\t\treturn return_scalar && out.ndim == 0 ? out.item() : out;\r\n\t\t\t}\r\n\r\n\t\t\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(outshape);\r\n\t\t\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(outshape, out.shape)) throw 'unmatch shape';\r\n\r\n\t\t\tout = _reduce(1, ndim, axis)(fn, x1, out, initial);\r\n\t\t\treturn return_scalar && out.ndim == 0 ? out.item() : out;\r\n\t\t};\r\n\telse throw 'not support on narg > 1 yet';\r\n\treturn Object.defineProperty(func, 'name', { value: name });\r\n}\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/func.mjs?");

/***/ }),

/***/ "./core/gradient.mjs":
/*!***************************!*\
  !*** ./core/gradient.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gradient\": () => (/* binding */ gradient)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\n// TBD\r\n\r\nfunction gradient(f, varargs, axis = null, edge_order = 1) {}\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/gradient.mjs?");

/***/ }),

/***/ "./core/identity.mjs":
/*!***************************!*\
  !*** ./core/identity.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"identity\": () => (/* binding */ identity)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction identity(n) {\r\n\tlet size = n * n;\r\n\tlet data = Array(size).fill(0);\r\n\tfor (let i = 0; i < size; i += n + 1) data[i] = 1;\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([n, n], data);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'identity',\r\n\t\t() => identity(3),\r\n\t\t() => [\r\n\t\t\t[1, 0, 0],\r\n\t\t\t[0, 1, 0],\r\n\t\t\t[0, 0, 1],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'identity',\r\n\t\t() => identity(0),\r\n\t\t() => []\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/identity.mjs?");

/***/ }),

/***/ "./core/indices.mjs":
/*!**************************!*\
  !*** ./core/indices.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"indices\": () => (/* binding */ indices)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction indices(dimensions, sparse = false) {\r\n\tlet N = dimensions.length;\r\n\tlet shape = Array(N).fill(1);\r\n\r\n\tlet res;\r\n\tif (sparse) res = [];\r\n\telse res = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)([N, ...dimensions]);\r\n\r\n\tfor (let i = 0; i < dimensions.length; i++) {\r\n\t\tlet dim = dimensions[i];\r\n\t\tlet idx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(dim).reshape([...shape.slice(0, i), dim, ...shape.slice(i + 1)]);\r\n\t\tif (sparse) res.push(idx);\r\n\t\telse res.set([i], idx);\r\n\t}\r\n\r\n\treturn res;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tindices,\r\n\t\t() => indices([2, 3]),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 0, 0],\r\n\t\t\t\t\t[1, 1, 1],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 1, 2],\r\n\t\t\t\t\t[0, 1, 2],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tindices,\r\n\t\t() => indices([2, 3], true),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[0], [1]]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[0, 1, 2]])]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/indices.mjs?");

/***/ }),

/***/ "./core/interp.mjs":
/*!*************************!*\
  !*** ./core/interp.mjs ***!
  \*************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"interp\": () => (/* binding */ interp)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction interp(x, xp, fp, left = null, right = null, period = null) {\r\n\t// not going to very strict check\r\n\t[x, xp, fp] = [x, xp, fp].map(_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray);\r\n\tif (xp.ndim != 1 || fp.ndim != 1) throw `Data points must be 1-D sequences`;\r\n\tif (xp.shape[0] != fp.shape[0]) throw `fp and xp are not of the same length`;\r\n\r\n\tif (period != null) {\r\n\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.mod)(x, period);\r\n\t\txp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.mod)(xp, period);\r\n\t\tlet asort_xp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.argsort)(xp);\r\n\t\t// console.log(xp, asort_xp);\r\n\t\txp = xp.get(asort_xp);\r\n\t\tfp = fp.get(asort_xp);\r\n\t\txp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.concatenate)([(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)(xp.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(-1)), period), xp, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.add)(xp.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(0, 1)), period)]);\r\n\t\tfp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.concatenate)([fp.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(-1)), fp, fp.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(0, 1))]);\r\n\t}\r\n\r\n\tleft ??= fp.item(0);\r\n\tright ??= fp.item(-1);\r\n\r\n\tlet data = Array(x.size);\r\n\tlet i = 0;\r\n\tlet lower = xp.item(0);\r\n\tlet upper = xp.item(-1);\r\n\tfor (let value of x.flat) {\r\n\t\tlet y;\r\n\t\tif (value < lower) {\r\n\t\t\ty = left;\r\n\t\t} else if (value > upper) {\r\n\t\t\ty = right;\r\n\t\t} else {\r\n\t\t\t// console.log(value);\r\n\t\t\tlet i = 1;\r\n\t\t\tfor (; i < xp.length && value > xp.item(i); i++);\r\n\t\t\tlet x1 = xp.item(i - 1);\r\n\t\t\tif (value == x1) {\r\n\t\t\t\ty = fp.item(i - 1);\r\n\t\t\t} else {\r\n\t\t\t\tlet x2 = xp.item(i);\r\n\t\t\t\tif (value == x2) {\r\n\t\t\t\t\ty = fp.item(i);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet y1 = fp.item(i - 1);\r\n\t\t\t\t\tlet y2 = fp.item(i);\r\n\t\t\t\t\t// console.log(value, i, x1, x2, y1, y2, x - x1, x2 - x1);\r\n\t\t\t\t\ty = ((value - x1) * (y2 - y1)) / (x2 - x1) + y1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tdata[i++] = y;\r\n\t}\r\n\t// console.log(x, xp, fp, data);\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(x.shape, data);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tinterp,\r\n\t\t() => interp(2.5, [1, 2, 3], [3, 2, 0]),\r\n\t\t() => 1.0\r\n\t)\r\n\t.add(\r\n\t\tinterp,\r\n\t\t() => interp(4.5, [6, 4, 5], [3, 2, 0]),\r\n\t\t() => 3\r\n\t)\r\n\t.add(\r\n\t\tinterp,\r\n\t\t() => interp([0, 1, 1.5, 2.5, 3.14], [1, 2, 3], [3, 2, 0]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([3, 3, 2.5, 1.0, 0])\r\n\t)\r\n\t.add(\r\n\t\tinterp,\r\n\t\t() =>\r\n\t\t\tinterp(\r\n\t\t\t\t[-180, -170, -185, 185, -10, -5, 0, 365],\r\n\t\t\t\t[190, -190, 350, -350],\r\n\t\t\t\t[5, 10, 3, 4],\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t360\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([7.5, 5, 8.75, 6.25, 3, 3.25, 3.5, 3.75])\r\n\t);\r\n// .add(\r\n// \tinterp,\r\n// \t() => interp(3.14, [1, 2, 3], [3, 2, 0], null, -99.0),\r\n// \t() => -99.0\r\n// )\r\n// .add(\r\n// \tinterp,\r\n// \t() =>\r\n// \t\tinterp(\r\n// \t\t\t[-180, -170, -185, 185, -10, -5, 0, 365],\r\n// \t\t\t[190, -190, 350, -350],\r\n// \t\t\t[5, 10, 3, 4],\r\n// \t\t\tnull,\r\n// \t\t\tnull,\r\n// \t\t\t360\r\n// \t\t),\r\n// \t() => array([7.5, 5, 8.75, 6.25, 3, 3.25, 3.5, 3.75])\r\n// );\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/interp.mjs?");

/***/ }),

/***/ "./core/isscalar.mjs":
/*!***************************!*\
  !*** ./core/isscalar.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isscalar\": () => (/* binding */ isscalar)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction isscalar(element) {\r\n\tswitch (typeof element) {\r\n\t\tcase 'boolean':\r\n\t\tcase 'function':\r\n\t\tcase 'number':\r\n\t\tcase 'string':\r\n\t\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'isscalar',\r\n\t\t() => isscalar(3.1),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\t'isscalar',\r\n\t\t() => isscalar((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(3.1)),\r\n\t\t() => false\r\n\t)\r\n\t.add(\r\n\t\t'isscalar',\r\n\t\t() => isscalar([3.1]),\r\n\t\t() => false\r\n\t)\r\n\t.add(\r\n\t\t'isscalar',\r\n\t\t() => isscalar(false),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\t'isscalar',\r\n\t\t() => isscalar('numpy'),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\t'isscalar',\r\n\t\t() => isscalar(Number()),\r\n\t\t() => true\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/isscalar.mjs?");

/***/ }),

/***/ "./core/ix_.mjs":
/*!**********************!*\
  !*** ./core/ix_.mjs ***!
  \**********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ix_\": () => (/* binding */ ix_)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction ix_(...args) {\r\n\tlet out = [];\r\n\tlet nd = args.length;\r\n\tfor (let k = 0; k < nd; k++) {\r\n\t\tlet idx = args[k];\r\n\t\tidx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(idx);\r\n\t\tif (idx.ndim != 1) {\r\n\t\t\t`cross index must be 1 dimensional`;\r\n\t\t}\r\n\t\tif (typeof idx.item(0) == 'boolean') {\r\n\t\t\t[idx] = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.nonzero)(idx);\r\n\t\t}\r\n\t\tidx = idx.reshape([...Array(k).fill(1), idx.size, ...Array(nd - k - 1).fill(1)]);\r\n\t\tout.push(idx);\r\n\t}\r\n\treturn out;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tix_,\r\n\t\t() => ix_([0, 1], [2, 4]),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[0], [1]]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[2, 4]])]\r\n\t)\r\n\t.add(\r\n\t\tix_,\r\n\t\t() => ix_([true, true], [2, 4]),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[0], [1]]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[2, 4]])]\r\n\t)\r\n\t.add(\r\n\t\tix_,\r\n\t\t() => ix_([true, true], [false, false, true, false, true]),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[0], [1]]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[2, 4]])]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/ix_.mjs?");

/***/ }),

/***/ "./core/linspace.mjs":
/*!***************************!*\
  !*** ./core/linspace.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"linspace\": () => (/* binding */ linspace)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction linspace(start, stop, num = 50, endpoint = true, retstep = false) {\r\n\tlet step = (stop - start) / (endpoint ? num - 1 : num);\r\n\tlet data = [];\r\n\tfor (let i = 0; i < num; i++) {\r\n\t\tdata[i] = start + i * step;\r\n\t}\r\n\tlet array = new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([num], data);\r\n\tif (retstep) return [array, step];\r\n\treturn array;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'linspace',\r\n\t\t() => linspace(2, 3, 5),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 2.25, 2.5, 2.75, 3])\r\n\t)\r\n\t.add(\r\n\t\t'linspace',\r\n\t\t() => linspace(2, 3, 5, false),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 2.2, 2.4, 2.6, 2.8])\r\n\t)\r\n\t.add(\r\n\t\t'linspace',\r\n\t\t() => linspace(2.0, 3.0, 5, true, true),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 2.25, 2.5, 2.75, 3]), 0.25]\r\n\t)\r\n\t.add(\r\n\t\t'linspace',\r\n\t\t() => linspace(2.0, 3.0, 5, false, true),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 2.2, 2.4, 2.6, 2.8]), 0.2]\r\n\t)\r\n\t.add(\r\n\t\t'linspace',\r\n\t\t() => linspace(1, 10, 10, false),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 1.9, 2.8, 3.7, 4.6, 5.5, 6.4, 7.3, 8.2, 9.1])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/linspace.mjs?");

/***/ }),

/***/ "./core/logic.mjs":
/*!************************!*\
  !*** ./core/logic.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"all\": () => (/* binding */ all),\n/* harmony export */   \"any\": () => (/* binding */ any),\n/* harmony export */   \"isfinite\": () => (/* binding */ isfinite),\n/* harmony export */   \"isinf\": () => (/* binding */ isinf),\n/* harmony export */   \"isna\": () => (/* binding */ isna),\n/* harmony export */   \"isneginf\": () => (/* binding */ isneginf),\n/* harmony export */   \"isposinf\": () => (/* binding */ isposinf)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nconst all = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_reduce)('all', (accum, value) => accum && !!value, 1, true);\r\n\r\nconst any = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_reduce)('any', (accum, value) => accum || !!value, 1, false);\r\n\r\nconst isfinite = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('isfinite', Number.isFinite);\r\n\r\nconst isinf = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)(\r\n\t'isinf',\r\n\tn => n == Number.POSITIVE_INFINITY || n == Number.NEGATIVE_INFINITY\r\n);\r\n\r\nconst isna = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('isinf', Number.isNaN);\r\n\r\nconst isneginf = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('isinf', n => n == Number.NEGATIVE_INFINITY);\r\n\r\nconst isposinf = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('isinf', n => n == Number.POSITIVE_INFINITY);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tall,\r\n\t\t() =>\r\n\t\t\t// noted that !!all(false) is true\r\n\t\t\tall([\r\n\t\t\t\t[true, false],\r\n\t\t\t\t[true, true],\r\n\t\t\t]) == false,\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tall,\r\n\t\t() =>\r\n\t\t\tall(\r\n\t\t\t\t[\r\n\t\t\t\t\t[true, false],\r\n\t\t\t\t\t[true, true],\r\n\t\t\t\t],\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([true, false])\r\n\t)\r\n\t.add(\r\n\t\tall,\r\n\t\t() => all([-1, 4, 5]),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tall,\r\n\t\t() => {\r\n\t\t\tlet o = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(false);\r\n\t\t\treturn [all([-1, 4, 5], null, o) === o, o];\r\n\t\t},\r\n\t\t() => [true, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(true)]\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tany,\r\n\t\t() =>\r\n\t\t\tany([\r\n\t\t\t\t[true, false],\r\n\t\t\t\t[true, true],\r\n\t\t\t]),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tany,\r\n\t\t() =>\r\n\t\t\tany(\r\n\t\t\t\t[\r\n\t\t\t\t\t[true, false],\r\n\t\t\t\t\t[false, false],\r\n\t\t\t\t],\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([true, false])\r\n\t)\r\n\t.add(\r\n\t\tany,\r\n\t\t() => any([-1, 0, 5]),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tany,\r\n\t\t// > np.any(np.nan)\r\n\t\t// True\r\n\t\t// Nope\r\n\t\t() => any(NaN),\r\n\t\t() => false\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/logic.mjs?");

/***/ }),

/***/ "./core/math.mjs":
/*!***********************!*\
  !*** ./core/math.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NINF\": () => (/* binding */ NINF),\n/* harmony export */   \"abs\": () => (/* binding */ abs),\n/* harmony export */   \"absolute\": () => (/* binding */ absolute),\n/* harmony export */   \"amax\": () => (/* binding */ amax),\n/* harmony export */   \"amin\": () => (/* binding */ amin),\n/* harmony export */   \"arccos\": () => (/* binding */ arccos),\n/* harmony export */   \"arccosh\": () => (/* binding */ arccosh),\n/* harmony export */   \"arcsin\": () => (/* binding */ arcsin),\n/* harmony export */   \"arcsinh\": () => (/* binding */ arcsinh),\n/* harmony export */   \"arctan\": () => (/* binding */ arctan),\n/* harmony export */   \"arctan2\": () => (/* binding */ arctan2),\n/* harmony export */   \"arctanh\": () => (/* binding */ arctanh),\n/* harmony export */   \"around\": () => (/* binding */ around),\n/* harmony export */   \"cbrt\": () => (/* binding */ cbrt),\n/* harmony export */   \"ceil\": () => (/* binding */ ceil),\n/* harmony export */   \"copysign\": () => (/* binding */ copysign),\n/* harmony export */   \"cos\": () => (/* binding */ cos),\n/* harmony export */   \"cosh\": () => (/* binding */ cosh),\n/* harmony export */   \"cumprod\": () => (/* binding */ cumprod),\n/* harmony export */   \"cumsum\": () => (/* binding */ cumsum),\n/* harmony export */   \"deg2rad\": () => (/* binding */ deg2rad),\n/* harmony export */   \"degrees\": () => (/* binding */ degrees),\n/* harmony export */   \"diff\": () => (/* binding */ diff),\n/* harmony export */   \"e\": () => (/* binding */ e),\n/* harmony export */   \"ediff1d\": () => (/* binding */ ediff1d),\n/* harmony export */   \"exp\": () => (/* binding */ exp),\n/* harmony export */   \"exp2\": () => (/* binding */ exp2),\n/* harmony export */   \"expm1\": () => (/* binding */ expm1),\n/* harmony export */   \"fix\": () => (/* binding */ fix),\n/* harmony export */   \"floor\": () => (/* binding */ floor),\n/* harmony export */   \"fmod\": () => (/* binding */ fmod),\n/* harmony export */   \"gcd\": () => (/* binding */ gcd),\n/* harmony export */   \"hypot\": () => (/* binding */ hypot),\n/* harmony export */   \"inf\": () => (/* binding */ inf),\n/* harmony export */   \"lcm\": () => (/* binding */ lcm),\n/* harmony export */   \"ldexp\": () => (/* binding */ ldexp),\n/* harmony export */   \"log\": () => (/* binding */ log),\n/* harmony export */   \"log10\": () => (/* binding */ log10),\n/* harmony export */   \"log1p\": () => (/* binding */ log1p),\n/* harmony export */   \"log2\": () => (/* binding */ log2),\n/* harmony export */   \"logaddexp\": () => (/* binding */ logaddexp),\n/* harmony export */   \"logaddexp2\": () => (/* binding */ logaddexp2),\n/* harmony export */   \"maximum\": () => (/* binding */ maximum),\n/* harmony export */   \"minimum\": () => (/* binding */ minimum),\n/* harmony export */   \"nan\": () => (/* binding */ nan),\n/* harmony export */   \"nan_to_num\": () => (/* binding */ nan_to_num),\n/* harmony export */   \"nancumprod\": () => (/* binding */ nancumprod),\n/* harmony export */   \"nancumsum\": () => (/* binding */ nancumsum),\n/* harmony export */   \"nanprod\": () => (/* binding */ nanprod),\n/* harmony export */   \"nansum\": () => (/* binding */ nansum),\n/* harmony export */   \"negative\": () => (/* binding */ negative),\n/* harmony export */   \"pi\": () => (/* binding */ pi),\n/* harmony export */   \"positive\": () => (/* binding */ positive),\n/* harmony export */   \"prod\": () => (/* binding */ prod),\n/* harmony export */   \"rad2deg\": () => (/* binding */ rad2deg),\n/* harmony export */   \"radians\": () => (/* binding */ radians),\n/* harmony export */   \"reciprocal\": () => (/* binding */ reciprocal),\n/* harmony export */   \"rint\": () => (/* binding */ rint),\n/* harmony export */   \"sign\": () => (/* binding */ sign),\n/* harmony export */   \"signbit\": () => (/* binding */ signbit),\n/* harmony export */   \"sin\": () => (/* binding */ sin),\n/* harmony export */   \"sinh\": () => (/* binding */ sinh),\n/* harmony export */   \"sqrt\": () => (/* binding */ sqrt),\n/* harmony export */   \"square\": () => (/* binding */ square),\n/* harmony export */   \"sum\": () => (/* binding */ sum),\n/* harmony export */   \"tan\": () => (/* binding */ tan),\n/* harmony export */   \"tanh\": () => (/* binding */ tanh),\n/* harmony export */   \"trunc\": () => (/* binding */ trunc),\n/* harmony export */   \"unwrap\": () => (/* binding */ unwrap)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nconst e = Math.E;\r\nconst nan = NaN;\r\nconst pi = Math.PI;\r\nconst inf = Infinity;\r\nconst NINF = -Infinity;\r\n\r\nconst sin = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('sin', Math.sin);\r\nconst cos = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('cos', Math.cos);\r\nconst tan = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('tan', Math.tan);\r\n\r\nconst arcsin = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('arcsin', Math.asin);\r\nconst arccos = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('arccos', Math.acos);\r\nconst arctan = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('arctan', Math.atan);\r\n\r\nconst hypot = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('hypot', Math.hypot);\r\n\r\nconst arctan2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('arctan2', Math.atan2);\r\n\r\nconst degrees = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('degrees', x => (x * 180) / pi);\r\nconst radians = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('radians', x => (x / 180) * pi);\r\n\r\nfunction unwrap(p, period = 2 * pi, discont = period / 2) {\r\n\tp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(p);\r\n\tif (p.ndim != 1) throw 'unwrap currently only supports 1d arrays';\r\n\r\n\tlet unwrapped = [p.data[p.offset]];\r\n\tlet lastAngle = p.data[p.offset];\r\n\r\n\tlet first = true;\r\n\tfor (let offset of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(p.shape, p.strides)) {\r\n\t\tif (first) {\r\n\t\t\tfirst = false;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tlet delta = p.data[p.offset + offset] - lastAngle;\r\n\t\tif (delta > discont) {\r\n\t\t\tdelta -= period;\r\n\t\t} else if (delta < -discont) {\r\n\t\t\tdelta += period;\r\n\t\t}\r\n\t\tlet angle = lastAngle + delta;\r\n\t\tunwrapped.push(angle);\r\n\t\tlastAngle = angle;\r\n\t}\r\n\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(unwrapped);\r\n}\r\n\r\nconst rad2deg = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('rad2deg', x => (x * 180) / pi);\r\nconst deg2rad = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('deg2rad', x => (x / 180) * pi);\r\n\r\nconst sinh = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('sinh', Math.sinh);\r\nconst cosh = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('cosh', Math.cosh);\r\nconst tanh = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('tanh', Math.tanh);\r\n\r\nconst arcsinh = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('arcsinh', Math.asinh);\r\nconst arccosh = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('arccosh', Math.acosh);\r\nconst arctanh = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('arctanh', Math.atanh);\r\n\r\nconst _around = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)(\r\n\t'_around',\r\n\t({ decimals }, x) => {\r\n\t\tlet multiplier = 10 ** decimals;\r\n\t\tlet n = x * multiplier;\r\n\t\tlet m = Math.round(n);\r\n\t\tlet fraction = n % 1;\r\n\t\tif (fraction == 0.5 || fraction == -0.5) {\r\n\t\t\tm = m % 2 ? m - 1 : m;\r\n\t\t}\r\n\t\treturn m / multiplier;\r\n\t},\r\n\ttrue\r\n);\r\n\r\nconst around = function (x, decimals = 0, out) {\r\n\treturn _around(x, out, { decimals });\r\n};\r\n\r\nconst rint = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('rint', x => {\r\n\tlet fraction = x % 1;\r\n\tlet n = Math.round(x);\r\n\tif (fraction == 0.5 || fraction == -0.5) {\r\n\t\tn = n % 2 ? n - 1 : n;\r\n\t}\r\n\treturn n;\r\n});\r\n\r\nconst fix = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('fix', x => Math.sign(x) * Math.floor(Math.abs(x)));\r\n\r\nconst floor = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('floor', Math.floor);\r\nconst ceil = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('ceil', Math.ceil);\r\nconst trunc = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('trunc', Math.trunc);\r\n\r\nconst prod = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_reduce)('prod', (x1, x2) => x1 * x2, 1, 1);\r\nconst sum = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_reduce)('sum', (x1, x2) => x1 + x2, 1, 0);\r\n\r\nconst nanprod = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_reduce)('nanprod', (x1, x2) => x1 * (isNaN(x2) ? 1 : x2), 1, 1);\r\nconst nansum = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_reduce)('nansum', (x1, x2) => x1 + (isNaN(x2) ? 0 : x2), 1, 0);\r\n\r\nconst cumprod = null;\r\nconst cumsum = null;\r\n\r\nconst nancumprod = null;\r\nconst nancumsum = null;\r\n\r\nfunction diff(a, n = 1, axis = -1) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\r\n\tlet { ndim } = a;\r\n\taxis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, ndim);\r\n\r\n\tlet slices1 = Array(ndim).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\tlet slices2 = Array(ndim).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\tslices1[axis] = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(1, null);\r\n\tslices2[axis] = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(null, -1);\r\n\r\n\tfor (let i = 0; i < n; i++) a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)(a.get(...slices1), a.get(...slices2));\r\n\r\n\treturn a;\r\n}\r\n\r\nfunction ediff1d(a, to_end = null, to_begin = null) {\r\n\ta = diff((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.reshape)(a, -1));\r\n\r\n\tif (to_begin != null || to_end != null) {\r\n\t\tlet arrays = [];\r\n\t\tif (to_begin != null) arrays.push(to_begin);\r\n\t\tarrays.push(a);\r\n\t\tif (to_end != null) arrays.push(to_end);\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.concatenate)(arrays, null);\r\n\t}\r\n\treturn a;\r\n}\r\n\r\nconst exp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('exp', Math.exp, 1);\r\n\r\nconst expm1 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('expm1', x => Math.exp(x) - 1);\r\nconst exp2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('exp2', x => 2 ** x);\r\nconst log = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('log', Math.log);\r\nconst log10 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('log10', Math.log10);\r\nconst log2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('log2', Math.log2);\r\nconst log1p = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('log1p', Math.log1p);\r\nconst logaddexp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('logaddexp', (x1, x2) => Math.log(Math.exp(x1) + Math.exp(x2)));\r\n\r\nconst logaddexp2 = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('logaddexp2', (x1, x2) => Math.log2(2 ** x1 + 2 ** x2));\r\n\r\nconst signbit = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('signbit', x => x < 0);\r\nconst copysign = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('copysign', (x1, x2) => (x2 < 0 ? -Math.abs(x1) : Math.abs(x1)));\r\n\r\nconst ldexp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('ldexp', (x1, x2) => x1 * 2 ** x2);\r\n\r\nconst positive = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('positive', x => +x);\r\nconst negative = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('negative', x => -x);\r\n\r\nfunction _gcd(a, b) {\r\n\twhile (b != 0) {\r\n\t\tlet tmp = b;\r\n\t\tb = a % b;\r\n\t\ta = tmp;\r\n\t}\r\n\treturn a;\r\n}\r\n\r\nfunction _lcm(a, b) {\r\n\treturn (a * b) / _gcd(a, b);\r\n}\r\n\r\nconst lcm = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('lcm', _lcm);\r\nconst gcd = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('gcd', _gcd);\r\n\r\nconst reciprocal = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('reciprocal', x => 1 / x);\r\n\r\nconst fmod = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('fmod', (x1, x2) => x1 - ((x1 / x2) | 0) * x2);\r\n\r\nconst maximum = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('maximum', Math.max);\r\n\r\nconst minimum = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_binary)('minimum', Math.min);\r\n\r\nconst amax = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_reduce)('amax', Math.max, 1, -inf);\r\n\r\nconst amin = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_reduce)('amin', Math.min, 1, inf);\r\n\r\nconst sqrt = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('sqrt', Math.sqrt);\r\n\r\nconst cbrt = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('cbrt', Math.cbrt);\r\n\r\nconst square = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('square', x => x ** 2);\r\n\r\nconst abs = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('abs', Math.abs),\r\n\tabsolute = abs;\r\n\r\nconst sign = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('sign', Math.sign);\r\n\r\nconst nan_to_num = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__._wrap_map_unary)('nan_to_num', x => {\r\n\tif (isNaN(x)) return 0;\r\n\tif (x == Infinity) return Number.MAX_VALUE;\r\n\tif (x == -Infinity) return Number.MIN_VALUE;\r\n\treturn x;\r\n});\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tamax,\r\n\t\t() => amax((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(4).reshape(2, 2)),\r\n\t\t() => 3\r\n\t)\r\n\t.add(\r\n\t\tamax,\r\n\t\t() => amax((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(4).reshape(2, 2), 0),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 3])\r\n\t)\r\n\t.add(\r\n\t\tamax,\r\n\t\t() => amax((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(4).reshape(2, 2), 1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 3])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tmaximum,\r\n\t\t() => maximum([2, 3, 4], [1, 5, 2]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 5, 4])\r\n\t)\r\n\t.add(\r\n\t\tmaximum,\r\n\t\t() => maximum((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.eye)(2), [0.5, 2]),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[0.5, 2],\r\n\t\t\t])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tfmod,\r\n\t\t() => fmod([-3, -2, -1, 1, 2, 3], 2),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([-1, 0, -1, 1, 0, 1])\r\n\t)\r\n\t.add(\r\n\t\tfmod,\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.remainder)([-3, -2, -1, 1, 2, 3], 2),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 0, 1, 1, 0, 1])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tgcd,\r\n\t\t() => gcd(12, 20),\r\n\t\t() => 4\r\n\t)\r\n\t.add(\r\n\t\tgcd,\r\n\t\t() => gcd((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6), 20),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([20, 1, 2, 1, 4, 5])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tlcm,\r\n\t\t() => lcm(12, 20),\r\n\t\t() => 60\r\n\t)\r\n\t.add(\r\n\t\tlcm,\r\n\t\t() => lcm((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6), 20),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 20, 20, 60, 20, 20])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tcopysign,\r\n\t\t() => copysign(1.3, -1),\r\n\t\t() => -1.3\r\n\t)\r\n\t.add(\r\n\t\tcopysign,\r\n\t\t() => 1 / copysign(0, 1),\r\n\t\t() => Infinity\r\n\t)\r\n\t.add(\r\n\t\tcopysign,\r\n\t\t() => 1 / copysign(0, -1),\r\n\t\t() => -Infinity\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tsignbit,\r\n\t\t() => signbit(-1.2),\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\tsignbit,\r\n\t\t() => signbit((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, -2.3, 2.1])),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([false, true, false])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tlogaddexp,\r\n\t() => {\r\n\t\tlet prob1 = log(1e-50);\r\n\t\tlet prob2 = log(2.5e-50);\r\n\t\tlet prob12 = logaddexp(prob1, prob2);\r\n\t\treturn prob12;\r\n\t},\r\n\t() => -113.87649168120691\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tunwrap,\r\n\t\t() => unwrap([0, 1, 2, -1, 0], 4),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 2, 3, 4])\r\n\t)\r\n\t.add(\r\n\t\tunwrap,\r\n\t\t() => unwrap([1, 2, 3, 4, 5, 6, 1, 2, 3], 6),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, 4, 5, 6, 7, 8, 9])\r\n\t)\r\n\t.add(\r\n\t\tunwrap,\r\n\t\t() => unwrap([2, 3, 4, 5, 2, 3, 4, 5], 4),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 3, 4, 5, 6, 7, 8, 9])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\taround,\r\n\t\t() => around([0.37, 1.64]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2])\r\n\t)\r\n\t.add(\r\n\t\taround,\r\n\t\t() => around([0.37, 1.64], 1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0.4, 1.6])\r\n\t)\r\n\t.add(\r\n\t\taround,\r\n\t\t() => around([0.5, 1.5, 2.5, 3.5, 4.5]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 2, 4, 4])\r\n\t)\r\n\t.add(\r\n\t\taround,\r\n\t\t() => around([5, 15, 25, 35, 45], -1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 20, 20, 40, 40])\r\n\t)\r\n\t.add(\r\n\t\taround,\r\n\t\t() => around([-5, -15, -25, -35, -45], -1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, -20, -20, -40, -40])\r\n\t)\r\n\t.add(\r\n\t\taround,\r\n\t\t() => around([1, 2, 3, 11], 1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, 11])\r\n\t)\r\n\t.add(\r\n\t\taround,\r\n\t\t() => around([1, 2, 3, 11], -1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 0, 0, 10])\r\n\t);\r\n// .add(\r\n// \t// this is false\r\n// \tunwrap,\r\n// \t() => unwrap(subtract(mod(linspace(0, 720, 19), 360), 180), 360),\r\n// \t() =>\r\n// \t\tarray([\r\n// \t\t\t-180, -140, -100, -60, -20, 20, 60, 100, 140, 180, 220, 260, 300, 340, 380, 420, 460, 500,\r\n// \t\t\t540,\r\n// \t\t])\r\n// );\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\trint,\r\n\t() => rint((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([-1.7, -1.5, -0.2, 0.2, 1.5, 1.7, 2.0])),\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([-2, -2, -0, 0, 2, 2, 2])\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tfix,\r\n\t\t() => fix(3.14),\r\n\t\t() => 3\r\n\t)\r\n\t.add(\r\n\t\tfix,\r\n\t\t() => fix(3),\r\n\t\t() => 3\r\n\t)\r\n\t.add(\r\n\t\tfix,\r\n\t\t() => fix([2.1, 2.9, -2.1, -2.9]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 2, -2, -2])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tprod,\r\n\t\t() => prod([]),\r\n\t\t() => 1\r\n\t)\r\n\t.add(\r\n\t\tprod,\r\n\t\t() => prod([1, 2]),\r\n\t\t() => 2.0\r\n\t)\r\n\t.add(\r\n\t\tprod,\r\n\t\t() =>\r\n\t\t\tprod(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() => 24.0\r\n\t)\r\n\t.add(\r\n\t\tprod,\r\n\t\t() =>\r\n\t\t\tprod(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t]),\r\n\t\t\t\t1\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 12])\r\n\t)\r\n\t.add(\r\n\t\tprod,\r\n\t\t() =>\r\n\t\t\tprod(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([3, 8])\r\n\t)\r\n\t.add(\r\n\t\tprod,\r\n\t\t() => prod([1, 2], null, null, null, 5),\r\n\t\t() => 10\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tsum,\r\n\t\t() => sum([0.5, 1.5]),\r\n\t\t() => 2.0\r\n\t)\r\n\t.add(\r\n\t\tsum,\r\n\t\t() =>\r\n\t\t\tsum([\r\n\t\t\t\t[0, 1],\r\n\t\t\t\t[0, 5],\r\n\t\t\t]),\r\n\t\t() => 6\r\n\t)\r\n\t.add(\r\n\t\tsum,\r\n\t\t() =>\r\n\t\t\tsum(\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 1],\r\n\t\t\t\t\t[0, 5],\r\n\t\t\t\t],\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 6])\r\n\t)\r\n\t.add(\r\n\t\tsum,\r\n\t\t() =>\r\n\t\t\tsum(\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 1],\r\n\t\t\t\t\t[0, 5],\r\n\t\t\t\t],\r\n\t\t\t\t1\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 5])\r\n\t)\r\n\t.add(\r\n\t\tsum,\r\n\t\t() => sum([10], null, null, null, 5),\r\n\t\t() => 15\r\n\t)\r\n\t.add(\r\n\t\tsum,\r\n\t\t// a = np.arange(100).reshape(5, -1, 1)[::-2, 2:7]\r\n\t\t// np.sum(a, (0, -1))\r\n\t\t() => sum((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(100).reshape(5, -1, 1).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('::-2'), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('2:7')), [0, -1]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([126, 129, 132, 135, 138])\r\n\t)\r\n\t.add(\r\n\t\tsum,\r\n\t\t// a = np.arange(100).reshape(5, -1, 1)[::-2, 2:7]\r\n\t\t// np.sum(a, (0, -1))\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(100);\r\n\t\t\ta = a.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(20, -20)).reshape([2, 1, -1, 2]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('...'), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('::-1'));\r\n\t\t\treturn sum(a, [1, -2], null, true, -99);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[[426, 411]]], [[[876, 861]]]])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tnanprod,\r\n\t\t() => nanprod(1),\r\n\t\t() => 1\r\n\t)\r\n\t.add(\r\n\t\tnanprod,\r\n\t\t() => nanprod([1]),\r\n\t\t() => 1\r\n\t)\r\n\t.add(\r\n\t\tnanprod,\r\n\t\t() => nanprod([1, nan]),\r\n\t\t() => 1.0\r\n\t)\r\n\t.add(\r\n\t\tnanprod,\r\n\t\t() =>\r\n\t\t\tnanprod(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, nan],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() => 6.0\r\n\t)\r\n\t.add(\r\n\t\tnanprod,\r\n\t\t() =>\r\n\t\t\tnanprod(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, nan],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([3, 2])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tnansum,\r\n\t\t() => nansum(1),\r\n\t\t() => 1\r\n\t)\r\n\t.add(\r\n\t\tnansum,\r\n\t\t() => nansum([1]),\r\n\t\t() => 1\r\n\t)\r\n\t.add(\r\n\t\tnansum,\r\n\t\t() => nansum([1, nan]),\r\n\t\t() => 1.0\r\n\t)\r\n\t.add(\r\n\t\tnansum,\r\n\t\t() =>\r\n\t\t\tnansum(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 1],\r\n\t\t\t\t\t[1, nan],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() => 3.0\r\n\t)\r\n\t.add(\r\n\t\tnansum,\r\n\t\t() =>\r\n\t\t\tnansum(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 1],\r\n\t\t\t\t\t[1, nan],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 1])\r\n\t)\r\n\t.add(\r\n\t\tnansum,\r\n\t\t() => nansum([1, nan, inf]),\r\n\t\t() => inf\r\n\t)\r\n\t.add(\r\n\t\tnansum,\r\n\t\t() => nansum([1, nan, NINF]),\r\n\t\t() => -inf\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tdiff,\r\n\t\t() => diff((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 4, 7, 0])),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, -7])\r\n\t)\r\n\t.add(\r\n\t\tdiff,\r\n\t\t() => diff((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 4, 7, 0]), 2),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 1, -10])\r\n\t)\r\n\t.add(\r\n\t\tdiff,\r\n\t\t() =>\r\n\t\t\tdiff(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 3, 6, 10],\r\n\t\t\t\t\t[0, 5, 6, 8],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[2, 3, 4],\r\n\t\t\t\t[5, 1, 2],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tdiff,\r\n\t\t() =>\r\n\t\t\tdiff(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 3, 6, 10],\r\n\t\t\t\t\t[0, 5, 6, 8],\r\n\t\t\t\t]),\r\n\t\t\t\t1,\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[-1, 2, 0, -2]])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tediff1d,\r\n\t\t() => ediff1d((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 4, 7, 0])),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, -7])\r\n\t)\r\n\t.add(\r\n\t\tediff1d,\r\n\t\t() => ediff1d((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 4, 7, 0]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([88, 99]), -99),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([-99, 1, 2, 3, -7, 88, 99])\r\n\t)\r\n\t.add(\r\n\t\tediff1d,\r\n\t\t() =>\r\n\t\t\tediff1d([\r\n\t\t\t\t[1, 2, 4],\r\n\t\t\t\t[1, 6, 24],\r\n\t\t\t]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, -3, 5, 18])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tabs,\r\n\t() => abs((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([-1.2, 1.2])),\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1.2, 1.2])\r\n);\r\n\r\n// function tuple_eq(a, b) {\r\n// \tif (a.length != b.length) return false;\r\n// \tfor (let i = 0; i < a.length; i++) if (a[i] != b[i]) return false;\r\n// \treturn true;\r\n// }\r\n\r\n// function _binary_func(func, x1, x2, out) {\r\n// \tlet b = broadcast(x1, x2);\r\n// \tif (out == null) {\r\n// \t\tout = empty(b.shape);\r\n// \t\tlet i = 0;\r\n// \t\tfor (let [x1, x2] of b) {\r\n// \t\t\tout.data[i++] = func(x1, x2);\r\n// \t\t}\r\n// \t\treturn out;\r\n// \t}\r\n// \tif (tuple_eq(b.shape, out.shape)) {\r\n// \t\tlet i = 0;\r\n// \t\tfor (let [x1, x2] of b) {\r\n// \t\t\tout.itemset(i++, func(x1, x2));\r\n// \t\t}\r\n// \t\treturn out;\r\n// \t}\r\n// \tif (!broadcastable_to(b.shape, out.shape))\r\n// \t\tthrow `non-broadcastable output operand with shape [${out.shape}] doesn't match the broadcast shape [${b.shape}]`;\r\n\r\n// \tout.set(_binary_func(func, x1, x2, null));\r\n// \treturn out;\r\n// }\r\n\r\n// function binary_func(func) {\r\n// \treturn (x1, x2, out = null) => _binary_func(func, x1, x2, out);\r\n// }\r\n\r\n// function _add(x1, x2) {\r\n// \treturn x1 + x2;\r\n// }\r\n\r\n// var add2 = binary_func(_add);\r\n// var add = wrap_map('add', _add);\r\n// var add3 = _wrap_map('add', _add);\r\n// export var sin = _wrap_map('sin', Math.sin);\r\n// console.log(sum);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tsin,\r\n\t() => sin((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(30).reshape(2, 5, 1, -1, 1)),\r\n\t() =>\r\n\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[\r\n\t\t\t\t[[[0.0], [0.8414709848078965], [0.9092974268256817]]],\r\n\t\t\t\t[[[0.1411200080598672], [-0.7568024953079282], [-0.9589242746631385]]],\r\n\t\t\t\t[[[-0.27941549819892586], [0.6569865987187891], [0.9893582466233818]]],\r\n\t\t\t\t[[[0.4121184852417566], [-0.5440211108893698], [-0.9999902065507035]]],\r\n\t\t\t\t[[[-0.5365729180004349], [0.4201670368266409], [0.9906073556948704]]],\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t[[[0.6502878401571168], [-0.2879033166650653], [-0.9613974918795568]]],\r\n\t\t\t\t[[[-0.7509872467716762], [0.14987720966295234], [0.9129452507276277]]],\r\n\t\t\t\t[[[0.8366556385360561], [-0.008851309290403876], [-0.8462204041751706]]],\r\n\t\t\t\t[[[-0.9055783620066238], [-0.13235175009777303], [0.7625584504796028]]],\r\n\t\t\t\t[[[0.956375928404503], [0.27090578830786904], [-0.6636338842129675]]],\r\n\t\t\t],\r\n\t\t])\r\n);\r\n\r\n// console.log(add2.toString(), add.toString());\r\n\r\n// let x1, x2, out;\r\n// x1 = Array(1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * 10).fill(1);\r\n// x2 = Array(1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * 10).fill(1);\r\n// out = Array(x1.length);\r\n// timeit(() => {\r\n// \tfor (let i = 0; i < x1.length; i++) {\r\n// \t\tout[i] = x1[i] + x2[i];\r\n// \t}\r\n// }, 3000);\r\n// // x1 = ones([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\r\n// // x2 = ones([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\r\n// x1 = ones([1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * 10]);\r\n// x2 = ones([1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * 10]);\r\n// // x1 = ones([121, 40]);\r\n// // x2 = ones([121, 40]);\r\n// out = empty(x1.shape);\r\n// timeit(() => {\r\n// \tadd2(x1, x2, out);\r\n// }, 3000);\r\n\r\n// out = empty(x1.shape);\r\n// timeit(() => {\r\n// \tadd(x1, x2, out);\r\n// }, 3000);\r\n\r\n// out = empty(x1.shape);\r\n// timeit(() => {\r\n// \tadd3(x1, x2, out);\r\n// }, 3000);\r\n\r\n// out = empty(x1.shape);\r\n// timeit(() => {\r\n// \tsum(x1);\r\n// }, 3000);\r\n\r\n// x1 = Array(1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * 10).fill(1);\r\n// out = Array(x1.length);\r\n// timeit(() => {\r\n// \tfor (let i = 0; i < x1.length; i++) out[i] = Math.sin(x1[i]);\r\n// });\r\n\r\n// x1 = array(x1);\r\n// out = empty(x1.shape);\r\n// sum(x1);\r\n// timeit(() => {\r\n// \treturn sin(x1, out);\r\n// });\r\n\r\n// x1 = Array(1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * 10).fill(1);\r\n// out = [];\r\n// timeit(() => {\r\n// \tlet sum = 0;\r\n// \tfor (let i = 0; i < x1.length; i++) sum = sum + x1[i];\r\n// \tout[0] = sum;\r\n// });\r\n// x1 = array(Array(1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * 10).fill(1));\r\n// out = empty([]);\r\n// sum(x1, null, out);\r\n// timeit(() => {\r\n// \tsum(x1, null, out, 0);\r\n// });\r\n// x1 = Array(1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * 10).fill(1);\r\n// out = [];\r\n// timeit(() => {\r\n// \tlet sum = 0;\r\n// \tfor (let i = 0; i < x1.length; i++) sum = sum + x1[i];\r\n// \tout[0] = sum;\r\n// });\r\n\r\n// tester\r\n// \t.add(\r\n// \t\tadd,\r\n// \t\t() => add([1.0], [4.0]),\r\n// \t\t() => 5.0\r\n// \t)\r\n// \t.add(\r\n// \t\tadd,\r\n// \t\t() => {\r\n// \t\t\tlet x1, x2;\r\n// \t\t\tx1 = arange(9.0).reshape(3, 3);\r\n// \t\t\tx2 = arange(3.0);\r\n// \t\t\treturn add(x1, x2);\r\n// \t\t},\r\n// \t\t() =>\r\n// \t\t\tarray([\r\n// \t\t\t\t[0, 2, 4],\r\n// \t\t\t\t[3, 5, 7],\r\n// \t\t\t\t[6, 8, 10],\r\n// \t\t\t])\r\n// \t)\r\n// \t.add(\r\n// \t\tadd,\r\n// \t\t() => {\r\n// \t\t\tlet out;\r\n// \t\t\tout = empty([2, 2]);\r\n// \t\t\tadd([1, 2], [3, 4], out);\r\n// \t\t\treturn out;\r\n// \t\t},\r\n// \t\t() =>\r\n// \t\t\tarray([\r\n// \t\t\t\t[4, 6],\r\n// \t\t\t\t[4, 6],\r\n// \t\t\t])\r\n// \t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/math.mjs?");

/***/ }),

/***/ "./core/moveaxis.mjs":
/*!***************************!*\
  !*** ./core/moveaxis.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"moveaxis\": () => (/* binding */ moveaxis)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction moveaxis(a, source, destination) {\r\n\tsource = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_tuple)(source, a.ndim);\r\n\tdestination = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_tuple)(destination, a.ndim);\r\n\r\n\tif (source.length != destination.length) {\r\n\t\tthrow `'source' and 'destination' arguments must have the same number of elements`;\r\n\t}\r\n\r\n\tlet order = [...Array(a.ndim).keys()].filter(x => !source.includes(x));\r\n\r\n\tfor (let i = 0; i < source.length; i++) {\r\n\t\torder.splice(destination[i], 0, source[i]);\r\n\t}\r\n\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.transpose)(a, order);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tmoveaxis,\r\n\t\t() => moveaxis((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.zeros)([3, 4, 5]), 0, -1).shape,\r\n\t\t() => [4, 5, 3]\r\n\t)\r\n\t.add(\r\n\t\tmoveaxis,\r\n\t\t() => moveaxis((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.zeros)([3, 4, 5]), -1, 0).shape,\r\n\t\t() => [5, 3, 4]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/moveaxis.mjs?");

/***/ }),

/***/ "./core/ndarray.mjs":
/*!**************************!*\
  !*** ./core/ndarray.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NDArray\": () => (/* binding */ NDArray),\n/* harmony export */   \"use_advanced_indexing\": () => (/* binding */ use_advanced_indexing)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction get_strides(shape, itemsize) {\r\n\tlet strides = [];\r\n\tif (shape.length > 0) {\r\n\t\tstrides[shape.length - 1] = itemsize;\r\n\t\tfor (let i = shape.length - 2; i >= 0; i--) {\r\n\t\t\tstrides[i] = strides[i + 1] * shape[i + 1];\r\n\t\t}\r\n\t}\r\n\treturn strides;\r\n}\r\n\r\nfunction get_size(shape) {\r\n\tlet size = 1;\r\n\tfor (let dim of shape) size *= dim;\r\n\treturn size;\r\n}\r\n\r\nfunction type(value) {\r\n\treturn value?.constructor.name;\r\n}\r\n\r\nfunction is_int(value) {\r\n\treturn Number.isInteger(value);\r\n}\r\n\r\nfunction is_tuple(value) {\r\n\treturn value?.length != undefined;\r\n}\r\n\r\nfunction _index(array, index) {\r\n\tif (is_int(index)) {\r\n\t\tlet { ndim, shape, size } = array;\r\n\t\tif (index < 0) index += size;\r\n\t\tif (index >= size) throw `index ${index} out of bound for size ${size}`;\r\n\t\tlet sizes = [...shape];\r\n\t\tfor (let i = sizes.length - 2; i >= 1; i--) {\r\n\t\t\tsizes[i] *= sizes[i + 1];\r\n\t\t}\r\n\t\tlet indices = Array(ndim).fill(0);\r\n\t\tfor (let i = 0; i < indices.length - 1; i++) {\r\n\t\t\tlet size = sizes[i + 1];\r\n\t\t\tif (index >= size) {\r\n\t\t\t\tindices[i] = (index / size) | 0;\r\n\t\t\t\tindex %= size;\r\n\t\t\t}\r\n\t\t}\r\n\t\tindices[indices.length - 1] = index;\r\n\t\t// console.log('sizes', sizes, indices);\r\n\t\tindex = indices;\r\n\t} else if (!is_tuple(index)) throw `unexpected type '${type(index)}'`;\r\n\telse if (index.length != array.ndim) throw 'incorrect number of indices for array';\r\n\treturn index;\r\n}\r\n\r\nfunction index_offset(index, strides, shape) {\r\n\tlet offset = 0;\r\n\tfor (let i = 0; i < index.length; i++)\r\n\t\toffset += (index[i] < 0 ? index[i] + shape[i] : index[i]) * strides[i];\r\n\treturn offset;\r\n}\r\n\r\nfunction toPrimitive() {\r\n\treturn this.item();\r\n}\r\n\r\nfunction _view(array, indices) {\r\n\tlet { shape, strides, offset } = array;\r\n\t// indices = indices.slice();\r\n\tindices = indices.map(index => (typeof index == 'string' ? (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(index) : index));\r\n\tshape = shape.slice();\r\n\tstrides = strides.slice();\r\n\tlet ndim = 0;\r\n\tlet newaxis_length = indices.filter(e => e == null).length;\r\n\tlet ellipsis = indices.filter(e => e == (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('...'));\r\n\tif (ellipsis.length > 1) throw `an index can only have a single ellipsis ('...')`;\r\n\tif (ellipsis.length == 1) {\r\n\t\tindices = indices.slice();\r\n\t\tlet colons = Array(shape.length + newaxis_length - indices.length + 1).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(':'));\r\n\t\tindices.splice(indices.indexOf((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('...')), 1, ...colons);\r\n\t\t// console.log(indices, indices.indexOf(slice('...')));\r\n\t}\r\n\tif (indices.length - newaxis_length > shape.length) throw 'too many indices for array';\r\n\r\n\t// remove tail slice[':']?\r\n\r\n\tfor (let index of indices) {\r\n\t\tif (index == null) {\r\n\t\t\tshape.splice(ndim, 0, 1);\r\n\t\t\tstrides.splice(ndim, 0, 0);\r\n\t\t\tndim++;\r\n\t\t} else {\r\n\t\t\tif (shape.length == 0) throw 'invalid index to scalar variable';\r\n\t\t\tif (index == _core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice[\":\"]) {\r\n\t\t\t\tndim++;\r\n\t\t\t} else if (_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice.is(index)) {\r\n\t\t\t\tlet { start, step, slicelength } = index.get(shape[ndim]);\r\n\t\t\t\toffset = offset + strides[ndim] * start;\r\n\t\t\t\tshape.splice(ndim, 1, slicelength);\r\n\t\t\t\tstrides.splice(ndim, 1, strides[ndim] * step);\r\n\t\t\t\tndim++;\r\n\t\t\t} else {\r\n\t\t\t\tif (index < 0) index += shape[ndim];\r\n\t\t\t\toffset = offset + strides[ndim] * index;\r\n\t\t\t\tshape.splice(ndim, 1);\r\n\t\t\t\tstrides.splice(ndim, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log('offset', offset, indices);\r\n\t}\r\n\tlet immutable = shape.length == 0 && ellipsis.length == 0;\r\n\treturn { strides, shape, offset, immutable };\r\n}\r\n\r\nfunction use_advanced_indexing(indices) {\r\n\t// console.log(indices);\r\n\tfor (let ind of indices)\r\n\t\tif (typeof ind == 'object' && (Array.isArray(ind) || ind instanceof NDArray)) return true;\r\n\treturn false;\r\n}\r\n\r\nfunction array_indexing(indices) {\r\n\tlet simple = true;\r\n\tlet start = 0;\r\n\tlet stop = indices.length - 1;\r\n\tlet mask = indices.map(index => index instanceof _core_mjs__WEBPACK_IMPORTED_MODULE_0__.Slice);\r\n\tfor (; start < stop && mask[start]; start++);\r\n\tfor (; stop > start && mask[stop]; stop--);\r\n\r\n\tfor (let i = start + 1; i < stop; i++) {\r\n\t\tif (mask[i]) {\r\n\t\t\tsimple = false;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tlet before, after;\r\n\tlet array_indices;\r\n\tlet shape = this.shape.map((dim, i) => (mask[i] ? indices[i].get(dim).slicelength : indices[i]));\r\n\r\n\tif (simple) {\r\n\t\tbefore = shape.slice(0, start);\r\n\t\tafter = shape.slice(stop + 1);\r\n\t\tarray_indices = indices.slice(start, stop + 1);\r\n\t} else {\r\n\t\tbefore = [];\r\n\t\tafter = shape.filter((_, i) => mask[i]);\r\n\t\tarray_indices = [];\r\n\t\tfor (let i = start; i <= stop; i++) {\r\n\t\t\tif (!mask[i]) array_indices.push(indices[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tlet b = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast)(...array_indices);\r\n\tlet outshape = [...before, ...b.shape, ...after];\r\n\tindices = indices.slice();\r\n\r\n\t// let data = [];\r\n\tlet arrays = [];\r\n\tfor (let ind of b) {\r\n\t\tfor (let i = 0, j = 0; i < indices.length; i++) {\r\n\t\t\tif (!mask[i]) indices[i] = ind[j++];\r\n\t\t}\r\n\t\t// console.log('asd', [...indices, null], this);\r\n\t\tarrays.push(this.get(...indices, null));\r\n\t\t// data.push(...this.get(...indices).flat);\r\n\t}\r\n\r\n\t// console.log(\r\n\t// \t'simple',\r\n\t// \tarrays.map(a => a.toarray()),\r\n\t// \tsimple,\r\n\t// \tstart,\r\n\t// \tstop,\r\n\t// \tbefore,\r\n\t// \tafter,\r\n\t// \toutshape,\r\n\t// \tnew NDArray(outshape, concatenate(arrays, before.length).data)\r\n\t// );\r\n\treturn new NDArray(outshape, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.concatenate)(arrays, before.length).data);\r\n\t// return new NDArray(outshape, data);\r\n}\r\n\r\n// tester.onload(() => {\r\n// \tlet x = arange(120).reshape(4, 6, 5, 1);\r\n// \t_get.call(x, array([0, 2, 1]), slice(), array([0, 2, 4]), slice());\r\n// \t_get.call(x, array([0, 2, 1]), [0, 2, 1], slice(), slice());\r\n// \t_get.call(x, slice(), [0, 2, 1], array([0, 2, 4]), slice());\r\n// \t_get.call(x, slice(), [0, 2, 1], slice(), [0, 0, 0]);\r\n// \t_get.call(x, slice(), slice(), array([0, 2, 1]), array([0, 0, 0]));\r\n// \t_get.call(x, array([0, 2, 1]), slice(), slice(), [0, 0, 0]);\r\n// \t_get.call(x, array([0, 2, 1]), [0, 2, 1], slice(), [0, 0, 0]);\r\n// });\r\n\r\nclass NDArray {\r\n\tconstructor(shape, data = null, base = null, strides = null, offset = 0, itemsize = 1) {\r\n\t\t// https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html\r\n\t\tthis.size = get_size(shape);\r\n\t\tthis.ndim = shape.length;\r\n\r\n\t\tthis.shape = shape;\r\n\t\tthis.data = data ?? Array(this.size);\r\n\t\tthis.itemsize = itemsize;\r\n\t\tthis.strides = strides ?? get_strides(shape, itemsize);\r\n\t\tthis.offset = offset;\r\n\r\n\t\tthis.base = base?.base ?? base;\r\n\r\n\t\tif (this.ndim > 0) this.length = this.shape[0];\r\n\t\telse this[Symbol.toPrimitive] = toPrimitive;\r\n\t}\r\n\r\n\t*[Symbol.iterator]() {\r\n\t\tfor (let i = 0; i < this.shape[0]; i++) {\r\n\t\t\tyield this.get(i);\r\n\t\t}\r\n\t}\r\n\r\n\t_getview(indices) {\r\n\t\tlet { strides, shape, offset } = _view(this, indices);\r\n\t\tlet { data, itemsize, base } = this;\r\n\t\treturn new NDArray(shape, data, base ?? this, strides, offset, itemsize);\r\n\t}\r\n\r\n\tget(...indices) {\r\n\t\tif (use_advanced_indexing(indices)) return array_indexing.call(this, indices);\r\n\r\n\t\tlet { strides, shape, offset, immutable } = _view(this, indices);\r\n\t\tlet { data, itemsize, base } = this;\r\n\t\tif (immutable) {\r\n\t\t\t// immutable scalar\r\n\t\t\treturn new NDArray(shape, [data[offset]], null, strides, 0, itemsize);\r\n\t\t}\r\n\t\treturn new NDArray(shape, data, base ?? this, strides, offset, itemsize);\r\n\t}\r\n\r\n\tset(indices, value = null) {\r\n\t\tif (value == null) {\r\n\t\t\tvalue = indices;\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.copyto)(this, value);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif (use_advanced_indexing(indices)) throw 'cannot use advanced indexing in .set()';\r\n\r\n\t\tlet { strides, shape, offset } = _view(this, indices);\r\n\t\tlet { data, itemsize, base } = this;\r\n\r\n\t\tnew NDArray(shape, data, base ?? this, strides, offset, itemsize).set(value);\r\n\t\treturn this;\r\n\t}\r\n\r\n\titem(index) {\r\n\t\tlet { data, strides, shape, offset, ndim, size } = this;\r\n\t\tif (index == undefined) {\r\n\t\t\tif (size != 1) throw 'index cannot be empty if size != 1';\r\n\t\t\treturn data[offset];\r\n\t\t}\r\n\t\tif (ndim == 0) {\r\n\t\t\tif (index.length != undefined) {\r\n\t\t\t\tif (index.length == 0) index = 0;\r\n\t\t\t\telse if (index.length == 1) index = index[0];\r\n\t\t\t\telse throw 'incorrect number of indices for array';\r\n\t\t\t}\r\n\t\t\tif (index != 0 && index != -1) throw `index ${index} out of bound for size ${size}`;\r\n\t\t\treturn data[offset];\r\n\t\t}\r\n\t\tif (ndim == 1) {\r\n\t\t\tif (index.length != undefined) {\r\n\t\t\t\tif (index.length != 1) throw 'incorrect number of indices for array';\r\n\t\t\t\tindex = index[0];\r\n\t\t\t}\r\n\t\t\tif (index < -size || size <= index) throw `index ${index} out of bound for size ${size}`;\r\n\t\t\tif (index < 0) index += size;\r\n\t\t\treturn data[offset + index * strides[0]];\r\n\t\t}\r\n\t\tif (index.length == 1) index = index[0];\r\n\r\n\t\tindex = _index(this, index);\r\n\r\n\t\treturn data[offset + index_offset(index, strides, shape)];\r\n\t}\r\n\r\n\titemset(index, scalar) {\r\n\t\tlet { ndim, size, offset, data, shape, strides } = this;\r\n\t\tif (scalar == undefined && size == 1) {\r\n\t\t\tdata[offset] = index;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (index == undefined) {\r\n\t\t\tif (size != 1) throw 'index cannot be empty if size != 1';\r\n\t\t\tdata[offset] = scalar;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif (ndim == 0) {\r\n\t\t\tif (index.length != undefined) {\r\n\t\t\t\tif (index.length == 0) index = 0;\r\n\t\t\t\telse if (index.length == 1) index = index[0];\r\n\t\t\t\telse throw 'incorrect number of indices for array';\r\n\t\t\t}\r\n\t\t\tif (index != 0 && index != -1) throw `index ${index} out of bound for size ${size}`;\r\n\t\t\tdata[offset] = scalar;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif (ndim == 1) {\r\n\t\t\tif (index.length != undefined) {\r\n\t\t\t\tif (index.length != 1) throw 'incorrect number of indices for array';\r\n\t\t\t\tindex = index[0];\r\n\t\t\t}\r\n\t\t\tif (index < -size || size <= index) throw `index ${index} out of bound for size ${size}`;\r\n\t\t\tif (index < 0) index += size;\r\n\t\t\tdata[offset + index * strides[0]] = scalar;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif (index.length == 1) index = index[0];\r\n\r\n\t\tindex = _index(this, index);\r\n\r\n\t\tdata[offset + index_offset(index, strides, shape)] = scalar;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\ttoarray() {\r\n\t\tlet { ndim, offset, data, shape } = this;\r\n\t\tif (ndim == 0) return data[offset];\r\n\t\tlet array = [];\r\n\t\tfor (let i = 0; i < shape[0]; i++) {\r\n\t\t\tarray.push(this.get(i).toarray());\r\n\t\t}\r\n\t\treturn array;\r\n\t}\r\n\r\n\ttolist() {\r\n\t\treturn this.toarray();\r\n\t}\r\n\r\n\tflatten() {\r\n\t\tlet { base, size, data } = this;\r\n\r\n\t\tlet newdata;\r\n\t\tif (base == undefined) {\r\n\t\t\tnewdata = data.slice();\r\n\t\t} else {\r\n\t\t\tnewdata = [];\r\n\t\t\tfor (let offset of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndoffset)(this.shape, this.strides)) {\r\n\t\t\t\tnewdata.push(data[this.offset + offset]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn new NDArray([size], newdata);\r\n\t}\r\n\r\n\tget flat() {\r\n\t\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.Flatiter(this);\r\n\t}\r\n\r\n\tset flat(value) {\r\n\t\tthis.flat.set([...Array(this.size).keys()], value);\r\n\t}\r\n\r\n\tget T() {\r\n\t\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.transpose)(this);\r\n\t}\r\n\r\n\tset T(value) {\r\n\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.transpose)(this).set(value);\r\n\t}\r\n\r\n\tcopy() {\r\n\t\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(this);\r\n\t}\r\n\r\n\treshape(...shape) {\r\n\t\tif (shape.length == 1) {\r\n\t\t\tif (typeof shape[0] != 'number') shape = shape[0];\r\n\t\t}\r\n\t\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.reshape)(this, shape);\r\n\t}\r\n\r\n\tswapaxes(axis1, axis2) {\r\n\t\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.swapaxes)(this, axis1, axis2);\r\n\t}\r\n\r\n\tsort(axis = -1, key = null) {\r\n\t\tthis.set((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.sort)(this, axis, key));\r\n\t}\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(120).reshape(4, 6, 5, 1);\r\n\t\t\treturn x.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), [0, 2, 4], (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[[0], [5], [10], [15], [20], [25]],\r\n\t\t\t\t[[62], [67], [72], [77], [82], [87]],\r\n\t\t\t\t[[34], [39], [44], [49], [54], [59]],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(120).reshape(4, 6, 5, 1);\r\n\t\t\treturn x.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[[0], [1], [2], [3], [4]],\r\n\t\t\t\t[[70], [71], [72], [73], [74]],\r\n\t\t\t\t[[35], [36], [37], [38], [39]],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(120).reshape(4, 6, 5, 1);\r\n\t\t\treturn x.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 4]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[[0], [12], [9]],\r\n\t\t\t\t[[30], [42], [39]],\r\n\t\t\t\t[[60], [72], [69]],\r\n\t\t\t\t[[90], [102], [99]],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(120).reshape(4, 6, 5, 1);\r\n\t\t\treturn x.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), [0, 0, 0]);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 1, 2, 3, 4],\r\n\t\t\t\t\t[30, 31, 32, 33, 34],\r\n\t\t\t\t\t[60, 61, 62, 63, 64],\r\n\t\t\t\t\t[90, 91, 92, 93, 94],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[10, 11, 12, 13, 14],\r\n\t\t\t\t\t[40, 41, 42, 43, 44],\r\n\t\t\t\t\t[70, 71, 72, 73, 74],\r\n\t\t\t\t\t[100, 101, 102, 103, 104],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[5, 6, 7, 8, 9],\r\n\t\t\t\t\t[35, 36, 37, 38, 39],\r\n\t\t\t\t\t[65, 66, 67, 68, 69],\r\n\t\t\t\t\t[95, 96, 97, 98, 99],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(120).reshape(4, 6, 5, 1);\r\n\t\t\treturn x.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 0, 0]));\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 2, 1],\r\n\t\t\t\t\t[5, 7, 6],\r\n\t\t\t\t\t[10, 12, 11],\r\n\t\t\t\t\t[15, 17, 16],\r\n\t\t\t\t\t[20, 22, 21],\r\n\t\t\t\t\t[25, 27, 26],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[30, 32, 31],\r\n\t\t\t\t\t[35, 37, 36],\r\n\t\t\t\t\t[40, 42, 41],\r\n\t\t\t\t\t[45, 47, 46],\r\n\t\t\t\t\t[50, 52, 51],\r\n\t\t\t\t\t[55, 57, 56],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[60, 62, 61],\r\n\t\t\t\t\t[65, 67, 66],\r\n\t\t\t\t\t[70, 72, 71],\r\n\t\t\t\t\t[75, 77, 76],\r\n\t\t\t\t\t[80, 82, 81],\r\n\t\t\t\t\t[85, 87, 86],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[90, 92, 91],\r\n\t\t\t\t\t[95, 97, 96],\r\n\t\t\t\t\t[100, 102, 101],\r\n\t\t\t\t\t[105, 107, 106],\r\n\t\t\t\t\t[110, 112, 111],\r\n\t\t\t\t\t[115, 117, 116],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(120).reshape(4, 6, 5, 1);\r\n\t\t\treturn x.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 0, 0]));\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 1, 2, 3, 4],\r\n\t\t\t\t\t[5, 6, 7, 8, 9],\r\n\t\t\t\t\t[10, 11, 12, 13, 14],\r\n\t\t\t\t\t[15, 16, 17, 18, 19],\r\n\t\t\t\t\t[20, 21, 22, 23, 24],\r\n\t\t\t\t\t[25, 26, 27, 28, 29],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[60, 61, 62, 63, 64],\r\n\t\t\t\t\t[65, 66, 67, 68, 69],\r\n\t\t\t\t\t[70, 71, 72, 73, 74],\r\n\t\t\t\t\t[75, 76, 77, 78, 79],\r\n\t\t\t\t\t[80, 81, 82, 83, 84],\r\n\t\t\t\t\t[85, 86, 87, 88, 89],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[30, 31, 32, 33, 34],\r\n\t\t\t\t\t[35, 36, 37, 38, 39],\r\n\t\t\t\t\t[40, 41, 42, 43, 44],\r\n\t\t\t\t\t[45, 46, 47, 48, 49],\r\n\t\t\t\t\t[50, 51, 52, 53, 54],\r\n\t\t\t\t\t[55, 56, 57, 58, 59],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(120).reshape(4, 6, 5, 1);\r\n\t\t\treturn x.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), 0);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1, 2, 3, 4],\r\n\t\t\t\t[70, 71, 72, 73, 74],\r\n\t\t\t\t[35, 36, 37, 38, 39],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(120).reshape(4, 6, 5, 1);\r\n\t\t\treturn x.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), 0);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 1, 2, 3, 4],\r\n\t\t\t\t\t[5, 6, 7, 8, 9],\r\n\t\t\t\t\t[10, 11, 12, 13, 14],\r\n\t\t\t\t\t[15, 16, 17, 18, 19],\r\n\t\t\t\t\t[20, 21, 22, 23, 24],\r\n\t\t\t\t\t[25, 26, 27, 28, 29],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[60, 61, 62, 63, 64],\r\n\t\t\t\t\t[65, 66, 67, 68, 69],\r\n\t\t\t\t\t[70, 71, 72, 73, 74],\r\n\t\t\t\t\t[75, 76, 77, 78, 79],\r\n\t\t\t\t\t[80, 81, 82, 83, 84],\r\n\t\t\t\t\t[85, 86, 87, 88, 89],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[30, 31, 32, 33, 34],\r\n\t\t\t\t\t[35, 36, 37, 38, 39],\r\n\t\t\t\t\t[40, 41, 42, 43, 44],\r\n\t\t\t\t\t[45, 46, 47, 48, 49],\r\n\t\t\t\t\t[50, 51, 52, 53, 54],\r\n\t\t\t\t\t[55, 56, 57, 58, 59],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet a = new NDArray([2, 5], [...Array(10).keys()]);\r\n\t\t\treturn a.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , -1]));\r\n\t\t},\r\n\t\t() => [\r\n\t\t\t[4, 3, 2, 1, 0],\r\n\t\t\t[9, 8, 7, 6, 5],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet a = new NDArray([2, 5], [...Array(10).keys()]);\r\n\t\t\treturn a.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(-1), 3);\r\n\t\t},\r\n\t\t() => [8]\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet a = new NDArray([2, 5], [...Array(10).keys()]);\r\n\t\t\treturn a.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , -1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , -1]));\r\n\t\t},\r\n\t\t() => [\r\n\t\t\t[9, 8, 7, 6, 5],\r\n\t\t\t[4, 3, 2, 1, 0],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[3, 0, 0],\r\n\t\t\t\t[0, 4, 0],\r\n\t\t\t\t[5, 6, 0],\r\n\t\t\t]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), null);\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[[3], [0], [0]],\r\n\r\n\t\t\t\t[[0], [4], [0]],\r\n\r\n\t\t\t\t[[5], [6], [0]],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.get',\r\n\t\t() => {\r\n\t\t\tlet x;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[3, 0, 0],\r\n\t\t\t\t[0, 4, 0],\r\n\t\t\t\t[5, 6, 0],\r\n\t\t\t]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('...'), null);\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[[3], [0], [0]],\r\n\r\n\t\t\t\t[[0], [4], [0]],\r\n\r\n\t\t\t\t[[5], [6], [0]],\r\n\t\t\t])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'ndarray.item',\r\n\t() => {\r\n\t\tlet a = new NDArray([2, 5], [...Array(10).keys()]);\r\n\t\treturn a.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , -1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , -1])).item(5);\r\n\t},\r\n\t() => 4\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'ndarray.itemset',\r\n\t() => {\r\n\t\tlet x = new NDArray(\r\n\t\t\t[3, 3],\r\n\t\t\t[\r\n\t\t\t\t[2, 2, 6],\r\n\t\t\t\t[1, 3, 6],\r\n\t\t\t\t[1, 0, 1],\r\n\t\t\t].flat()\r\n\t\t);\r\n\t\tx.itemset(4, 0);\r\n\t\tx.itemset([2, 2], 9);\r\n\t\treturn x;\r\n\t},\r\n\t() => [\r\n\t\t[2, 2, 6],\r\n\t\t[1, 0, 6],\r\n\t\t[1, 0, 9],\r\n\t]\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'ndarray.set',\r\n\t() => {\r\n\t\tlet a = new NDArray([2, 5], [...Array(10).keys()]);\r\n\t\ta.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(1, -1)).set(10);\r\n\t\treturn a;\r\n\t},\r\n\t() => [\r\n\t\t[0, 10, 10, 10, 4],\r\n\t\t[5, 10, 10, 10, 9],\r\n\t]\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t'ndarray.flatten',\r\n\t() =>\r\n\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[1, 2],\r\n\t\t\t[3, 4],\r\n\t\t]).flatten(),\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, 4])\r\n);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'ndarray.flat.set',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t]);\r\n\t\t\tx.flat = 3;\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[3, 3, 3],\r\n\t\t\t\t[3, 3, 3],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.flat.set',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t]);\r\n\t\t\tx.flat = [7, 8, 9, 10];\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[7, 8, 9],\r\n\t\t\t\t[10, 7, 8],\r\n\t\t\t])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'ndarray.copy',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1, 2, 3]]);\r\n\t\t\treturn x.copy() == x;\r\n\t\t},\r\n\t\t() => false\r\n\t)\r\n\t.add(\r\n\t\t'ndarray.copy',\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1, 2, 3]]);\r\n\t\t\tlet y = x.copy();\r\n\t\t\ty.itemset(0, -1);\r\n\t\t\treturn [x, y];\r\n\t\t},\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1, 2, 3]]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[-1, 2, 3]])]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/ndarray.mjs?");

/***/ }),

/***/ "./core/ndenumerate.mjs":
/*!******************************!*\
  !*** ./core/ndenumerate.mjs ***!
  \******************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ndenumerate\": () => (/* binding */ ndenumerate)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction* ndenumerate(a) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tfor (let index of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndindex)(a.shape)) {\r\n\t\tyield [index, a.item(index)];\r\n\t}\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tndenumerate,\r\n\t() => {\r\n\t\t{\r\n\t\t\tlet a;\r\n\t\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[3, 4],\r\n\t\t\t]);\r\n\t\t\tlet out = [];\r\n\t\t\tfor (let [index, x] of ndenumerate(a)) {\r\n\t\t\t\tout.push(index.slice(), x);\r\n\t\t\t}\r\n\t\t\treturn out;\r\n\t\t}\r\n\t},\r\n\t() => [[0, 0], 1, [0, 1], 2, [1, 0], 3, [1, 1], 4]\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/ndenumerate.mjs?");

/***/ }),

/***/ "./core/ndim.mjs":
/*!***********************!*\
  !*** ./core/ndim.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ndim\": () => (/* binding */ ndim)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction ndim(a) {\r\n\treturn a == null || (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.isscalar)(a) ? 0 : (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a).ndim;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'ndim',\r\n\t\t() =>\r\n\t\t\tndim([\r\n\t\t\t\t[1, 2, 3],\r\n\t\t\t\t[4, 5, 6],\r\n\t\t\t]),\r\n\t\t() => 2\r\n\t)\r\n\t.add(\r\n\t\t'ndim',\r\n\t\t() =>\r\n\t\t\tndim(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)([\r\n\t\t\t\t\t[1, 2, 3],\r\n\t\t\t\t\t[4, 5, 6],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() => 2\r\n\t)\r\n\t.add(\r\n\t\t'ndim',\r\n\t\t() => ndim(1),\r\n\t\t() => 0\r\n\t)\r\n\t.add(\r\n\t\t'ndim',\r\n\t\t() => ndim(null),\r\n\t\t() => 0\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/ndim.mjs?");

/***/ }),

/***/ "./core/ndindex.mjs":
/*!**************************!*\
  !*** ./core/ndindex.mjs ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ndindex\": () => (/* binding */ ndindex)\n/* harmony export */ });\nfunction prod(a) {\r\n\tlet prod = 1;\r\n\tfor (let n of a) prod *= n;\r\n\treturn prod;\r\n}\r\n\r\nfunction* ndindex(shape, reuse = true) {\r\n\tlet index = Array(shape.length).fill(0);\r\n\tlet size = prod(shape);\r\n\tif (size == 0) return;\r\n\r\n\tyield reuse ? index : index.slice();\r\n\tfor (let i = 1; i < size; i++) {\r\n\t\tfor (let j = index.length - 1; j >= 0; j--) {\r\n\t\t\tindex[j] += 1;\r\n\t\t\tif (index[j] < shape[j]) break;\r\n\t\t\tindex[j] -= shape[j];\r\n\t\t}\r\n\t\tyield reuse ? index : index.slice();\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://$/./core/ndindex.mjs?");

/***/ }),

/***/ "./core/ndoffset.mjs":
/*!***************************!*\
  !*** ./core/ndoffset.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ndoffset\": () => (/* binding */ ndoffset)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\n// function index_offset(index, strides) {\r\n// \tlet offset = 0;\r\n// \tfor (let i = 0; i < index.length; i++) offset += index[i] * strides[i];\r\n// \treturn offset;\r\n// }\r\n\r\n// export function* ndoffset(array) {\r\n// \tlet { strides, shape, offset } = array;\r\n// \tfor (let index of ndindex(shape)) {\r\n// \t\tyield offset + index_offset(index, strides);\r\n// \t}\r\n// }\r\n\r\nclass Ndoffset {\r\n\tconstructor(shape, strides) {\r\n\t\tlet ndim = shape.length;\r\n\t\tthis.shape = shape;\r\n\t\tthis.strides = strides;\r\n\t\tthis.size = shape.reduce((a, b) => a * b, 1);\r\n\t\tthis.ndim = ndim;\r\n\r\n\t\tthis.coords = Array(ndim).fill(0);\r\n\t\tthis.index = this.offset = this.done = null;\r\n\t\tthis.reset();\r\n\t}\r\n\r\n\t[Symbol.iterator]() {\r\n\t\treturn this.reset();\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.coords.fill(0);\r\n\t\tthis.index = this.offset = 0;\r\n\t\tthis.done = this.size == 0;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tnext() {\r\n\t\tif (this.done) return { done: true };\r\n\r\n\t\tlet { offset, coords, shape, strides, ndim } = this;\r\n\t\tlet value = offset;\r\n\r\n\t\tlet ptr = ndim - 1;\r\n\t\tlet carry = true;\r\n\t\tloop: while (ptr >= 0) {\r\n\t\t\tswitch (shape[ptr]) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tptr--;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase coords[ptr]:\r\n\t\t\t\t\toffset -= strides[ptr] * shape[ptr];\r\n\t\t\t\t\tcoords[ptr--] = 0;\r\n\t\t\t\t\tcarry = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tif (!carry) break loop;\r\n\t\t\t\t\toffset += strides[ptr];\r\n\t\t\t\t\tcoords[ptr] += 1;\r\n\t\t\t\t\tcarry = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.index++;\r\n\t\tthis.offset = offset;\r\n\t\tthis.done = this.index >= this.size;\r\n\r\n\t\treturn { value, done: false };\r\n\t}\r\n}\r\n\r\nfunction ndoffset(shape, strides) {\r\n\treturn new Ndoffset(shape, strides);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tndoffset,\r\n\t() => {\r\n\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(100);\r\n\t\ta = a.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(20, -20)).reshape([2, 1, -1, 2]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('...'), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('::-1'));\r\n\t\tlet flatten = [];\r\n\t\tfor (let offset of ndoffset(a.shape, a.strides)) {\r\n\t\t\tflatten.push(a.data[a.offset + offset]);\r\n\t\t}\r\n\t\treturn flatten;\r\n\t},\r\n\t() => [\r\n\t\t21, 20, 23, 22, 25, 24, 27, 26, 29, 28, 31, 30, 33, 32, 35, 34, 37, 36, 39, 38, 41, 40, 43, 42, 45,\r\n\t\t44, 47, 46, 49, 48, 51, 50, 53, 52, 55, 54, 57, 56, 59, 58, 61, 60, 63, 62, 65, 64, 67, 66, 69, 68,\r\n\t\t71, 70, 73, 72, 75, 74, 77, 76, 79, 78,\r\n\t]\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/ndoffset.mjs?");

/***/ }),

/***/ "./core/nonzero.mjs":
/*!**************************!*\
  !*** ./core/nonzero.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"nonzero\": () => (/* binding */ nonzero)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction nonzero(a) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.atleast_1d)(a);\r\n\tlet { ndim } = a;\r\n\tlet indices = [];\r\n\tfor (let i = 0; i < ndim; i++) indices.push([]);\r\n\tfor (let [index, value] of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndenumerate)(a)) {\r\n\t\tif (value) {\r\n\t\t\tfor (let i = 0; i < ndim; i++) {\r\n\t\t\t\tindices[i].push(index[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfor (let i = 0; i < ndim; i++) indices[i] = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(indices[i]);\r\n\treturn indices;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tnonzero,\r\n\t\t() => {\r\n\t\t\tlet x;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[3, 0, 0],\r\n\t\t\t\t[0, 4, 0],\r\n\t\t\t\t[5, 6, 0],\r\n\t\t\t]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('...'), null);\r\n\t\t\treturn nonzero(x);\r\n\t\t},\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 2, 2]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 0, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 0, 0, 0])]\r\n\t)\r\n\t.add(\r\n\t\tnonzero,\r\n\t\t() => {\r\n\t\t\treturn nonzero(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[false, false, false],\r\n\t\t\t\t\t[true, true, true],\r\n\t\t\t\t\t[true, true, true],\r\n\t\t\t\t])\r\n\t\t\t);\r\n\t\t},\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 1, 1, 2, 2, 2]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 2, 0, 1, 2])]\r\n\t)\r\n\t.add(\r\n\t\tnonzero,\r\n\t\t() => {\r\n\t\t\treturn nonzero(55);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/nonzero.mjs?");

/***/ }),

/***/ "./core/numeric.mjs":
/*!**************************!*\
  !*** ./core/numeric.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Nditer\": () => (/* binding */ Nditer),\n/* harmony export */   \"nditer\": () => (/* binding */ nditer),\n/* harmony export */   \"normalize_axis\": () => (/* binding */ normalize_axis),\n/* harmony export */   \"normalize_axis_tuple\": () => (/* binding */ normalize_axis_tuple)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction normalize_axis(axis, ndim, allow_duplicate = false) {\r\n\t// https://github.com/numpy/numpy/blob/857c64a95339bd937fbcc5398246fd2dcf78f3ab/numpy/core/numeric.py#L1331\r\n\tif (!Array.isArray(axis)) axis = [axis];\r\n\taxis = axis.map(axis => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, ndim));\r\n\tif (!allow_duplicate && new Set(axis).size != axis.length) throw `repeated axis`;\r\n\treturn axis;\r\n}\r\n\r\nconst normalize_axis_tuple = normalize_axis;\r\n\r\nclass Nditer {\r\n\tconstructor(a, axis = null) {\r\n\t\tthis.array = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\t\tlet { ndim, shape } = a;\r\n\t\tif (axis != null) axis = normalize_axis(axis, ndim);\r\n\t\tthis.axis = axis;\r\n\t\tif (axis != null) {\r\n\t\t\tlet ndshape = [];\r\n\t\t\tlet indices = [];\r\n\t\t\tlet mask = [];\r\n\t\t\tfor (let i = 0; i < ndim; i++) {\r\n\t\t\t\tif ((mask[i] = !axis.includes(i))) {\r\n\t\t\t\t\tindices[i] = 0;\r\n\t\t\t\t\tndshape.push(shape[i]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tindices[i] = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice[\":\"];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.shape = ndshape;\r\n\t\t\tthis.indices = indices;\r\n\t\t\tthis.mask = mask;\r\n\t\t} else {\r\n\t\t\tthis.shape = [a.size];\r\n\t\t\tthis.indices = [0];\r\n\t\t\tthis.mask = null;\r\n\t\t}\r\n\t}\r\n\t*[Symbol.iterator]() {\r\n\t\tlet { array, axis } = this;\r\n\t\tif (axis == null) {\r\n\t\t\tyield* array.flat;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet { shape, mask, indices } = this;\r\n\t\tfor (let index of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndindex)(shape)) {\r\n\t\t\tfor (let i = 0, j = 0; i < array.ndim; i++) {\r\n\t\t\t\tif (mask[i]) {\r\n\t\t\t\t\tindices[i] = index[j++];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// console.log(indices);\r\n\t\t\tyield [index, array.get(...indices)];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction nditer(a, axis = null) {\r\n\t// no. this is not like numpy.iter\r\n\treturn new Nditer(a, axis);\r\n}\r\n\r\n// export function* nditer(a, axis = null) {\r\n// \ta = asarray(a);\r\n// \tif (axis == null) {\r\n// \t\tyield* a.flat;\r\n// \t\treturn;\r\n// \t}\r\n// \tlet { ndim, shape } = a;\r\n// \taxis = normalize_axis(axis, ndim);\r\n// \tlet ndshape = [];\r\n// \tlet indices = [];\r\n// \tlet mask = [];\r\n// \tfor (let i = 0; i < ndim; i++) {\r\n// \t\tif ((mask[i] = !axis.includes(i))) {\r\n// \t\t\tindices[i] = 0;\r\n// \t\t\tndshape.push(shape[i]);\r\n// \t\t} else {\r\n// \t\t\tindices[i] = slice[':'];\r\n// \t\t}\r\n// \t}\r\n// \tconsole.log(axis, shape, ndshape);\r\n// \tfor (let index of ndindex(ndshape)) {\r\n// \t\tfor (let i = 0, j = 0; i < ndim; i++) {\r\n// \t\t\tif (mask[i]) {\r\n// \t\t\t\tindices[i] = index[j++];\r\n// \t\t\t}\r\n// \t\t}\r\n// \t\tconsole.log(indices.toString());\r\n// \t\tyield [index, a.get(...indices)];\r\n// \t}\r\n// }\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/numeric.mjs?");

/***/ }),

/***/ "./core/ogrid.mjs":
/*!************************!*\
  !*** ./core/ogrid.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ogrid\": () => (/* binding */ ogrid)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction ogrid(...slices) {\r\n\tlet out = [];\r\n\tfor (let i = 0; i < slices.length; i++) {\r\n\t\tlet { start, stop, step, slicelength } = slices[i]._get();\r\n\t\tlet data = Array(slicelength);\r\n\t\tfor (let i = 0; i < slicelength; i++) {\r\n\t\t\tdata[i] = start + i * step;\r\n\t\t}\r\n\t\tlet shape = Array(slices.length).fill(1);\r\n\t\tshape[i] = slicelength;\r\n\t\tout.push(new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(shape, data));\r\n\t}\r\n\treturn out;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\togrid,\r\n\t\t() => ogrid((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('0:5'), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('0:5')),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[0], [1], [2], [3], [4]]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[0, 1, 2, 3, 4]])]\r\n\t)\r\n\t.add(\r\n\t\togrid,\r\n\t\t() => ogrid((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('3:5'), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('0:-5'), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('0:1')),\r\n\t\t() => [(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[3]], [[4]]]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([]).reshape([1, 0, 1]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[0]]])]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/ogrid.mjs?");

/***/ }),

/***/ "./core/ones.mjs":
/*!***********************!*\
  !*** ./core/ones.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ones\": () => (/* binding */ ones)\n/* harmony export */ });\n/* harmony import */ var _full_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./full.mjs */ \"./core/full.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_full_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_full_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction ones(shape) {\r\n\treturn (0,_full_mjs__WEBPACK_IMPORTED_MODULE_0__.full)(shape, 1);\r\n}\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/ones.mjs?");

/***/ }),

/***/ "./core/random.Generator.mjs":
/*!***********************************!*\
  !*** ./core/random.Generator.mjs ***!
  \***********************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Generator\": () => (/* binding */ Generator),\n/* harmony export */   \"random\": () => (/* binding */ random)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\n/* harmony import */ var _random_pick_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./random.pick.mjs */ \"./core/random.pick.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\n\r\nfunction get_size(shape) {\r\n\tlet size = 1;\r\n\tfor (let dim of shape) size *= dim;\r\n\treturn size;\r\n}\r\n\r\nfunction from(func, size = null, out = null, return_scalar = true) {\r\n\tif (out != null) {\r\n\t\tif (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.contiguous)(out)) throw `output array must be contiguous`;\r\n\t\tif (size == null) size = out.shape;\r\n\t}\r\n\r\n\tlet shape;\r\n\tif (size == null) {\r\n\t\tif (return_scalar) return func();\r\n\t\tshape = [];\r\n\t\tsize = 1;\r\n\t} else {\r\n\t\tif (typeof size == 'number') {\r\n\t\t\tshape = [size];\r\n\t\t} else {\r\n\t\t\tshape = size;\r\n\t\t\tsize = get_size(shape);\r\n\t\t}\r\n\t}\r\n\r\n\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(shape);\r\n\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(shape, out.shape)) throw `size must match out.shape when used together`;\r\n\r\n\tlet { data, offset } = out;\r\n\tfor (let i = 0; i < size; i++) data[offset + i] = func();\r\n\treturn out;\r\n}\r\n\r\nclass Generator {\r\n\tconstructor(rand = Math.random) {\r\n\t\tthis.rand = rand;\r\n\t}\r\n\r\n\tintegers(low, high = null, size = null, endpoint = false) {\r\n\t\tif (high == null) {\r\n\t\t\thigh = low;\r\n\t\t\tlow = 0;\r\n\t\t}\r\n\t\tlet range = high - low;\r\n\t\tif (endpoint) range += 1;\r\n\r\n\t\treturn from(() => (this.rand() * range + low) | 0, size);\r\n\t}\r\n\r\n\trandom(size = null, out = null) {\r\n\t\treturn from(() => this.rand(), size, out);\r\n\t}\r\n\r\n\tchoice(a, size = null, replace = true, p = null, axis = 0 /*, shuffle = true*/) {\r\n\t\tif (typeof a == 'number') {\r\n\t\t\tif (a <= 0) throw `a must be a positive integer unless no samples are taken`;\r\n\t\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(a);\r\n\t\t} else {\r\n\t\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\t\t\tif (a.size == 0) throw `a cannot be empty unless no samples are taken`;\r\n\t\t}\r\n\r\n\t\tif (p == null) {\r\n\t\t\tp = Array(a.shape[axis]).fill(1 / a.shape[axis]);\r\n\t\t} else {\r\n\t\t\tp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(p);\r\n\t\t\tif (p.ndim != 1) throw `p must be 1-dimensional`;\r\n\t\t\tif (p.size != a.shape[axis]) throw `a and p must have same size`;\r\n\t\t\tp = p.toarray();\r\n\t\t}\r\n\r\n\t\tlet slices = Array(axis).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\r\n\t\tif (size == null) {\r\n\t\t\tslices[axis] = (0,_random_pick_mjs__WEBPACK_IMPORTED_MODULE_1__.pick)(1, p, undefined, undefined, undefined, this.rand)[0];\r\n\t\t\treturn a._getview(slices).copy();\r\n\t\t}\r\n\r\n\t\tlet shape = size;\r\n\t\tif (typeof size == 'number') shape = [size];\r\n\t\tsize = get_size(shape);\r\n\r\n\t\tif (p.length < size) throw `Cannot take a larger sample than population when replace is false`;\r\n\t\tif ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.count_nonzero)(p) < size) throw `Fewer non-zero entries in p than size`;\r\n\r\n\t\tlet outshape = [...a.shape];\r\n\t\toutshape.splice(axis, 1, ...shape);\r\n\t\tlet outslices = Array(axis).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\t\tlet out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(outshape);\r\n\r\n\t\tlet indices = (0,_random_pick_mjs__WEBPACK_IMPORTED_MODULE_1__.pick)(size, p, replace, undefined, undefined, this.rand);\r\n\r\n\t\tlet i = 0;\r\n\t\tfor (let index of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndindex)(shape)) {\r\n\t\t\tfor (let i = 0; i < index.length; i++) outslices[axis + i] = index[i];\r\n\t\t\tslices[axis] = indices[i++];\r\n\t\t\t// console.log(out.shape, outslices, slices, size);\r\n\t\t\tout.set(outslices, a._getview(slices));\r\n\t\t}\r\n\r\n\t\treturn out;\r\n\t}\r\n\r\n\tshuffle(a, axis = 0) {\r\n\t\t// https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\t\taxis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, a.ndim);\r\n\t\tlet slices = Array(axis + 1).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(':'));\r\n\r\n\t\tlet { shape } = a;\r\n\t\tlet n = shape[axis];\r\n\t\tlet tmp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)([...shape.slice(0, axis), ...shape.slice(axis + 1)]);\r\n\r\n\t\tfor (let i = 0; i < n - 2; i++) {\r\n\t\t\tlet j = (this.rand() * (n - i) + i) | 0;\r\n\r\n\t\t\tslices[axis] = i;\r\n\t\t\t// console.log(tmp, a.shape, slices);\r\n\t\t\t// always view\r\n\t\t\tlet view1 = a._getview(slices);\r\n\t\t\tslices[axis] = j;\r\n\t\t\tlet view2 = a._getview(slices);\r\n\r\n\t\t\ttmp.set(view1);\r\n\t\t\tview1.set(view2);\r\n\t\t\tview2.set(tmp);\r\n\t\t}\r\n\t}\r\n\r\n\tpermuted(a, axis = null, out = null) {\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\t\taxis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, a.ndim);\r\n\t\tlet shape = [...a.shape];\r\n\t\tshape[axis] = 1;\r\n\r\n\t\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty_like)(a);\r\n\t\tfor (let index of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndindex)(shape)) {\r\n\t\t\tindex[axis] = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)();\r\n\t\t\tlet flat = a._getview(index).flatten();\r\n\t\t\tthis.shuffle(flat);\r\n\t\t\tout.set(index, flat);\r\n\t\t}\r\n\r\n\t\treturn out;\r\n\t}\r\n\r\n\tpermutation(a, axis = 0) {\r\n\t\tif (typeof a == 'number') a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(a);\r\n\t\telse a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(a);\r\n\t\tthis.shuffle(a, axis);\r\n\t\treturn a;\r\n\t}\r\n\r\n\tuniform(low = 0.0, high = 1.0, size = null) {\r\n\t\treturn from(() => {\r\n\t\t\treturn this.rand() * (high - low) + low;\r\n\t\t}, size);\r\n\t}\r\n\r\n\tnormal(loc = 0.0, scale = 1.0, size = null) {\r\n\t\t// https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform\r\n\t\treturn from(() => {\r\n\t\t\tlet u1 = this.rand();\r\n\t\t\tlet u2 = this.rand();\r\n\t\t\tlet z0 = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);\r\n\t\t\treturn loc + scale * z0;\r\n\t\t}, size);\r\n\t}\r\n}\r\n\r\nconst random = new Generator();\r\n\r\n// tester\r\n// \t.add(\r\n// \t\tGenerator.prototype.integers,\r\n// \t\t() => random.integers(10, null, 10),\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.integers,\r\n// \t\t() => random.integers(10, null),\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.random,\r\n// \t\t() => {\r\n// \t\t\tlet out = arange(20).reshape([-1, 2]);\r\n// \t\t\tlet out2 = random.random([5, 2], out.get(slice(0, 5)));\r\n// \t\t\treturn [out.toarray(), out2.toarray()];\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.random,\r\n// \t\t() => random.random([1, 2, 1]),\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.shuffle,\r\n// \t\t() => {\r\n// \t\t\tlet a = arange(27).reshape(3, 3, 3);\r\n// \t\t\trandom.shuffle(a, -1);\r\n// \t\t\treturn a;\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.shuffle,\r\n// \t\t() => {\r\n// \t\t\tlet a = arange(9).reshape(3, 3);\r\n// \t\t\trandom.shuffle(a, 1);\r\n// \t\t\treturn a;\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.choice,\r\n// \t\t() => {\r\n// \t\t\treturn random.choice(\r\n// \t\t\t\t[\r\n// \t\t\t\t\t[0, 1, 2],\r\n// \t\t\t\t\t[3, 4, 5],\r\n// \t\t\t\t\t[6, 7, 8],\r\n// \t\t\t\t],\r\n// \t\t\t\t2,\r\n// \t\t\t\tfalse\r\n// \t\t\t);\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.choice,\r\n// \t\t() => {\r\n// \t\t\treturn random.choice(5, 3, false, [0.1, 0, 0.3, 0.6, 0]);\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.choice,\r\n// \t\t() => {\r\n// \t\t\treturn random.choice(5, 3, true, [0.1, 0, 0.3, 0.6, 0]);\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.choice,\r\n// \t\t() => {\r\n// \t\t\treturn random.choice(5, [2, 2], false, [0.1, 0.2, 0.3, 0.3, 0.1]);\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.permuted,\r\n// \t\t() => {\r\n// \t\t\treturn random.permuted(arange(12).reshape(3, 4), 0);\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.permuted,\r\n// \t\t() => {\r\n// \t\t\tlet a = arange(9).reshape(3, 3);\r\n// \t\t\ta = random.permuted(a, 1);\r\n// \t\t\treturn a;\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.uniform,\r\n// \t\t() => {\r\n// \t\t\treturn random.uniform(-1, 0, 10);\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t)\r\n// \t.add(\r\n// \t\tGenerator.prototype.normal,\r\n// \t\t() => {\r\n// \t\t\treturn random.normal(0, 0.1, 10);\r\n// \t\t},\r\n// \t\t() => {}\r\n// \t);\r\n\r\n// function hashToInt(x) {\r\n// \tx = ((x >> 16) ^ x) * 0x45d9f3b;\r\n// \tx = ((x >> 16) ^ x) * 0x45d9f3b;\r\n// \tx = (x >> 16) ^ x;\r\n\r\n// \treturn 1 / ((x % 137) + 1.1);\r\n// }\r\n\r\n// let dummy_rand = (i = 1) => {\r\n// \treturn () => hashToInt(i++);\r\n// };\r\n\r\n// tester.onload(() => {\r\n// \tlet a = arange(10);\r\n// \tconsole.log(String.fromCharCode(91, 253, 124, 99));\r\n// \t// console.log(contiguous(a.get(slice(1, null, -1))));\r\n// \t// let rand = dummy_rand(),\r\n// \t// \t_rand = dummy_rand();\r\n\r\n// \t// let rng = new Generator(rand);\r\n// \t// for (let i = 0; i < 100; i++) console.log(rng.integers(10, 102, null));\r\n// });\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/random.Generator.mjs?");

/***/ }),

/***/ "./core/random.choice.mjs":
/*!********************************!*\
  !*** ./core/random.choice.mjs ***!
  \********************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"choice\": () => (/* binding */ choice)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\n/* harmony import */ var _random_pick_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./random.pick.mjs */ \"./core/random.pick.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\n\r\nfunction get_size(shape) {\r\n\tlet size = 1;\r\n\tfor (let dim of shape) size *= dim;\r\n\treturn size;\r\n}\r\n\r\n// function _choice(accum, upper = 1) {\r\n// \tlet r = Math.random() * upper;\r\n// \tfor (let i = 1; i < accum.length; i++) {\r\n// \t\tif (r < accum[i]) return i - 1;\r\n// \t}\r\n// \treturn accum.length - 1;\r\n// }\r\n\r\n// function _accum(p, accum) {\r\n// \taccum[0] = 0;\r\n// \tfor (let i = 1; i < p.length; i++) {\r\n// \t\taccum[i] = accum[i - 1] + p[i - 1];\r\n// \t}\r\n// \treturn accum;\r\n// }\r\n\r\nfunction choice(a, shape = null, replace = true, p = null) {\r\n\tif (typeof a == 'number') a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(a);\r\n\telse a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\r\n\tif (a.ndim != 1) throw `'p' must be 1-dimensional`;\r\n\tif (a.size == 0) throw `'a' cannot be empty unless no samples are taken`;\r\n\r\n\tif (p == null) {\r\n\t\tp = Array(a.size).fill(1 / a.size);\r\n\t} else {\r\n\t\tp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(p);\r\n\t\tif (p.ndim != 1) throw `'p' must be 1-dimensional`;\r\n\t\tif (p.size != a.size) throw `'a' and 'p' must have same size`;\r\n\t\tp = p.toarray();\r\n\t}\r\n\r\n\ta = a.toarray();\r\n\r\n\tif (shape == null) return a[(0,_random_pick_mjs__WEBPACK_IMPORTED_MODULE_1__.pick)(1, p)[0]];\r\n\tif (typeof shape == 'number') shape = [shape];\r\n\r\n\tlet size = get_size(shape);\r\n\r\n\tif ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.count_nonzero)(p) < size) throw `Fewer non-zero entries in p than size`;\r\n\r\n\tlet data = (0,_random_pick_mjs__WEBPACK_IMPORTED_MODULE_1__.pick)(size, p, replace).map(i => a[i]);\r\n\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(shape, data);\r\n}\r\n\r\n// tester\r\n// \t.add(\r\n// \t\tchoice,\r\n// \t\t() => choice(5, 3),\r\n// \t\t() => 0\r\n// \t)\r\n// \t.add(\r\n// \t\tchoice,\r\n// \t\t() => choice(5, null, true, [0.2, 0.1, 0.6, 1.2, 0.5]),\r\n// \t\t() => 0\r\n// \t)\r\n// \t.add(\r\n// \t\tchoice,\r\n// \t\t() => choice(5, 3, true, [0.2, 0.1, 0.6, 1.2, 0.5]),\r\n// \t\t() => 0\r\n// \t)\r\n// \t.add(\r\n// \t\tchoice,\r\n// \t\t() => choice(5, 3, true, [0.2, 0.1, 0.6, 0, 0.5]),\r\n// \t\t() => 0\r\n// \t)\r\n// \t.add(\r\n// \t\tchoice,\r\n// \t\t() => choice(5, 3, true, [0.2, 0.1, 0, 0.5, 0]),\r\n// \t\t() => 0\r\n// \t)\r\n// \t.add(\r\n// \t\tchoice,\r\n// \t\t() => choice(5, 5, false, [0.2, 0.1, 0.6, 0, 0.5]),\r\n// \t\t() => 0\r\n// \t)\r\n// \t.add(\r\n// \t\tchoice,\r\n// \t\t() => choice(5, 4, false, [0.2, 0.1, 0.8, 0.22, 0.5]),\r\n// \t\t() => 0\r\n// \t)\r\n// \t.add(\r\n// \t\tchoice,\r\n// \t\t() => choice(5, null, false, [0.2, 0.1, 0.8, 0.22, 0.5]),\r\n// \t\t() => 0\r\n// \t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/random.choice.mjs?");

/***/ }),

/***/ "./core/random.mjs":
/*!*************************!*\
  !*** ./core/random.mjs ***!
  \*************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Generator\": () => (/* reexport safe */ _random_Generator_mjs__WEBPACK_IMPORTED_MODULE_4__.Generator),\n/* harmony export */   \"choice\": () => (/* reexport safe */ _random_choice_mjs__WEBPACK_IMPORTED_MODULE_0__.choice),\n/* harmony export */   \"pick\": () => (/* reexport safe */ _random_pick_mjs__WEBPACK_IMPORTED_MODULE_3__.pick),\n/* harmony export */   \"rand\": () => (/* reexport safe */ _random_rand_mjs__WEBPACK_IMPORTED_MODULE_2__.rand),\n/* harmony export */   \"random\": () => (/* reexport safe */ _random_Generator_mjs__WEBPACK_IMPORTED_MODULE_4__.random),\n/* harmony export */   \"random_sample\": () => (/* reexport safe */ _random_random_sample_mjs__WEBPACK_IMPORTED_MODULE_1__.random_sample),\n/* harmony export */   \"ranf\": () => (/* reexport safe */ _random_random_sample_mjs__WEBPACK_IMPORTED_MODULE_1__.ranf),\n/* harmony export */   \"sample\": () => (/* reexport safe */ _random_random_sample_mjs__WEBPACK_IMPORTED_MODULE_1__.sample)\n/* harmony export */ });\n/* harmony import */ var _random_choice_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random.choice.mjs */ \"./core/random.choice.mjs\");\n/* harmony import */ var _random_random_sample_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./random.random_sample.mjs */ \"./core/random.random_sample.mjs\");\n/* harmony import */ var _random_rand_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./random.rand.mjs */ \"./core/random.rand.mjs\");\n/* harmony import */ var _random_pick_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./random.pick.mjs */ \"./core/random.pick.mjs\");\n/* harmony import */ var _random_Generator_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./random.Generator.mjs */ \"./core/random.Generator.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_random_choice_mjs__WEBPACK_IMPORTED_MODULE_0__, _random_random_sample_mjs__WEBPACK_IMPORTED_MODULE_1__, _random_rand_mjs__WEBPACK_IMPORTED_MODULE_2__, _random_Generator_mjs__WEBPACK_IMPORTED_MODULE_4__]);\n([_random_choice_mjs__WEBPACK_IMPORTED_MODULE_0__, _random_random_sample_mjs__WEBPACK_IMPORTED_MODULE_1__, _random_rand_mjs__WEBPACK_IMPORTED_MODULE_2__, _random_Generator_mjs__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// lagacy RandomState\r\n\r\n\r\n\r\n\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/random.mjs?");

/***/ }),

/***/ "./core/random.pick.mjs":
/*!******************************!*\
  !*** ./core/random.pick.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"pick\": () => (/* binding */ pick)\n/* harmony export */ });\nfunction accum_sum(p) {\r\n\t// O(n)\r\n\tlet accum = Array(p.length);\r\n\tlet prev = (accum[0] = p[0]);\r\n\tfor (let i = 1; i < p.length; i++) accum[i] = prev += p[i];\r\n\treturn accum;\r\n}\r\n\r\nfunction sum(arr) {\r\n\t// O(n)\r\n\tlet sum = 0;\r\n\tfor (let i = 0; i < arr.length; i++) sum += arr[i];\r\n\treturn sum;\r\n}\r\n\r\nfunction direct_linear_search(p, sum, rand) {\r\n\t// O(n)\r\n\tlet r = rand() * sum;\r\n\tlet n = p.length - 1;\r\n\tfor (let i = 0; i < n; i++) {\r\n\t\tr -= p[i];\r\n\t\tif (r < 0) return i;\r\n\t}\r\n\treturn n;\r\n}\r\n\r\nfunction cumsum_binary_search(cumsum, sum, rand) {\r\n\t// O(log n)\r\n\tlet n = rand() * sum;\r\n\tlet left = 0;\r\n\tlet right = cumsum.length - 1;\r\n\twhile (left < right) {\r\n\t\tlet middle = (left + right) >> 1;\r\n\t\tif (n > cumsum[middle]) left = middle + 1;\r\n\t\telse right = middle;\r\n\t}\r\n\treturn left;\r\n}\r\n\r\nfunction vose_alias_table(p) {\r\n\t// O(n)\r\n\t// https://www.keithschwarz.com/darts-dice-coins/\r\n\tlet n = p.length;\r\n\tlet small = [];\r\n\tlet large = [];\r\n\tlet scale = n / sum(p);\r\n\tp = p.map(x => x * scale);\r\n\tfor (let i = 0; i < n; i++) {\r\n\t\tif (p[i] < 1) small.push(i);\r\n\t\telse large.push(i);\r\n\t}\r\n\r\n\tlet prob = Array(n);\r\n\tlet alias = Array(n);\r\n\twhile (small.length > 0 && large.length > 0) {\r\n\t\tlet l = small.pop();\r\n\t\tlet g = large.pop();\r\n\t\tprob[l] = p[l];\r\n\t\talias[l] = g;\r\n\t\tp[g] = p[g] + p[l] - 1;\r\n\t\tif (p[g] < 1) small.push(g);\r\n\t\telse large.push(g);\r\n\t}\r\n\r\n\twhile (large.length > 0) {\r\n\t\tprob[large.pop()] = 1;\r\n\t}\r\n\r\n\twhile (small.length > 0) {\r\n\t\tprob[small.pop()] = 1;\r\n\t}\r\n\r\n\treturn { n, prob, alias };\r\n}\r\n\r\nfunction sample_table(n, prob, alias, rand) {\r\n\t// O(1)\r\n\tlet i = (rand() * n) | 0;\r\n\treturn rand() < prob[i] ? i : alias[i];\r\n}\r\n\r\nfunction sum_tree(p) {\r\n\t// O(nlog n)\r\n\tlet n = p.length;\r\n\r\n\tlet level = Math.ceil(Math.log2(n));\r\n\tlet size = 1 << level;\r\n\tlet tree = Array(size * 2 - 1);\r\n\tlet offset = size - 1;\r\n\tfor (let i = 0; i < n; i++) tree[offset + i] = p[i];\r\n\tfor (let i = n; i < size; i++) tree[offset + i] = 0;\r\n\r\n\tlet parent = offset;\r\n\twhile (size > 1) {\r\n\t\tlet leaf = parent;\r\n\t\tparent -= size >>= 1;\r\n\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\ttree[parent + i] = tree[leaf] + tree[leaf + 1];\r\n\t\t\tleaf += 2;\r\n\t\t}\r\n\t}\r\n\r\n\treturn { tree, level, offset };\r\n}\r\n\r\nfunction set_tree(tree, offset, i, value) {\r\n\t// O(log n)\r\n\ti += offset;\r\n\tlet diff = value - tree[i];\r\n\twhile (i >= 0) {\r\n\t\ttree[i] += diff;\r\n\t\ti = (i - 1) >> 1;\r\n\t}\r\n}\r\n\r\nfunction sample_tree(tree, level, offset, rand) {\r\n\t// O(log n)\r\n\tlet r = rand() * tree[0];\r\n\tlet i = 1;\r\n\twhile (--level) {\r\n\t\tif (r > tree[i]) r -= tree[i++];\r\n\t\ti = i * 2 + 1;\r\n\t}\r\n\tif (r > tree[i]) i++;\r\n\treturn i - offset;\r\n}\r\n\r\nfunction pick(\r\n\tsize,\r\n\tp = null,\r\n\treplace = true,\r\n\tmethod = 'auto',\r\n\tdata = Array(size),\r\n\trand = Math.random\r\n) {\r\n\t// big-O complexity is obvious but constants still affect the running time\r\n\t// method = 'auto' chooses either {linear, binary, alias, sumtree} based on size and n = p.length\r\n\tlet n = p.length;\r\n\treplace ||= size == 1;\r\n\tif (replace) {\r\n\t\tif (method == 'auto') {\r\n\t\t\tif (size == 1 || size * n < 600) method = 'linear';\r\n\t\t\telse if (size > (n > 100 ? n * 2 : 50)) method = 'alias';\r\n\t\t\telse method = 'binary';\r\n\t\t}\r\n\r\n\t\tswitch (method) {\r\n\t\t\tcase 'linear': {\r\n\t\t\t\tlet s = sum(p);\r\n\t\t\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\t\t\tdata[i] = direct_linear_search(p, s, rand);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'binary': {\r\n\t\t\t\tlet cumsum = accum_sum(p);\r\n\t\t\t\tlet s = cumsum.at(-1);\r\n\t\t\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\t\t\tdata[i] = cumsum_binary_search(cumsum, s, rand);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'alias': {\r\n\t\t\t\tlet { n, prob, alias } = vose_alias_table(p);\r\n\t\t\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\t\t\tdata[i] = sample_table(n, prob, alias, rand);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'sumtree': {\r\n\t\t\t\tlet { tree, level, offset } = sum_tree(p);\r\n\t\t\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\t\t\tdata[i] = sample_tree(tree, level, offset, rand);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\tthrow `unexpected method '${method}'`;\r\n\t\t}\r\n\t} else {\r\n\t\tif (size > p) throw `size > p is not allowed when replace = true`;\r\n\t\tif (method == 'auto') {\r\n\t\t\tif (n + size < 150) method = 'linear';\r\n\t\t\telse if (n + size < 200) method = 'binary';\r\n\t\t\telse method = 'sumtree';\r\n\t\t}\r\n\r\n\t\tswitch (method) {\r\n\t\t\tcase 'linear': {\r\n\t\t\t\tlet s = sum(p);\r\n\t\t\t\tp = p.slice();\r\n\t\t\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\t\t\tlet ind = (data[i] = direct_linear_search(p, s, rand));\r\n\t\t\t\t\ts -= p[ind];\r\n\t\t\t\t\tp[ind] = 0;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'binary': {\r\n\t\t\t\tlet cumsum = accum_sum(p);\r\n\t\t\t\tlet sum = cumsum.at(-1);\r\n\t\t\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\t\t\tlet ind = (data[i] = cumsum_binary_search(cumsum, sum, rand));\r\n\t\t\t\t\tlet value = p[i];\r\n\t\t\t\t\tfor (let i = ind; i < cumsum.length; i++) cumsum[i] -= value;\r\n\t\t\t\t\tsum -= value;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'alias': {\r\n\t\t\t\tp = p.slice();\r\n\t\t\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\t\t\tlet { n, prob, alias } = vose_alias_table(p);\r\n\t\t\t\t\tlet ind = (data[i] = sample_table(n, prob, alias, rand));\r\n\t\t\t\t\tp[ind] = 0;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'sumtree': {\r\n\t\t\t\tlet { tree, level, offset } = sum_tree(p);\r\n\t\t\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\t\t\tlet ind = (data[i] = sample_tree(tree, level, offset, rand));\r\n\t\t\t\t\tset_tree(tree, offset, ind, 0);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\tthrow `unexpected method '${method}'`;\r\n\t\t}\r\n\t}\r\n\treturn data;\r\n}\r\n\r\n// [0, 1, 2, 3, (4)[0 + 1], (5)[2 + 3], (6)[4 + 5]];\r\n\r\n// tester.onload(() => {\r\n// \tlet p = [5, 1, 0, 3, 2, 4];\r\n// \t// p = [5, 1];\r\n// \t// let accum = accum_sum([0.5, 0.1, 0, 0.1, 0.2, 0.3]);\r\n// \t// console.log(accum);\r\n\r\n// \t// console.log(binary_search(accum, 0.51), binary_search(accum, 0.5));\r\n// \t// console.log('vose_alias_table', vose_alias_table([0.5, 0.1, 0, 0.1, 0.2, 0.3]));\r\n// \t// console.log('pick', pick(200, [0.5, 0.1, 0, 0.1, 0.2, 0.3]));\r\n\r\n// \t// console.log(sumtree([0.5, 0.1, 0, 0.1, 0.2, 0.3]));\r\n// \t// console.log(sumtree([1, 2, 3, 4, 5, 6, 7, 8]));\r\n\r\n// \t// let { tree, level, offset } = sumtree(p);\r\n// \t// // set(tree, 7, 6);\r\n// \t// console.log(tree);\r\n// \t// console.log(sample_tree(tree, level, offset));\r\n// \t// console.log(\r\n// \t// \tArray(4)\r\n// \t// \t\t.fill()\r\n// \t// \t\t.map(() => {\r\n// \t// \t\t\tlet i = sample_tree(tree, level, offset);\r\n// \t// \t\t\t// set_tree(tree, offset, i, 0);\r\n// \t// \t\t\treturn i;\r\n// \t// \t\t})\r\n// \t// );\r\n// \t// console.log(tree);\r\n\r\n// \t// let { n, prob, alias } = vose_alias_table(p);\r\n// \t// console.log(\r\n// \t// \tArray(100)\r\n// \t// \t\t.fill()\r\n// \t// \t\t.map(() => sample_table(n, prob, alias))\r\n// \t// );\r\n\r\n// \t// console.log(\r\n// \t// \tArray(100)\r\n// \t// \t\t.fill()\r\n// \t// \t\t.map(() => direct_linear_search(p))\r\n// \t// );\r\n\r\n// \t// let cumsum = accum_sum(p),\r\n// \t// \tsum = cumsum.at(-1);\r\n\r\n// \t// console.log(\r\n// \t// \tArray(100)\r\n// \t// \t\t.fill()\r\n// \t// \t\t.map(() => cumsum_binary_search(cumsum, sum))\r\n// \t// );\r\n\r\n// \t{\r\n// \t\tlet p = [0.01, 1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n// \t\tlet hist = {};\r\n// \t\tfor (let i of pick(sum(p) * 100000, p, true, 'auto')) {\r\n// \t\t\thist[i] ??= 0;\r\n// \t\t\thist[i]++;\r\n// \t\t}\r\n// \t\tconsole.log(hist);\r\n// \t}\r\n\r\n// \tlet N = 150;\r\n// \tlet SIZE = 150;\r\n// \tlet options = {\r\n// \t\tduration: 1000,\r\n// \t\tcycle: 'auto',\r\n// \t\tsetup: () =>\r\n// \t\t\tArray(N)\r\n// \t\t\t\t.fill()\r\n// \t\t\t\t.map(() => Math.random()),\r\n// \t\tverbose: true,\r\n// \t\twarmup: 1000,\r\n// \t};\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tpick(SIZE, p, true);\r\n// \t\t},\r\n// \t\t{ ...options, name: 'pick' }\r\n// \t);\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tlet cumsum = accum_sum(p);\r\n// \t\t\tlet sum = cumsum.at(-1);\r\n// \t\t\tArray(SIZE)\r\n// \t\t\t\t.fill()\r\n// \t\t\t\t.map(() => cumsum_binary_search(cumsum, sum));\r\n// \t\t},\r\n// \t\t{ ...options, name: 'cumsum_binary_search' }\r\n// \t);\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tlet s = sum(p);\r\n// \t\t\tArray(SIZE)\r\n// \t\t\t\t.fill()\r\n// \t\t\t\t.map(() => direct_linear_search(p, s));\r\n// \t\t},\r\n// \t\t{ ...options, name: 'direct_linear_search' }\r\n// \t);\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tlet { n, prob, alias } = vose_alias_table(p);\r\n// \t\t\tArray(SIZE)\r\n// \t\t\t\t.fill()\r\n// \t\t\t\t.map(() => sample_table(n, prob, alias));\r\n// \t\t},\r\n// \t\t{ ...options, name: 'vose_alias_table' }\r\n// \t);\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tlet { tree, level, offset } = sumtree(p);\r\n// \t\t\tArray(SIZE)\r\n// \t\t\t\t.fill()\r\n// \t\t\t\t.map(() => sample_tree(tree, level, offset));\r\n// \t\t},\r\n// \t\t{ ...options, name: 'sumtree' }\r\n// \t);\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tlet cumsum = accum_sum(p);\r\n// \t\t\tlet sum = cumsum.at(-1);\r\n// \t\t\tArray(SIZE)\r\n// \t\t\t\t.fill()\r\n// \t\t\t\t.map(() => {\r\n// \t\t\t\t\tlet i = cumsum_binary_search(cumsum, sum);\r\n// \t\t\t\t\tlet value = p[i];\r\n// \t\t\t\t\tfor (let j = i; j < cumsum.length; j++) cumsum[j] -= value;\r\n// \t\t\t\t\tsum -= value;\r\n// \t\t\t\t\treturn i;\r\n// \t\t\t\t});\r\n// \t\t},\r\n// \t\t{ ...options, name: 'replace.cumsum_binary_search' }\r\n// \t);\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tp = p.slice();\r\n// \t\t\tlet s = sum(p);\r\n// \t\t\tArray(SIZE)\r\n// \t\t\t\t.fill()\r\n// \t\t\t\t.map(() => {\r\n// \t\t\t\t\tlet i = direct_linear_search(p, s);\r\n// \t\t\t\t\ts -= p[i];\r\n// \t\t\t\t\tp[i] = 0;\r\n// \t\t\t\t\treturn i;\r\n// \t\t\t\t});\r\n// \t\t},\r\n// \t\t{ ...options, name: 'replace.direct_linear_search' }\r\n// \t);\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tp = p.slice();\r\n// \t\t\tArray(SIZE)\r\n// \t\t\t\t.fill()\r\n// \t\t\t\t.map(() => {\r\n// \t\t\t\t\tlet { n, prob, alias } = vose_alias_table(p);\r\n// \t\t\t\t\tlet i = sample_table(n, prob, alias);\r\n// \t\t\t\t\tp[i] = 0;\r\n// \t\t\t\t\treturn i;\r\n// \t\t\t\t});\r\n// \t\t},\r\n// \t\t{ ...options, name: 'replace.vose_alias_table' }\r\n// \t);\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tlet { tree, level, offset } = sumtree(p);\r\n// \t\t\tArray(SIZE)\r\n// \t\t\t\t.fill()\r\n// \t\t\t\t.map(() => {\r\n// \t\t\t\t\tlet i = sample_tree(tree, level, offset);\r\n// \t\t\t\t\tset_tree(tree, offset, i, 0);\r\n// \t\t\t\t\treturn i;\r\n// \t\t\t\t});\r\n// \t\t},\r\n// \t\t{ ...options, name: 'replace.sumtree' }\r\n// \t);\r\n\r\n// \ttimeit(\r\n// \t\tp => {\r\n// \t\t\tpick(SIZE, p, false);\r\n// \t\t},\r\n// \t\t{ ...options, name: 'replace.pick' }\r\n// \t);\r\n// });\r\n\r\n// tester\r\n// \t.add(\r\n// \t\ttester,\r\n// \t\t() => 0,\r\n// \t\t() => 1\r\n// \t)\r\n// \t.add(\r\n// \t\ttester,\r\n// \t\t() => 0,\r\n// \t\t() => 1\r\n// \t)\r\n// \t.add(\r\n// \t\ttester,\r\n// \t\t() => 0,\r\n// \t\t() => 1\r\n// \t);\r\n\n\n//# sourceURL=webpack://$/./core/random.pick.mjs?");

/***/ }),

/***/ "./core/random.rand.mjs":
/*!******************************!*\
  !*** ./core/random.rand.mjs ***!
  \******************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"rand\": () => (/* binding */ rand)\n/* harmony export */ });\n/* harmony import */ var _random_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random.mjs */ \"./core/random.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_random_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_random_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction rand(...shape) {\r\n\treturn (0,_random_mjs__WEBPACK_IMPORTED_MODULE_0__.random_sample)(shape);\r\n}\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/random.rand.mjs?");

/***/ }),

/***/ "./core/random.random_sample.mjs":
/*!***************************************!*\
  !*** ./core/random.random_sample.mjs ***!
  \***************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"random_sample\": () => (/* binding */ random_sample),\n/* harmony export */   \"ranf\": () => (/* binding */ ranf),\n/* harmony export */   \"sample\": () => (/* binding */ sample)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction get_size(shape) {\r\n\tlet size = 1;\r\n\tfor (let dim of shape) size *= dim;\r\n\treturn size;\r\n}\r\n\r\nfunction random_sample(shape = null) {\r\n\tif (shape == null) return Math.random();\r\n\tif (typeof shape == 'number') shape = [shape];\r\n\tlet size = get_size(shape);\r\n\tlet data = Array(size);\r\n\tfor (let i = 0; i < size; i++) {\r\n\t\tdata[i] = Math.random();\r\n\t}\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(shape, data);\r\n}\r\n\r\n// export const random = random_sample;\r\nconst ranf = random_sample;\r\nconst sample = random_sample;\r\n\r\n// console.log(random_sample([3, 2]));\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/random.random_sample.mjs?");

/***/ }),

/***/ "./core/ravel.mjs":
/*!************************!*\
  !*** ./core/ravel.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ravel\": () => (/* binding */ ravel)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction ravel(a) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ascontiguousarray)(a);\r\n\tlet { size, data, offset, itemsize } = a;\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([size], data, a.base, undefined, offset, itemsize);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\travel,\r\n\t\t() =>\r\n\t\t\travel(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2, 3],\r\n\t\t\t\t\t[4, 5, 6],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, 4, 5, 6])\r\n\t)\r\n\t.add(\r\n\t\travel,\r\n\t\t() =>\r\n\t\t\travel(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2, 3],\r\n\t\t\t\t\t[4, 5, 6],\r\n\t\t\t\t]).T\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 4, 2, 5, 3, 6])\r\n\t)\r\n\t.add(\r\n\t\travel,\r\n\t\t() => ravel((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(12).reshape(2, 3, 2).swapaxes(1, 2)),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 2, 4, 1, 3, 5, 6, 8, 10, 7, 9, 11])\r\n\t)\r\n\t.add(\r\n\t\travel,\r\n\t\t() => {\r\n\t\t\tlet x, y;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(40).reshape([5, -1]).copy();\r\n\t\t\ty = x.get(null, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(':'), null, null, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('::2'), null);\r\n\t\t\treturn [y.reshape(-1).base == x, ravel(y).base];\r\n\t\t},\r\n\t\t() => [true, null]\r\n\t)\r\n\t.add(\r\n\t\travel,\r\n\t\t() => {\r\n\t\t\tlet x, y;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(40).reshape([5, -1]).copy();\r\n\t\t\ty = x.get(null, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(':'), null, null, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('::3'), null);\r\n\t\t\treturn [y.reshape(-1).base == x, ravel(y).base];\r\n\t\t},\r\n\t\t() => [false, null]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/ravel.mjs?");

/***/ }),

/***/ "./core/reshape.mjs":
/*!**************************!*\
  !*** ./core/reshape.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"even_strides\": () => (/* binding */ even_strides),\n/* harmony export */   \"reshape\": () => (/* binding */ reshape)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction even_strides(strides, shape, ndim = strides.length) {\r\n\t// can .reshape(-1) without creating a copy\r\n\t// can iterate through .data with a constant stride (no need ndindex)\r\n\tlet lastindex;\r\n\tfor (let i = ndim - 1; i > 0; i--) {\r\n\t\tif (shape[i] > 1) {\r\n\t\t\tlastindex = i;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tfor (let i = lastindex - 1; i >= 0; i--) {\r\n\t\tif (shape[i] > 1) {\r\n\t\t\t// console.log(\r\n\t\t\t// \t'asd',\r\n\t\t\t// \tstrides[i],\r\n\t\t\t// \tshape[i],\r\n\t\t\t// \tstrides[lastindex],\r\n\t\t\t// \tstrides[i] == strides[lastindex] * shape[lastindex]\r\n\t\t\t// );\r\n\t\t\tif (strides[i] != strides[lastindex] * shape[lastindex]) return false;\r\n\t\t\tlastindex = i;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction get_size(shape) {\r\n\tlet size = 1;\r\n\tfor (let dim of shape) size *= dim;\r\n\treturn size;\r\n}\r\n\r\nfunction reshape(a, newshape) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (typeof newshape == 'number') newshape = [newshape];\r\n\tlet unknown = -1;\r\n\tlet rest = 1;\r\n\tfor (let i = 0; i < newshape.length; i++) {\r\n\t\tif (newshape[i] == -1) {\r\n\t\t\tif (unknown != -1) throw 'can only specify one unknown dimension';\r\n\t\t\tunknown = i;\r\n\t\t} else {\r\n\t\t\trest *= newshape[i];\r\n\t\t}\r\n\t}\r\n\tif (unknown != -1) {\r\n\t\tlet { size } = a;\r\n\t\tif (size % rest != 0) throw `cannot reshape array of size ${size} into shape ${newshape}`;\r\n\t\tnewshape[unknown] = rest == 0 ? 0 : size / rest;\r\n\t}\r\n\tif (a.size != get_size(newshape))\r\n\t\tthrow `cannot reshape array of size ${a.size} into shape [${newshape.join(', ')}]`;\r\n\r\n\tif (a.base == undefined) {\r\n\t\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(newshape, a.data, a);\r\n\t}\r\n\r\n\t// check (1, 1, x, -1, y, 1) to (x, y)\r\n\t// or backward\r\n\tif (true) {\r\n\t\tlet compatible = true;\r\n\t\tlet j = 0;\r\n\t\tfor (let i = 0; i < newshape.length; i++) {\r\n\t\t\tif (newshape[i] == 1) continue;\r\n\t\t\tfor (; j < a.shape.length && a.shape[j] == 1; j++);\r\n\t\t\tif (j >= a.shape.length || newshape[i] != a.shape[j]) {\r\n\t\t\t\tcompatible = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tj++;\r\n\t\t}\r\n\t\tif (j != a.shape.length) compatible = false;\r\n\t\t// console.log(a.shape, compatible, newshape, a.data);\r\n\t\tif (compatible) {\r\n\t\t\tlet strides = [];\r\n\t\t\tfor (let i = 0, j = 0; i < newshape.length; i++) {\r\n\t\t\t\tif (newshape[i] != 1) {\r\n\t\t\t\t\tfor (; j < a.shape.length && a.shape[j] == 1; j++);\r\n\t\t\t\t}\r\n\t\t\t\tstrides.push(a.strides[j]);\r\n\t\t\t}\r\n\t\t\t// console.log(strides);\r\n\t\t\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(newshape, a.data, a, strides, a.offset, a.itemsize);\r\n\t\t}\r\n\t}\r\n\r\n\t// console.log(newshape.length == 1, even_strides(a.strides, a.shape, a.ndim));\r\n\t// for reshape(a, [-1])\r\n\tlet strides = null;\r\n\tif (newshape.length == 1 && even_strides(a.strides, a.shape, a.ndim)) {\r\n\t\tstrides = [a.strides[0]];\r\n\t} else if (newshape.length != 0) {\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(a);\r\n\t}\r\n\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(newshape, a.data, a, strides, a.offset, a.itemsize);\r\n}\r\n\r\nlet msg = await new Promise((resolve, reject) => {\r\n\tsetTimeout(() => resolve('ok'), 1);\r\n});\r\n\r\n// console.log(msg);\r\n\r\n// https://rob-blackbourn.github.io/blog/webassembly/wasm/array/arrays/javascript/c/2020/06/07/wasm-arrays.html\r\n// https://nodejs.dev/en/learn/nodejs-with-webassembly/\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\treshape,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, 4, 5]);\r\n\t\t\t// console.log('wtf');\r\n\t\t\treturn reshape(a.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('::-2')), -1);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([5, 3, 1])\r\n\t)\r\n\t.add(\r\n\t\treshape,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1]);\r\n\t\t\treturn reshape(a, []);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(1)\r\n\t)\r\n\t.add(\r\n\t\treshape,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(1);\r\n\t\t\treturn reshape(a, 1);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1])\r\n\t)\r\n\t.add(\r\n\t\treshape,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(1);\r\n\t\t\treturn reshape(a, -1);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1])\r\n\t)\r\n\t.add(\r\n\t\t'reshape',\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)([\r\n\t\t\t\t[0, 1],\r\n\t\t\t\t[2, 3],\r\n\t\t\t\t[4, 5],\r\n\t\t\t]);\r\n\r\n\t\t\treturn reshape(a, [2, 3]);\r\n\t\t},\r\n\t\t() => [\r\n\t\t\t[0, 1, 2],\r\n\t\t\t[3, 4, 5],\r\n\t\t]\r\n\t)\r\n\t.add(\r\n\t\t'reshape',\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)([[[[0, 1]]]]);\r\n\t\t\treturn reshape(a, [2, -1]);\r\n\t\t},\r\n\t\t() => [[0], [1]]\r\n\t)\r\n\t.add(\r\n\t\t'reshape',\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)([[[[0, 1]]]]);\r\n\t\t\treturn reshape(a, [2, -1]).base === a;\r\n\t\t},\r\n\t\t() => true\r\n\t)\r\n\t.add(\r\n\t\t'reshape',\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)([[[[0, 1]]]]).get(0);\r\n\t\t\treturn reshape(a, [2, -1]).base === a;\r\n\t\t},\r\n\t\t() => false\r\n\t)\r\n\t.add(\r\n\t\t'reshape',\r\n\t\t() =>\r\n\t\t\treshape(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2, 3],\r\n\t\t\t\t\t[4, 5, 6],\r\n\t\t\t\t]),\r\n\t\t\t\t[-1]\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 2, 3, 4, 5, 6])\r\n\t)\r\n\t.add(\r\n\t\t'reshape',\r\n\t\t() => {\r\n\t\t\t`\r\n\t\t\tb = np.arange(30)\r\n\t\t\ta = b.reshape((10, 3))[::2]\r\n\t\t\tc = a.reshape(a.shape)\r\n\t\t\ta, a.reshape((1, 1, 5, -1, 3)).base is b, a.base is b, a.reshape(-1).base is b, c is a, c.base is b\r\n\t\t\t`;\r\n\t\t\tlet b = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(30);\r\n\t\t\tlet a = b.reshape([10, 3]).get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)('::2'));\r\n\t\t\tlet c = a.reshape(a.shape);\r\n\t\t\treturn [\r\n\t\t\t\ta.toarray(),\r\n\t\t\t\treshape(a, [1, 1, 5, -1, 3]).base === b,\r\n\t\t\t\ta.base === b,\r\n\t\t\t\ta.reshape(-1).base === b,\r\n\t\t\t\tc === a,\r\n\t\t\t\tc.base === b,\r\n\t\t\t];\r\n\t\t},\r\n\t\t() => [\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1, 2],\r\n\t\t\t\t[6, 7, 8],\r\n\t\t\t\t[12, 13, 14],\r\n\t\t\t\t[18, 19, 20],\r\n\t\t\t\t[24, 25, 26],\r\n\t\t\t]).toarray(),\r\n\t\t\ttrue,\r\n\t\t\ttrue,\r\n\t\t\tfalse,\r\n\t\t\tfalse,\r\n\t\t\ttrue,\r\n\t\t]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://$/./core/reshape.mjs?");

/***/ }),

/***/ "./core/shape.mjs":
/*!************************!*\
  !*** ./core/shape.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shape\": () => (/* binding */ shape)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction nested_shape(array, shape, level) {\r\n\tfor (let i = 0; i < array.length; i++) {\r\n\t\tlet elem = array[i];\r\n\t\tif (elem instanceof _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray) {\r\n\t\t\tfor (let i = level, j = 0; i < shape.length; i++) {\r\n\t\t\t\tif (shape[i] != elem.shape[j++]) {\r\n\t\t\t\t\tshape.length = i;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (elem?.length != shape[level]) {\r\n\t\t\tshape.length = level;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (elem?.length != undefined && shape.length > level + 1) {\r\n\t\t\tif (!nested_shape(elem, shape, level + 1)) return false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction shape(array) {\r\n\tif (array.shape != undefined) return array.shape;\r\n\tlet shape = [];\r\n\tlet elem = array;\r\n\twhile (true) {\r\n\t\tif (elem instanceof _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray) {\r\n\t\t\tshape.push(...elem.shape);\r\n\t\t\tbreak;\r\n\t\t} else if (elem?.length != undefined) {\r\n\t\t\tshape.push(elem.length);\r\n\t\t\telem = elem[0];\r\n\t\t} else break;\r\n\t}\r\n\tif (array.length != undefined && shape.length > 1) nested_shape(array, shape, 1);\r\n\treturn shape;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'shape',\r\n\t\t() => shape([[[3, 9]], [[3, 9, 3]], [[3, 9]]]),\r\n\t\t() => [3, 1]\r\n\t)\r\n\t.add(\r\n\t\t'shape',\r\n\t\t() => shape([1, 2, 3, [1, 3]]),\r\n\t\t() => [4]\r\n\t)\r\n\t.add(\r\n\t\t'shape',\r\n\t\t() => shape([0]),\r\n\t\t() => [1]\r\n\t)\r\n\t.add(\r\n\t\t'shape',\r\n\t\t() => shape(0),\r\n\t\t() => []\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/shape.mjs?");

/***/ }),

/***/ "./core/slice.mjs":
/*!************************!*\
  !*** ./core/slice.mjs ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Slice\": () => (/* binding */ Slice),\n/* harmony export */   \"slice\": () => (/* binding */ slice)\n/* harmony export */ });\nclass Slice {\r\n\tstatic newaxis = null;\r\n\tstatic ellipsis = new Slice();\r\n\tstatic colon = new Slice();\r\n\r\n\tstatic ['None'] = Slice.newaxis;\r\n\tstatic ['...'] = Slice.ellipsis;\r\n\tstatic [':'] = Slice.colon;\r\n\r\n\tconstructor(start = null, stop = null, step = null) {\r\n\t\tthis.start = start;\r\n\t\tthis.stop = stop;\r\n\t\tthis.step = step;\r\n\t}\r\n\r\n\t_get() {\r\n\t\tlet { start, stop, step } = this;\r\n\t\tstart ??= 0;\r\n\t\tif (stop == null) throw `stop must not be null`;\r\n\t\tstep ??= 1;\r\n\r\n\t\tlet slicelength;\r\n\t\tif (step == 0 || (step < 0 && stop >= start) || (step > 0 && start >= stop)) {\r\n\t\t\tslicelength = 0;\r\n\t\t} else if (step < 0) {\r\n\t\t\tslicelength = ((stop - start + 1) / step + 1) | 0;\r\n\t\t} else {\r\n\t\t\tslicelength = ((stop - start - 1) / step + 1) | 0;\r\n\t\t}\r\n\t\treturn { start, stop, step, slicelength };\r\n\t}\r\n\r\n\tget(length) {\r\n\t\t// https://svn.python.org/projects/python/branches/pep-0384/Objects/sliceobject.c\r\n\t\tlet { start, stop, step } = this;\r\n\t\tif (step == null) {\r\n\t\t\tstep = 1;\r\n\t\t}\r\n\r\n\t\tlet defstart = step < 0 ? length - 1 : 0;\r\n\t\tlet defstop = step < 0 ? -1 : length;\r\n\r\n\t\tif (start == null) {\r\n\t\t\tstart = defstart;\r\n\t\t} else {\r\n\t\t\tif (start < 0) start += length;\r\n\t\t\tif (start < 0) start = step < 0 ? -1 : 0;\r\n\t\t\tif (start >= length) start = step < 0 ? length - 1 : length;\r\n\t\t}\r\n\r\n\t\tif (stop == null) {\r\n\t\t\tstop = defstop;\r\n\t\t} else {\r\n\t\t\tif (stop < 0) stop += length;\r\n\t\t\tif (stop < 0) stop = step < 0 ? -1 : 0;\r\n\t\t\tif (stop >= length) stop = step < 0 ? length - 1 : length;\r\n\t\t}\r\n\r\n\t\tlet slicelength;\r\n\t\tif (step == 0 || (step < 0 && stop >= start) || (step > 0 && start >= stop)) {\r\n\t\t\tslicelength = 0;\r\n\t\t} else if (step < 0) {\r\n\t\t\tslicelength = ((stop - start + 1) / step + 1) | 0;\r\n\t\t} else {\r\n\t\t\tslicelength = ((stop - start - 1) / step + 1) | 0;\r\n\t\t}\r\n\t\treturn { start, stop, step, slicelength };\r\n\t}\r\n\r\n\ttoString() {\r\n\t\tif (this == Slice.ellipsis) return '...';\r\n\t\tif (this == Slice.colon) return ':';\r\n\t\tlet { start, stop, step } = this;\r\n\t\tif (step == null) {\r\n\t\t\tif (start == null && stop == null) return ':';\r\n\t\t\treturn `${start ?? ''}:${stop ?? ''}`;\r\n\t\t}\r\n\t\treturn `${start ?? ''}:${stop ?? ''}:${step}`;\r\n\t}\r\n}\r\n\r\nfunction slice(start, stop, step) {\r\n\tif (start == null && stop == null && step == null) return Slice.colon;\r\n\tif (typeof start == 'string') {\r\n\t\tif (Object.hasOwn(Slice, start)) return Slice[start];\r\n\t\tlet args = start.split(':');\r\n\t\t// console.log(args);\r\n\t\tif (args.length == 1) {\r\n\t\t\tlet [start] = args;\r\n\r\n\t\t\tif (start.length == 0) start = null;\r\n\t\t\telse if (Number.isInteger(+start)) start = +start;\r\n\t\t\telse throw `${start} cannot be cast to integer`;\r\n\r\n\t\t\treturn new Slice(start);\r\n\t\t}\r\n\t\tif (args.length == 2) {\r\n\t\t\tlet [start, stop] = args;\r\n\r\n\t\t\tif (start.length == 0) start = null;\r\n\t\t\telse if (Number.isInteger(+start)) start = +start;\r\n\t\t\telse throw `${start} cannot be cast to integer`;\r\n\r\n\t\t\tif (stop.length == 0) stop = null;\r\n\t\t\telse if (Number.isInteger(+stop)) stop = +stop;\r\n\t\t\telse throw `${stop} cannot be cast to integer`;\r\n\r\n\t\t\treturn new Slice(start, stop);\r\n\t\t}\r\n\t\tif (args.length == 3) {\r\n\t\t\tlet [start, stop, step] = args;\r\n\r\n\t\t\tif (start.length == 0) start = null;\r\n\t\t\telse if (Number.isInteger(+start)) start = +start;\r\n\t\t\telse throw `${start} cannot be cast to integer`;\r\n\r\n\t\t\tif (stop.length == 0) stop = null;\r\n\t\t\telse if (Number.isInteger(+stop)) stop = +stop;\r\n\t\t\telse throw `${stop} cannot be cast to integer`;\r\n\r\n\t\t\tif (step.length == 0) step = null;\r\n\t\t\telse if (Number.isInteger(+step)) step = +step;\r\n\t\t\telse throw `${step} cannot be cast to integer`;\r\n\r\n\t\t\treturn new Slice(start, stop, step);\r\n\t\t}\r\n\t\tthrow `invalid string slice representation ${start}`;\r\n\t}\r\n\tif (start?.length != undefined) {\r\n\t\t({ 0: start, 1: stop, 2: step } = start);\r\n\t}\r\n\treturn new Slice(start, stop, step);\r\n}\r\n\r\nObject.assign(slice, { colon: Slice.colon }, Slice);\r\n\r\nslice.colon = Slice.colon;\r\n\r\nslice.is = function (obj) {\r\n\treturn obj instanceof Slice;\r\n};\r\n\r\n\r\n\n\n//# sourceURL=webpack://$/./core/slice.mjs?");

/***/ }),

/***/ "./core/sort.mjs":
/*!***********************!*\
  !*** ./core/sort.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"sort\": () => (/* binding */ sort)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction sort(a, axis = -1, key = null) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (axis == null) {\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel)(a);\r\n\t\taxis = 0;\r\n\t} else {\r\n\t\taxis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, a.ndim);\r\n\t}\r\n\r\n\tlet out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty_like)(a);\r\n\tlet tmp = Array(a.shape[axis]);\r\n\tlet cmp = (a, b) => a - b;\r\n\r\n\tlet shape = a.shape.slice();\r\n\tshape[axis] = 1;\r\n\r\n\tfor (let ii of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndindex)(shape)) {\r\n\t\tlet { offset } = a;\r\n\t\tlet { offset: _offset } = out;\r\n\t\tfor (let i = 0; i < shape.length; i++) {\r\n\t\t\toffset += ii[i] * a.strides[i];\r\n\t\t\t_offset += ii[i] * out.strides[i];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < a.shape[axis]; i++) {\r\n\t\t\tlet value = a.data[offset + i * a.strides[axis]];\r\n\t\t\ttmp[i] = key != null ? key(value) : value;\r\n\t\t}\r\n\t\ttmp.sort(cmp);\r\n\t\tfor (let i = 0; i < a.shape[axis]; i++) {\r\n\t\t\tout.data[_offset + i * out.strides[axis]] = tmp[i];\r\n\t\t}\r\n\t}\r\n\r\n\treturn out;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tsort,\r\n\t\t() =>\r\n\t\t\tsort(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 4],\r\n\t\t\t\t\t[3, 1],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 4],\r\n\t\t\t\t[1, 3],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\tsort,\r\n\t\t() =>\r\n\t\t\tsort(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 4],\r\n\t\t\t\t\t[3, 1],\r\n\t\t\t\t]),\r\n\t\t\t\tnull\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 1, 3, 4])\r\n\t)\r\n\t.add(\r\n\t\tsort,\r\n\t\t() =>\r\n\t\t\tsort(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 4],\r\n\t\t\t\t\t[3, 1],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 1],\r\n\t\t\t\t[3, 4],\r\n\t\t\t])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/sort.mjs?");

/***/ }),

/***/ "./core/squeeze.mjs":
/*!**************************!*\
  !*** ./core/squeeze.mjs ***!
  \**************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"squeeze\": () => (/* binding */ squeeze)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\n/* harmony import */ var _numeric_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./numeric.mjs */ \"./core/numeric.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__, _numeric_mjs__WEBPACK_IMPORTED_MODULE_1__]);\n([_core_mjs__WEBPACK_IMPORTED_MODULE_0__, _numeric_mjs__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\nfunction squeeze(a, axis = null) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (axis != null) {\r\n\t\taxis = (0,_numeric_mjs__WEBPACK_IMPORTED_MODULE_1__.normalize_axis)(axis);\r\n\t}\r\n\tlet { shape, strides, data, ndim, offset, itemsize } = a;\r\n\tlet newshape = [];\r\n\tlet newstrides = [];\r\n\tfor (let i = 0; i < ndim; i++) {\r\n\t\tif (axis ? axis.includes(i) : shape[i] == 1) continue;\r\n\t\tnewshape.push(shape[i]);\r\n\t\tnewstrides.push(strides[i]);\r\n\t}\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(newshape, data, a, newstrides, offset, itemsize);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tsqueeze,\r\n\t\t() => squeeze((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[0], [1], [2]]])).shape,\r\n\t\t() => [3]\r\n\t)\r\n\t.add(\r\n\t\tsqueeze,\r\n\t\t() => squeeze((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[0], [1], [2]]]), 0).shape,\r\n\t\t() => [3, 1]\r\n\t)\r\n\t.add(\r\n\t\tsqueeze,\r\n\t\t() => squeeze((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[0], [1], [2]]]), 2).shape,\r\n\t\t() => [1, 3]\r\n\t)\r\n\t.add(\r\n\t\tsqueeze,\r\n\t\t() => squeeze((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1234]])),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(1234)\r\n\t)\r\n\t.add(\r\n\t\tsqueeze,\r\n\t\t() => {\r\n\t\t\t`\r\nx = np.arange(20)\r\ny = x.reshape((5, -1))\r\nz = y[::-1]\r\na = np.ascontiguousarray(z)\r\nb = a.reshape((5, 1, 1, -1))\r\nb.reshape((5, -1)).base is a, b.reshape(-1).base is a, np.squeeze(b).base is a, x, y, z, np.squeeze(b)\r\n`;\r\n\t\t\tlet x, y, z, a, b;\r\n\t\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(20);\r\n\t\t\ty = x.reshape([5, -1]);\r\n\t\t\tz = y.get((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)([, , -1]));\r\n\t\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ascontiguousarray)(z);\r\n\t\t\tb = a.reshape([5, 1, 1, -1]);\r\n\t\t\treturn [\r\n\t\t\t\tb.reshape([5, -1]).base === a,\r\n\t\t\t\tb.reshape(-1).base === a,\r\n\t\t\t\tsqueeze(b).base === a,\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz,\r\n\t\t\t\tsqueeze(b),\r\n\t\t\t];\r\n\t\t},\r\n\t\t() => [\r\n\t\t\ttrue,\r\n\t\t\ttrue,\r\n\t\t\ttrue,\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]),\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1, 2, 3],\r\n\t\t\t\t[4, 5, 6, 7],\r\n\t\t\t\t[8, 9, 10, 11],\r\n\t\t\t\t[12, 13, 14, 15],\r\n\t\t\t\t[16, 17, 18, 19],\r\n\t\t\t]),\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[16, 17, 18, 19],\r\n\t\t\t\t[12, 13, 14, 15],\r\n\t\t\t\t[8, 9, 10, 11],\r\n\t\t\t\t[4, 5, 6, 7],\r\n\t\t\t\t[0, 1, 2, 3],\r\n\t\t\t]),\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[16, 17, 18, 19],\r\n\t\t\t\t[12, 13, 14, 15],\r\n\t\t\t\t[8, 9, 10, 11],\r\n\t\t\t\t[4, 5, 6, 7],\r\n\t\t\t\t[0, 1, 2, 3],\r\n\t\t\t]),\r\n\t\t]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/squeeze.mjs?");

/***/ }),

/***/ "./core/statistics.mjs":
/*!*****************************!*\
  !*** ./core/statistics.mjs ***!
  \*****************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"average\": () => (/* binding */ average),\n/* harmony export */   \"bincount\": () => (/* binding */ bincount),\n/* harmony export */   \"mean\": () => (/* binding */ mean),\n/* harmony export */   \"ptp\": () => (/* binding */ ptp),\n/* harmony export */   \"std\": () => (/* binding */ std),\n/* harmony export */   \"variance\": () => (/* binding */ variance)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction ptp(a, axis = null, out = null, keepdims = false) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (axis == null) {\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel)(a);\r\n\t\taxis = 0;\r\n\t} else axis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, a.ndim);\r\n\r\n\tlet shape = [...a.shape.slice(0, axis), ...(keepdims ? [1] : []), ...a.shape.slice(axis + 1)];\r\n\r\n\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(shape);\r\n\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(shape, out.shape))\r\n\t\tthrow `out must have the same shape as the expected output`;\r\n\r\n\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.amax)(a, axis, null, keepdims), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.amin)(a, axis, null, keepdims), out);\r\n\r\n\treturn out;\r\n}\r\n\r\nfunction average(a, axis = null, weights = null, returned = false, keepdims = false) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\r\n\tif (axis == null) {\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel)(a);\r\n\t\taxis = 0;\r\n\t} else axis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, a.ndim);\r\n\r\n\tif (weights != null) weights = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(weights);\r\n\r\n\tlet sum_of_weights;\r\n\tif (weights != null) {\r\n\t\tsum_of_weights = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.sum)(weights);\r\n\t\tif (sum_of_weights == 0) throw `sum(weights) must not be 0`;\r\n\t\tif (weights.ndim == 1) {\r\n\t\t\tweights = weights.reshape([...Array(axis).fill(1), a.shape[axis]]);\r\n\t\t} else if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(weights.shape, a.shape)) {\r\n\t\t} else throw `weights.shape and a.shape do not match`;\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(a, weights);\r\n\t} else {\r\n\t\tsum_of_weights = a.shape[axis];\r\n\t}\r\n\r\n\tlet out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.divide)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.sum)(a, axis, null, keepdims), sum_of_weights);\r\n\r\n\tif (returned) return [out, sum_of_weights];\r\n\treturn out;\r\n}\r\n\r\nfunction mean(a, axis = null, out = null, keepdims = false) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\r\n\tif (axis == null) {\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel)(a);\r\n\t\taxis = 0;\r\n\t} else axis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, a.ndim);\r\n\r\n\tlet shape = [...a.shape.slice(0, axis), ...(keepdims ? [1] : []), ...a.shape.slice(axis + 1)];\r\n\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(shape);\r\n\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(shape, out.shape))\r\n\t\tthrow `out must have the same shape as the expected output`;\r\n\r\n\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.divide)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.sum)(a, axis, null, keepdims), a.shape[axis], out);\r\n\r\n\treturn out;\r\n}\r\n\r\nfunction variance(a, axis = null, out = null, ddof = 0, keepdims = false) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\r\n\tif (axis == null) {\r\n\t\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ravel)(a);\r\n\t\taxis = 0;\r\n\t} else axis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, a.ndim);\r\n\r\n\tlet shape = [...a.shape.slice(0, axis), ...(keepdims ? [1] : []), ...a.shape.slice(axis + 1)];\r\n\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(shape);\r\n\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(shape, out.shape))\r\n\t\tthrow `out must have the same shape as the expected output`;\r\n\r\n\tmean((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.square)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.subtract)(a, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.divide)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.sum)(a, axis, null, true), a.shape[axis] - ddof))), axis, out, keepdims);\r\n\r\n\treturn out;\r\n}\r\n\r\nfunction std(a, axis = null, out = null, ddof = 0, keepdims = false) {\r\n\tout = variance(a, axis, out, ddof, keepdims);\r\n\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.sqrt)(out, out);\r\n\treturn out;\r\n}\r\n\r\nfunction bincount(a, weights = null, minlength = 0) {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tif (a.ndim != 1) throw `a.dim != 1`;\r\n\tif ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.amin)(a) < 0) throw `amin(a) < 0`;\r\n\tif (minlength < 0) throw `minlength < 0`;\r\n\r\n\tif (weights != null) {\r\n\t\tweights = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(weights);\r\n\t\tif (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(weights.shape, a.shape)) throw `weights.shape != a.shape`;\r\n\t\tweights = weights.toarray();\r\n\t}\r\n\r\n\tlet data = Array(Math.max((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.amax)(a) + 1, minlength)).fill(0);\r\n\tlet i = 0;\r\n\tfor (let n of a.flat) {\r\n\t\tdata[n] += weights != null ? weights[i] : 1;\r\n\t\ti++;\r\n\t}\r\n\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray([data.length], data);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tptp,\r\n\t\t() =>\r\n\t\t\tptp(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[4, 9, 2, 10],\r\n\t\t\t\t\t[6, 9, 7, 12],\r\n\t\t\t\t]),\r\n\t\t\t\t1\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([8, 6])\r\n\t)\r\n\t.add(\r\n\t\tptp,\r\n\t\t() =>\r\n\t\t\tptp(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[4, 9, 2, 10],\r\n\t\t\t\t\t[6, 9, 7, 12],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 0, 5, 2])\r\n\t)\r\n\t.add(\r\n\t\tptp,\r\n\t\t() =>\r\n\t\t\tptp(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[4, 9, 2, 10],\r\n\t\t\t\t\t[6, 9, 7, 12],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() => 10\r\n\t)\r\n\t.add(\r\n\t\tptp,\r\n\t\t() => ptp((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.power)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(10, 40), 2).reshape(5, 2, 3), 0, null, true),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[1056, 1104, 1152],\r\n\t\t\t\t\t[1200, 1248, 1296],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\taverage,\r\n\t\t() => average((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(1, 5)),\r\n\t\t() => 2.5\r\n\t)\r\n\t.add(\r\n\t\taverage,\r\n\t\t() => average((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(1, 11), undefined, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(10, 0, -1)),\r\n\t\t() => 4.0\r\n\t)\r\n\t.add(\r\n\t\taverage,\r\n\t\t() => average((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6).reshape(3, 2), 1, [1 / 4, 3 / 4]),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0.75, 2.75, 4.75])\r\n\t)\r\n\t.add(\r\n\t\taverage,\r\n\t\t() => average((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6).reshape(3, 2), 1, undefined, undefined, true),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[0.5], [2.5], [4.5]])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tmean,\r\n\t\t() =>\r\n\t\t\tmean(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() => 2.5\r\n\t)\r\n\t.add(\r\n\t\tmean,\r\n\t\t() =>\r\n\t\t\tmean(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 3])\r\n\t)\r\n\t.add(\r\n\t\tmean,\r\n\t\t() =>\r\n\t\t\tmean(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t]),\r\n\t\t\t\t1\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1.5, 3.5])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tvariance,\r\n\t\t() =>\r\n\t\t\tvariance(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() => 1.25\r\n\t)\r\n\t.add(\r\n\t\tvariance,\r\n\t\t() =>\r\n\t\t\tvariance(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 1])\r\n\t)\r\n\t.add(\r\n\t\tvariance,\r\n\t\t() =>\r\n\t\t\tvariance(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t]),\r\n\t\t\t\t1\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0.25, 0.25])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tstd,\r\n\t\t() =>\r\n\t\t\tstd(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t])\r\n\t\t\t),\r\n\t\t() => 1.118033988749895\r\n\t)\r\n\t.add(\r\n\t\tstd,\r\n\t\t() =>\r\n\t\t\tstd(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t]),\r\n\t\t\t\t0\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 1])\r\n\t)\r\n\t.add(\r\n\t\tstd,\r\n\t\t() =>\r\n\t\t\tstd(\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t]),\r\n\t\t\t\t1\r\n\t\t\t),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0.5, 0.5])\r\n\t);\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\tbincount,\r\n\t\t() => bincount((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(5)),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 1, 1, 1, 1])\r\n\t)\r\n\t.add(\r\n\t\tbincount,\r\n\t\t() => bincount((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 1, 3, 2, 1, 7])),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1, 3, 1, 1, 0, 0, 0, 1])\r\n\t)\r\n\t.add(\r\n\t\tbincount,\r\n\t\t() => bincount((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 1, 2, 2, 2]), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0.3, 0.5, 0.2, 0.7, 1, -0.6])),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0.3, 0.7, 1.1])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/statistics.mjs?");

/***/ }),

/***/ "./core/swapaxes.mjs":
/*!***************************!*\
  !*** ./core/swapaxes.mjs ***!
  \***************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"swapaxes\": () => (/* binding */ swapaxes)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction swapaxes(a, axis1, axis2) {\r\n\tlet { strides, shape, data, offset, base, itemsize } = a;\r\n\r\n\tstrides = strides.slice();\r\n\tshape = shape.slice();\r\n\r\n\tlet x = strides[axis1];\r\n\tlet y = shape[axis1];\r\n\r\n\tstrides[axis1] = strides[axis2];\r\n\tshape[axis1] = shape[axis2];\r\n\r\n\tstrides[axis2] = x;\r\n\tshape[axis2] = y;\r\n\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(shape, data, base, strides, offset, itemsize);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tswapaxes,\r\n\t() => {\r\n\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1, 2, 3]]);\r\n\t\treturn swapaxes(x, 0, 1);\r\n\t},\r\n\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[1], [2], [3]])\r\n);\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\tswapaxes,\r\n\t() => {\r\n\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[\r\n\t\t\t\t[0, 1],\r\n\t\t\t\t[2, 3],\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t[4, 5],\r\n\t\t\t\t[6, 7],\r\n\t\t\t],\r\n\t\t]);\r\n\t\treturn swapaxes(x, 0, 2);\r\n\t},\r\n\t() =>\r\n\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t[\r\n\t\t\t\t[0, 4],\r\n\t\t\t\t[2, 6],\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t[1, 5],\r\n\t\t\t\t[3, 7],\r\n\t\t\t],\r\n\t\t])\r\n);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/swapaxes.mjs?");

/***/ }),

/***/ "./core/take.mjs":
/*!***********************!*\
  !*** ./core/take.mjs ***!
  \***********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"take\": () => (/* binding */ take)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction clip(n, min, max) {\r\n\treturn n < min ? min : n > max ? max : n;\r\n}\r\n\r\nfunction _indices(indices, mode, size) {\r\n\tlet newindices = [];\r\n\tif (mode == 'wrap') {\r\n\t\tfor (let index of indices) {\r\n\t\t\tindex = index % size;\r\n\t\t\tindex = index < 0 ? index + size : index;\r\n\t\t\tnewindices.push(index);\r\n\t\t}\r\n\t} else if (mode == 'clip') {\r\n\t\tfor (let index of indices) {\r\n\t\t\tindex = clip(index, 0, size - 1);\r\n\t\t\tnewindices.push(index);\r\n\t\t}\r\n\t} else if (mode == 'raise') {\r\n\t\tfor (let index of indices) {\r\n\t\t\tif (index < -size || index >= size)\r\n\t\t\t\tthrow `index ${index} is out of bounds for axis 0 with size ${size}`;\r\n\t\t\tindex = index < 0 ? index + a.size : index;\r\n\t\t\tnewindices.push(index);\r\n\t\t}\r\n\t} else throw `unexpected mode = ${mode}`;\r\n\treturn newindices;\r\n}\r\n\r\nfunction take(a, indices, axis = null, out = null, mode = 'raise') {\r\n\ta = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(a);\r\n\tindices = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)(indices);\r\n\tif (axis == null) {\r\n\t\tindices.data = _indices(indices.data, mode, a.size);\r\n\r\n\t\tlet newshape = indices.shape;\r\n\r\n\t\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(newshape);\r\n\t\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(out.shape, newshape))\r\n\t\t\tthrow 'output array does not match result of ndarray.take';\r\n\r\n\t\tfor (let i = 0; i < indices.size; i++) {\r\n\t\t\tout.data[i] = a.item(indices.data[i]);\r\n\t\t}\r\n\r\n\t\treturn out;\r\n\t} else {\r\n\t\tif (axis < 0) axis += a.ndim;\r\n\r\n\t\tindices.data = _indices(indices.data, mode, a.shape[axis]);\r\n\r\n\t\tlet newshape = a.shape.slice();\r\n\t\tnewshape.splice(axis, 1, ...indices.shape);\r\n\r\n\t\tif (out == null) out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(newshape);\r\n\t\telse if (!(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.shallow_array_equal)(out.shape, newshape))\r\n\t\t\tthrow 'output array does not match result of ndarray.take';\r\n\r\n\t\tlet rest = Array(axis).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\t\tfor (let index of (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ndindex)(indices.shape)) {\r\n\t\t\tout.get(...rest, ...index).set(a.get(...rest, indices.item(index)));\r\n\t\t}\r\n\r\n\t\treturn out;\r\n\t}\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\t'take',\r\n\t\t() => {\r\n\t\t\tlet a = [4, 3, 5, 7, 6, 8];\r\n\t\t\tlet indices = [0, 1, 4];\r\n\t\t\treturn take(a, indices);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([4, 3, 6])\r\n\t)\r\n\t.add(\r\n\t\t'take',\r\n\t\t() => {\r\n\t\t\tlet a = [4, 3, 5, 7, 6, 8];\r\n\t\t\treturn take(a, [\r\n\t\t\t\t[0, 1],\r\n\t\t\t\t[2, 3],\r\n\t\t\t]);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[4, 3],\r\n\t\t\t\t[5, 7],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'take',\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[3, 4],\r\n\t\t\t\t[5, 6],\r\n\t\t\t\t[7, 8],\r\n\t\t\t]);\r\n\t\t\treturn take(\r\n\t\t\t\ta,\r\n\t\t\t\t[\r\n\t\t\t\t\t[0, 1],\r\n\t\t\t\t\t[2, 3],\r\n\t\t\t\t],\r\n\t\t\t\t0\r\n\t\t\t);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[5, 6],\r\n\t\t\t\t\t[7, 8],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'take',\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 2],\r\n\t\t\t\t[3, 4],\r\n\t\t\t\t[5, 6],\r\n\t\t\t\t[7, 8],\r\n\t\t\t]);\r\n\t\t\treturn take(\r\n\t\t\t\ta,\r\n\t\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t[0, 1],\r\n\t\t\t\t\t\t\t[0, 1],\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t],\r\n\t\t\t\t]),\r\n\t\t\t\t1\r\n\t\t\t);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t[3, 4],\r\n\t\t\t\t\t\t\t[3, 4],\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t[5, 6],\r\n\t\t\t\t\t\t\t[5, 6],\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t],\r\n\t\t\t\t],\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t[7, 8],\r\n\t\t\t\t\t\t\t[7, 8],\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t],\r\n\t\t\t\t],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\t'take',\r\n\t\t() => {\r\n\t\t\tlet a = [\r\n\t\t\t\t[5, 6, 2, 7, 1],\r\n\t\t\t\t[4, 9, 2, 9, 3],\r\n\t\t\t];\r\n\t\t\tlet indices = [0, 4];\r\n\t\t\treturn take(a, indices, 1);\r\n\t\t},\r\n\t\t() => [\r\n\t\t\t[5, 1],\r\n\t\t\t[4, 3],\r\n\t\t]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/take.mjs?");

/***/ }),

/***/ "./core/test/Tester.mjs":
/*!******************************!*\
  !*** ./core/test/Tester.mjs ***!
  \******************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Tester\": () => (/* binding */ Tester),\n/* harmony export */   \"tester\": () => (/* binding */ tester),\n/* harmony export */   \"timeit\": () => (/* binding */ timeit),\n/* harmony export */   \"timeit2\": () => (/* binding */ timeit2)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction default_compare(a, b) {\r\n\tif (a == b) return true;\r\n\tif (Array.isArray(a) && Array.isArray(b)) {\r\n\t\tif (a.length != b.length) return false;\r\n\t\tfor (let i = 0; i < a.length; i++) {\r\n\t\t\tif (!default_compare(a[i], b[i])) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\tif (typeof a == 'boolean' && typeof b == 'boolean') return a == b;\r\n\tif (Number.isNaN(a) && Number.isNaN(b)) return true;\r\n\tif (typeof a == 'number' && typeof b == 'number') return a == b;\r\n\tif (typeof a == 'string' && typeof b == 'string') return a == b;\r\n\r\n\tif (a?.toarray != undefined) return default_compare(a.toarray(), b);\r\n\tif (b?.toarray != undefined) return default_compare(a, b.toarray());\r\n\r\n\tif (a?.constructor != b?.constructor) return false;\r\n\tlet a_keys = Object.getOwnPropertyNames(a);\r\n\tlet b_keys = Object.getOwnPropertyNames(b);\r\n\tif (a_keys.length != b_keys.length) return false;\r\n\r\n\tfor (let i = 0; i < a_keys.length; i++) {\r\n\t\tif (!default_compare(a[a_keys[i]], b[b_keys[i]])) return false;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction _print(a) {\r\n\tif (a instanceof _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray) a = `NDArray(${JSON.stringify(a.toarray())})`;\r\n\tif (Array.isArray(a)) return JSON.stringify(a);\r\n\treturn a;\r\n}\r\n\r\nclass Tester {\r\n\tcompare = default_compare;\r\n\tconstructor() {\r\n\t\tthis.tasks = {};\r\n\t\tthis._onload = [];\r\n\t}\r\n\tonload(fn) {\r\n\t\tthis._onload.push(fn);\r\n\t}\r\n\tadd(name, test, expected, compare = this.compare) {\r\n\t\tif (typeof name == 'function') name = name.name;\r\n\t\tlet tasks = this.tasks[name] ?? (this.tasks[name] = []);\r\n\t\ttasks.push({ test, expected, compare });\r\n\t\treturn this;\r\n\t}\r\n\trun(name) {\r\n\t\tif (name == undefined) {\r\n\t\t\tlet status = true;\r\n\t\t\tfor (let name of Object.keys(this.tasks)) {\r\n\t\t\t\tstatus = this.run(name) && status;\r\n\t\t\t}\r\n\t\t\tlet color = (status ? '\\x1b[32m' : '\\x1b[31m') + '%s\\x1b[0m';\r\n\t\t\tconsole.log(color, `Status: ${status}, Total: ${Object.keys(this.tasks).length}`);\r\n\r\n\t\t\tthis._onload.forEach(fn => fn());\r\n\t\t\treturn status;\r\n\t\t}\r\n\t\tlet tasks = this.tasks[name];\r\n\t\tif (tasks == undefined) throw 'no such name';\r\n\t\tlet caseNo = 1;\r\n\t\tlet n_passed = 0;\r\n\t\tlet stored = [];\r\n\t\tfor (let task of tasks) {\r\n\t\t\tlet { test, expected, compare } = task;\r\n\t\t\tlet passed = false;\r\n\t\t\tlet a, b;\r\n\t\t\tlet hasError = false;\r\n\t\t\ttry {\r\n\t\t\t\ta = test();\r\n\t\t\t} catch (error) {\r\n\t\t\t\ta = `[Error]: ${error}`;\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\thasError = true;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tb = expected();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tb = `[Error]: ${error}`;\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\thasError = true;\r\n\t\t\t}\r\n\t\t\tif (!hasError) passed = compare(a, b);\r\n\t\t\tif (passed) n_passed++;\r\n\t\t\tlet color = (passed ? '\\x1b[32m' : '\\x1b[31m') + '%s\\x1b[0m';\r\n\t\t\tstored.push([\r\n\t\t\t\tcolor,\r\n\t\t\t\t`#${caseNo}: ${passed ? 'passed' : 'fail'}`,\r\n\t\t\t\t`\\n\\tTest=`,\r\n\t\t\t\t_print(a),\r\n\t\t\t\t`\\n\\tExpected=`,\r\n\t\t\t\t_print(b),\r\n\t\t\t]);\r\n\t\t\tcaseNo++;\r\n\t\t}\r\n\t\tlet color = (n_passed == tasks.length ? '\\x1b[32m' : '\\x1b[31m') + '%s\\x1b[0m';\r\n\t\tconsole.log(color, `Testing ${name}: ${n_passed} / ${tasks.length} cases passed`);\r\n\t\tif (n_passed != tasks.length) {\r\n\t\t\tfor (let msg of stored) {\r\n\t\t\t\tconsole.log(...msg);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn n_passed == tasks.length;\r\n\t}\r\n}\r\n\r\nlet tester = new Tester();\r\nfunction timeit2(func, duration = 1000) {\r\n\tlet start = performance.now();\r\n\tlet end;\r\n\tlet count = 0;\r\n\twhile (true) {\r\n\t\tfunc();\r\n\t\tcount++;\r\n\t\tend = performance.now();\r\n\t\tif (end - start >= duration) break;\r\n\t}\r\n\tlet ops = count / ((end - start) / duration);\r\n\tconsole.log(`ops: ${ops} per sec`, func);\r\n}\r\n\r\nfunction timeit(\r\n\trun,\r\n\t{\r\n\t\tname = 'test',\r\n\t\tsetup = null,\r\n\t\tduration = 1000,\r\n\t\twarmup = 100,\r\n\t\tcycle = 'auto',\r\n\t\tcycle_duration = 100,\r\n\t\trepeat = 'auto',\r\n\t\tverbose = false,\r\n\t} = {}\r\n) {\r\n\tlet out = setup?.();\r\n\tif (cycle_duration > duration) cycle_duration = duration;\r\n\tif (repeat == 'auto') {\r\n\t\trepeat = (duration / cycle_duration) | 0;\r\n\t}\r\n\tif (cycle == 'auto') {\r\n\t\tlet n = 1;\r\n\t\tlet interval;\r\n\t\twhile (true) {\r\n\t\t\tlet start = Date.now();\r\n\t\t\tfor (let i = 0; i < n; i++) run(out);\r\n\t\t\tinterval = Date.now() - start;\r\n\t\t\tif (interval > cycle_duration) break;\r\n\t\t\tn *= 2;\r\n\t\t}\r\n\t\tcycle = Math.max(((n / interval) * (duration / repeat)) | 0, 1);\r\n\t}\r\n\tlet history = [];\r\n\tfor (let i = 0; i < warmup; i++) run(out);\r\n\tfor (let i = 0; i < repeat; i++) {\r\n\t\tlet start = Date.now();\r\n\t\tfor (let i = 0; i < cycle; i++) run(out);\r\n\t\tlet ops = cycle / ((Date.now() - start) / 1000);\r\n\t\thistory.push(ops);\r\n\t}\r\n\tlet n = history.length;\r\n\tlet mean = history.reduce((a, b) => a + b) / n;\r\n\tif (verbose) {\r\n\t\tlet max = Math.max(...history);\r\n\t\tlet min = Math.min(...history);\r\n\t\tlet diff = Math.max(max - mean, mean - min);\r\n\t\tconsole.log(`#${name} ${mean | 0}  ${((diff / mean) * 100).toFixed(2)}% ops/sec (${repeat} runs)`);\r\n\t}\r\n\treturn mean;\r\n}\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/test/Tester.mjs?");

/***/ }),

/***/ "./core/transpose.mjs":
/*!****************************!*\
  !*** ./core/transpose.mjs ***!
  \****************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"transpose\": () => (/* binding */ transpose)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction _axes(axes, ndim) {\r\n\tif (axes.length != ndim) throw `axes don't match array`;\r\n\tlet newaxes = [];\r\n\tlet unique = {};\r\n\tfor (let i = 0; i < ndim; i++) {\r\n\t\tlet axis = axes[i];\r\n\t\tif (axis < -ndim || ndim <= axis)\r\n\t\t\tthrow `axis ${axis} is out of bounds for array of dimension ${i + 1}`;\r\n\t\tif (axis < 0) axis += ndim;\r\n\t\tif (unique[axis]) throw 'repeated axis in transpose';\r\n\t\tunique[axis] = true;\r\n\t\tnewaxes[i] = axis;\r\n\t}\r\n\treturn newaxes;\r\n}\r\n\r\nfunction transpose(a, axes = null) {\r\n\tlet { ndim, shape, strides, data, base, offset, itemsize } = a;\r\n\tlet newshape, newstrides;\r\n\tif (axes == null) {\r\n\t\tnewshape = shape.slice().reverse();\r\n\t\tnewstrides = strides.slice().reverse();\r\n\t} else {\r\n\t\taxes = _axes(axes, ndim);\r\n\t\tnewshape = Array(ndim);\r\n\t\tnewstrides = Array(ndim);\r\n\t\tfor (let i = 0; i < ndim; i++) {\r\n\t\t\tnewshape[i] = shape[axes[i]];\r\n\t\t\tnewstrides[i] = strides[axes[i]];\r\n\t\t}\r\n\t}\r\n\treturn new _core_mjs__WEBPACK_IMPORTED_MODULE_0__.NDArray(newshape, data, base ?? a, newstrides, offset, itemsize);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\ttranspose,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(4).reshape([2, 2]);\r\n\t\t\treturn transpose(x);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 2],\r\n\t\t\t\t[1, 3],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\ttranspose,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([1, 2, 3]);\r\n\t\t\treturn transpose(x, [1, 0, 2]);\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([[[1, 1, 1]], [[1, 1, 1]]])\r\n\t)\r\n\t.add(\r\n\t\ttranspose,\r\n\t\t() => {\r\n\t\t\tlet x = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ones)([2, 3, 4, 5]);\r\n\t\t\treturn transpose(x).shape;\r\n\t\t},\r\n\t\t() => [5, 4, 3, 2]\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/transpose.mjs?");

/***/ }),

/***/ "./core/trapz.mjs":
/*!************************!*\
  !*** ./core/trapz.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"trapz\": () => (/* binding */ trapz)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction trapz(y, x = null, dx = 1.0, axis = -1) {\r\n\ty = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(y);\r\n\tlet { ndim } = y;\r\n\taxis = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.normalize_axis_index)(axis, ndim);\r\n\tlet d = dx;\r\n\tif (x != null) {\r\n\t\tx = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.asarray)(x);\r\n\t\tif (x.ndim == 1) {\r\n\t\t\td = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.diff)(x);\r\n\t\t\tlet shape = Array(ndim).fill(1);\r\n\t\t\tshape[axis] = d.shape[0];\r\n\t\t\td = d.reshape(shape);\r\n\t\t} else {\r\n\t\t\td = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.diff)(x, null, axis);\r\n\t\t}\r\n\t}\r\n\tlet slice1 = Array(ndim).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\tlet slice2 = Array(ndim).fill((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)());\r\n\tslice1[axis] = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(1, null);\r\n\tslice2[axis] = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(null, -1);\r\n\tlet tmp;\r\n\ttmp = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.add)(y.get(...slice1), y.get(...slice2));\r\n\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(d, tmp, tmp);\r\n\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.divide)(tmp, 2.0, tmp);\r\n\r\n\treturn (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.sum)(tmp, axis);\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\ttrapz,\r\n\t\t() => trapz([1, 2, 3]),\r\n\t\t() => 4.0\r\n\t)\r\n\t.add(\r\n\t\ttrapz,\r\n\t\t() => trapz([1, 2, 3], [4, 6, 8]),\r\n\t\t() => 8.0\r\n\t)\r\n\t.add(\r\n\t\ttrapz,\r\n\t\t() => trapz([1, 2, 3], null, 2),\r\n\t\t() => 8.0\r\n\t)\r\n\t.add(\r\n\t\ttrapz,\r\n\t\t() => trapz([1, 2, 3], [8, 6, 4]),\r\n\t\t() => -8.0\r\n\t)\r\n\t.add(\r\n\t\ttrapz,\r\n\t\t() => trapz((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6).reshape(2, 3), undefined, undefined, 0),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([1.5, 2.5, 3.5])\r\n\t)\r\n\t.add(\r\n\t\ttrapz,\r\n\t\t() => trapz((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(6).reshape(2, 3), undefined, undefined, 1),\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([2, 8])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/trapz.mjs?");

/***/ }),

/***/ "./core/where.mjs":
/*!************************!*\
  !*** ./core/where.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"where\": () => (/* binding */ where)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"./core/core.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_core_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction where(condition, x = null, y = null) {\r\n\tif (x == null && y == null) return (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.nonzero)(condition);\r\n\tlet b = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.broadcast)(condition, x, y);\r\n\tlet out = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.empty)(b.shape);\r\n\tlet i = 0;\r\n\tfor (let [condition, x, y] of b) {\r\n\t\tout.data[i++] = condition ? x : y;\r\n\t}\r\n\treturn out;\r\n}\r\n\r\n_core_mjs__WEBPACK_IMPORTED_MODULE_0__.tester.add(\r\n\t\twhere,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.arange)(10);\r\n\t\t\treturn where((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.less)(a, 5), a, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.multiply)(10, a));\r\n\t\t},\r\n\t\t() => (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([0, 1, 2, 3, 4, 50, 60, 70, 80, 90])\r\n\t)\r\n\t.add(\r\n\t\twhere,\r\n\t\t() =>\r\n\t\t\twhere(\r\n\t\t\t\t[\r\n\t\t\t\t\t[true, false],\r\n\t\t\t\t\t[true, true],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[1, 2],\r\n\t\t\t\t\t[3, 4],\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t[9, 8],\r\n\t\t\t\t\t[7, 6],\r\n\t\t\t\t]\r\n\t\t\t),\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[1, 8],\r\n\t\t\t\t[3, 4],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\twhere,\r\n\t\t() => {\r\n\t\t\tlet [x, y] = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.ogrid)((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(':3'), (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.slice)(null, 4));\r\n\t\t\treturn where((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.less)(x, y), x, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.add)(10, y));\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[10, 0, 0, 0],\r\n\t\t\t\t[10, 11, 1, 1],\r\n\t\t\t\t[10, 11, 12, 2],\r\n\t\t\t])\r\n\t)\r\n\t.add(\r\n\t\twhere,\r\n\t\t() => {\r\n\t\t\tlet a = (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1, 2],\r\n\t\t\t\t[0, 2, 4],\r\n\t\t\t\t[0, 3, 6],\r\n\t\t\t]);\r\n\t\t\treturn where((0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.less)(a, 4), a, -1);\r\n\t\t},\r\n\t\t() =>\r\n\t\t\t(0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.array)([\r\n\t\t\t\t[0, 1, 2],\r\n\t\t\t\t[0, 2, -1],\r\n\t\t\t\t[0, 3, -1],\r\n\t\t\t])\r\n\t);\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/where.mjs?");

/***/ }),

/***/ "./core/zeros.mjs":
/*!************************!*\
  !*** ./core/zeros.mjs ***!
  \************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"zeros\": () => (/* binding */ zeros)\n/* harmony export */ });\n/* harmony import */ var _full_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./full.mjs */ \"./core/full.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_full_mjs__WEBPACK_IMPORTED_MODULE_0__]);\n_full_mjs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nfunction zeros(shape) {\r\n\treturn (0,_full_mjs__WEBPACK_IMPORTED_MODULE_0__.full)(shape, 0);\r\n}\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://$/./core/zeros.mjs?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/async module */
/******/ 	(() => {
/******/ 		var webpackQueues = typeof Symbol === "function" ? Symbol("webpack queues") : "__webpack_queues__";
/******/ 		var webpackExports = typeof Symbol === "function" ? Symbol("webpack exports") : "__webpack_exports__";
/******/ 		var webpackError = typeof Symbol === "function" ? Symbol("webpack error") : "__webpack_error__";
/******/ 		var resolveQueue = (queue) => {
/******/ 			if(queue && !queue.d) {
/******/ 				queue.d = 1;
/******/ 				queue.forEach((fn) => (fn.r--));
/******/ 				queue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));
/******/ 			}
/******/ 		}
/******/ 		var wrapDeps = (deps) => (deps.map((dep) => {
/******/ 			if(dep !== null && typeof dep === "object") {
/******/ 				if(dep[webpackQueues]) return dep;
/******/ 				if(dep.then) {
/******/ 					var queue = [];
/******/ 					queue.d = 0;
/******/ 					dep.then((r) => {
/******/ 						obj[webpackExports] = r;
/******/ 						resolveQueue(queue);
/******/ 					}, (e) => {
/******/ 						obj[webpackError] = e;
/******/ 						resolveQueue(queue);
/******/ 					});
/******/ 					var obj = {};
/******/ 					obj[webpackQueues] = (fn) => (fn(queue));
/******/ 					return obj;
/******/ 				}
/******/ 			}
/******/ 			var ret = {};
/******/ 			ret[webpackQueues] = x => {};
/******/ 			ret[webpackExports] = dep;
/******/ 			return ret;
/******/ 		}));
/******/ 		__webpack_require__.a = (module, body, hasAwait) => {
/******/ 			var queue;
/******/ 			hasAwait && ((queue = []).d = 1);
/******/ 			var depQueues = new Set();
/******/ 			var exports = module.exports;
/******/ 			var currentDeps;
/******/ 			var outerResolve;
/******/ 			var reject;
/******/ 			var promise = new Promise((resolve, rej) => {
/******/ 				reject = rej;
/******/ 				outerResolve = resolve;
/******/ 			});
/******/ 			promise[webpackExports] = exports;
/******/ 			promise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise["catch"](x => {}));
/******/ 			module.exports = promise;
/******/ 			body((deps) => {
/******/ 				currentDeps = wrapDeps(deps);
/******/ 				var fn;
/******/ 				var getResult = () => (currentDeps.map((d) => {
/******/ 					if(d[webpackError]) throw d[webpackError];
/******/ 					return d[webpackExports];
/******/ 				}))
/******/ 				var promise = new Promise((resolve) => {
/******/ 					fn = () => (resolve(getResult));
/******/ 					fn.r = 0;
/******/ 					var fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));
/******/ 					currentDeps.map((dep) => (dep[webpackQueues](fnQueue)));
/******/ 				});
/******/ 				return fn.r ? promise : getResult();
/******/ 			}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));
/******/ 			queue && (queue.d = 0);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./core/core.mjs");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});